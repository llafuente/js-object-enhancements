<!DOCTYPE html>

<!--
    This html layout is shamelessly lifted from TJ Holowaychuk's mocha project, with
    the following license.  All mods I made are available under the same license.

    (The MIT License)

    Copyright (c) 2011-2013 TJ Holowaychuk <tj@vision-media.ca>

    Permission is hereby granted, free of charge, to any person obtaining
    a copy of this software and associated documentation files (the
    'Software'), to deal in the Software without restriction, including
    without limitation the rights to use, copy, modify, merge, publish,
    distribute, sublicense, and/or sell copies of the Software, and to
    permit persons to whom the Software is furnished to do so, subject to
    the following conditions:

    The above copyright notice and this permission notice shall be
    included in all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
    IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
    CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
    TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
    SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->

<html>
  <head>
    <title>Coverage</title>
    <script>

headings = [];

onload = function(){
  headings = document.querySelectorAll('h2');
};

onscroll = function(e){
  var heading = find(window.scrollY);
  if (!heading) return;
  var links = document.querySelectorAll('#menu a')
    , link;

  for (var i = 0, len = links.length; i < len; ++i) {
    link = links[i];
    link.className = link.getAttribute('href') == '#' + heading.id
      ? 'active'
      : '';
  }
};

function find(y) {
  var i = headings.length
    , heading;

  while (i--) {
    heading = headings[i];
    if (y >= heading.offsetTop) {
      return heading;
    }
  }
}
</script>
<style>

body {
  font: 14px/1.6 "Helvetica Neue", Helvetica, Arial, sans-serif;
  margin: 0;
  color: #2C2C2C;
  border-top: 2px solid #ddd;
}

.template {
  display: none;
}

#coverage {
  padding: 60px;
}

h1 a {
  color: inherit;
  font-weight: inherit;
}

h1 a:hover {
  text-decoration: none;
}

.onload h1 {
  opacity: 1;
}

h2 {
  width: 80%;
  margin-top: 80px;
  margin-bottom: 0;
  font-weight: 100;
  letter-spacing: 1px;
  border-bottom: 1px solid #eee;
}

a {
  color: #8A6343;
  font-weight: bold;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

ul {
  margin-top: 20px;
  padding: 0 15px;
  width: 100%;
}

ul li {
  float: left;
  width: 40%;
  margin-top: 5px;
  margin-right: 60px;
  list-style: none;
  border-bottom: 1px solid #eee;
  padding: 5px 0;
  font-size: 12px;
}

ul::after {
  content: '.';
  height: 0;
  display: block;
  visibility: hidden;
  clear: both;
}

code {
  font: 12px monaco, monospace;
}

pre {
  margin: 30px;
  padding: 30px;
  border: 1px solid #eee;
  border-bottom-color: #ddd;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 0 10px #eee;
  -moz-box-shadow: inset 0 0 10px #eee;
  box-shadow: inset 0 0 10px #eee;
  overflow-x: auto;
}

img {
  margin: 30px;
  padding: 1px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 10px #dedede, 0 1px 5px #888;
  -moz-box-shadow: 0 3px 10px #dedede, 0 1px 5px #888;
  box-shadow: 0 3px 10px #dedede, 0 1px 5px #888;
  max-width: 100%;
}

footer {
  background: #eee;
  width: 100%;
  padding: 50px 0;
  text-align: right;
  border-top: 1px solid #ddd;
}

footer span {
  display: block;
  margin-right: 30px;
  color: #888;
  font-size: 12px;
}

#menu {
  position: fixed;
  font-size: 12px;
  overflow-y: auto;
  top: 0;
  right: 0;
  margin: 0;
  height: 100%;
  padding: 15px 0;
  text-align: right;
  border-left: 1px solid #eee;
  -moz-box-shadow: 0 0 2px #888
     , inset 5px 0 20px rgba(0,0,0,.5)
     , inset 5px 0 3px rgba(0,0,0,.3);
  -webkit-box-shadow: 0 0 2px #888
     , inset 5px 0 20px rgba(0,0,0,.5)
     , inset 5px 0 3px rgba(0,0,0,.3);
  box-shadow: 0 0 2px #888
     , inset 5px 0 20px rgba(0,0,0,.5)
     , inset 5px 0 3px rgba(0,0,0,.3);
  -webkit-font-smoothing: antialiased;
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABmCAMAAAAOARRQAAABelBMVEUjJSU6OzshIyM5OjoqKy02NjgsLS01NTYjJCUzNTUgISMlJSc0NTUvMDA6PDwlJyg1NjYoKis2NjYrLS02ODkpKyw0NDYrLC04ODovLzA4Ojo0NDUtLy86OjwjIyU4OTosLS82ODgtLS8hIyQvMTEnKCooKSsrKy0qLCwkJSUnKCkrLCwpKiwwMjIxMzMqLC0tLS0pKissLC00NTYwMDIwMTQpKysoKSovMDEtLzA2OTkxMzUrKywvLy8qKyszNTY5OzsqKiw6OjswMDExNDUoKiozNDUvMDIyNDY1Njg2Njk5OTozMzU0NjY4ODkiIyUiIyQ4OTkuMDEmKCowMjQwMTErLS4qKywwMTMhIiMpKiopKy0tLjAkJScxNDQvLzExNDYyNDQmKCk5OTslJig5OjskJSYxMzQrLS8gISIwMTIoKCk1NTUlJSUnJygwMDA4ODgiIiMhISI8PDw6Ojo5OTkpKSojIyQ7OzsyMjIpKSssLCw6Ozw1NjlrfLakAAAg2UlEQVR42jR6i3ea6rYvPgANIAhVXh8WvkQlioUiFlFcBtAmoiRNdzxqu9p0J7vrdK29zuPeex77nnvO/35n1r1ndHRktI0jTOacv/l7lCBK5UqVpOha/YxmWK7BC4TQFKVXrbYsnimqxuuMVlOQ0XltWjUdCwRJ1M+tC1KudOs9q6+da2adUewG0SC0SwELfHtgDds93VEuydEbl3QMWeNoYkR7b/0x1ZRobGI3mLwzAhePqTAwhg6aogjNsGy7/jwQ4rkdqe7CWLxF8k9LfMVFyRS7VJqtkrW8Vt/bkR8FZJao16ipknbC3Yw2lM7laO6HBEOadEZ2tpf65c4v8e3u7FyU6qbiNNyCuzXZ6pawgnwgmrpTT/Q7w2EZmiIJ0dzWDI7mhQ80IfRnMu2kzA5r5r1pIFoia+/d93HRYp1GV8TbrkWoU/+jdI0Ff6yGwTjT1Hn8J+8m1rKpGiYPuNiHnMtNMIv+zpsk84MYTNW1/+DpwXLvckdOCMYowVNPREe0QlM8xRHXXFhcNDzupwsSmb5pH+0t0RP2Qk+QtI7F1Qm6JRC6ZPBtPq/dq/kH+jxtCljn9TIpW6rQIgmSVyj6lPICIw4N/taka41PFUInth0je9+jO6Kt1G4/a7V2LEgG02B0pHVuCZrgltSKMuIl5SyufUv9mYuQi+mFgzbBEtFo2g+Dh4sSTrLNu8JPh00sQydpb00tqXBvqRN7Q7kqzcnIxCGnvZt/WmJacoOEO6Dcn8Qre03pOCSQxbMOXUuDNx9SxuLz4W1I18gvjViQ67zV0rxdWL8Te/TQkuo8STS41DR48W7L6YP2uWIqiUV8rd6Gbf/rnegKZeG8TpAM6afhGze9JAOxbLjsnUXEbrZ9vLYd7MT32cPF5mKKxmjy7huaoD9n62GOxni3iIJwv0IzZAZjdZkUtolCNLVfYZNaquFjGszVVf+J0vrz4CawoKdHnOzb0NMH7CDBOybfYNJ4rfeMyFNjkFYVTzMFs87rnPGXLUOeNKRVc0LnU7/UIgelzsy3CMuth0YfvnY0wsD3vODUL3eJcKqHQpm8yM3XZQWJxO6Un9iYloyyLpOwN2obHy6W6gbpcb44XmyC+mg+itAcaprGcrwZCqMj/GmtKn0zPvpTz/Cv1dw21XwP3cRupg3H3MF/S71eTKj1YrdwKdc2Mw0fRmb2sFf8lW3aU6JbIZSEPqvXvjM7G/aApyXlXeqKfMq0g/Su3rUGJPSPrtGElgknrZM3xUXqsAP6zMCNVn5u8aJnSNpJv2uru7t2jfRziW2+GuhqfldUNbPk71olwo+46ePUo1U3WKk/e5YK07F/wGRgcpODmQnIlVeHCWBE4puBi2jq28UKpqiN1/4UOrGz59TNYrrQHtd+11sG40BGD+pXdelNqGOg4NXe8W4eacJV/NS9/2Umtym6WQqveqR9xdCMElpxnbkalM4Vf9uaEcWZaKdyibEIjWKxJZPN95niCL3GiaXyssIrHxoLkqkzLCXULN46/f2h3tQJgyip+Tk9EAjJ9aJshq7t8X45aowSKspMSvPf7r9R8yxNptIaHS5ozuEm6luPDApugyNP8OaqiQ4BjaequXA54SLC83eHIY2r+CZp4409Xqw8Aa2oI7XkCrQi+in0w5AqF/kLNrcUz+qkl/lAobY1jSnx5OJNhyXIz3qfNFlXc0TKaglNwdWkWYt9QQ1Kr6W8zue21iNrdJk+N5oCr2O9nEtWKC7IS5J/zdDEYrmnAYfg6agCy+qcgz7ZofeDc4PbUWSvkshWuAc7OjiUyLkj+RAtdlwXJcjxdpkTTHDhK8lBCi8+JtvDVL1W6elmOM++YS0LuSlaP1oUvAeiW3cFnvTr8EbTz1tsSMYdGeZe40sRWu5uAfj7q+ZoKv2FNQ0p5XY1lmlcigHZqTPpabufEVrNuNPi165w3uCVQJHyJqmSJ7ZHnguqwtCmwViIJijj04ba2JNYtB+yORf5gg1/9t9iw4vUpeqiunSAbf+IBdj/b+iG2qrHvuNP0Vd/+ThVZT/lrvHYjjgDbbyxaqgHNM2uhxa1GW3UedZYhMMwM4mQhltouK+IV4NdbIQNM+8Yv311RZk9kT4tiYR4LkyFcuPpdcjuhUuFqBAWRZa11lcZ3gEBlXywsNhrt+plISZP5DlsV9l4EgY6J3yZPTUcMrgaWAT3oI79eSbGEbcJpr6BD8kyDiVt+G0/hXosQN4NFXKlfWIfsIs0BHODVok1/IGnKFHJYIquh8Xo+2+bkQNTGgWmN/fZ0Y33LSj6lr1GyV7mWIKg7ZTRZPGuhF/zjRNcQ1UPtSYgnWQxSs0yrVhwNDcdGMNSNe2JT3WuzbAM3HykyAajS3Uphf6STKEqxLas9EnmnhA/lyj9Uj+JoY7SVgVmGLl46Rm2u98sbkap2lzAdKBG4r6LgulQOSSjQv1GWdQ0jtDUK/mAaqM1Uqjpu4k3Rvfvxv7YTxLSK+wN3E5jVIzmF23uZ7hiH/sVP49D7tvoKp4S8b1LuvRlivVB/algbhcFITYVXvDpLzpDfplR2uD5V4XJFxpjmIpLc9Y5sB2TpBRix7Bme6GZIq+06v3XzNeTcA4obQIKxrnT4C2JpOqD92dbmSX8MGazly5EsZVMvSU1f4RZwyu8iQXbVdeLlZrjuTT1jrY1uk5c7iZ7RsvhhluqAkq4JpVQAg7RJFtSu+xgJ8Pv6O1j5DkLxT8mkbfyRW5DrQmG7hiDIjCgBsADbjuof6YHLGeV6a5Q1Smx9joUXPpdaaDx97A/Wq00oJkdR7ZYuQRfS533JtxO1erduqWOYIt3wh0wpbLuCNIYkwxbswbikCUu2CDCS+Q+7rgVtfRcm+SOcdKPRlZ/rE7wNVUEE39KTS5uvUKN1PUnkloPkyzhyGQ8qkouEjJ3H/VXdqG6asSRiw3ecMlBvDDt8dDhBHXMwZ2Cajzjr7/76T+IavqPYvz6r7//E/3X3+N//h/0QozbjPgPiir69P/8X3/9F/yv8b/827/++98WItPu5/Hvwd8YPf5bp/2/lX/T/+Of/0MJ/lYTa+L/Ef+d9vN/3/2T6P/+jyTzu/evf6U7vxN7B6pJkRtAF6jUr8I+P8RsP/ptGhfqFk+pQ/DgAy6NJtRYJdXmp4gK7WLqLKJ+MaKhGjOojvL+SnIWrkpy0SLHDe4QuyNzaEA15mLMCcmE8Em+4HdOihW4/ZWuppJEmzeAwcDtv7MuLc9y2V5atvxXNe3S4DUMt5/Qy2LM9kSYKiVWBuKlfp4nxTntpuW03JbIlkiRvBXmT23g1I2OYe6IizUHPIq6zm6mbfsbteKmi/sg9J+ocQBMctGFO7iljo8TPN+z3jxw4do+ZwfqoR9dkNTKHyM305GpTkfhcHexVkPVGEbUOjuo9f0UMPHBFlGEx0SLvJvVRKTwW7PSew5oPme+E42+frJa9cGt2njS3dK5kIif2eYbhuSEQXEqMVfUjhGIuin0G0/W5ezJyJQy3SpMLai4M0JUWb5u1k9tny5bd1pPwYBpQuDCXZl62xg4CdVEAtflXHs6JKmP/pH6mOl796Lgopj0o8d5kKh00hxG3OSdEE/QBo9Hgr8JJqAeLDwJohG5j/DGh61Rc/+tf22/8kEnxHNCEjo0ElvvGfESZkqmz2BDcKV1H1buSkhkdg7p1IMGs2s17nYjpblrWuE2K9WEO/hcRp5e9oOF/QBmOaDtgil+oaU6szPrdwW65fOB0KUTsVUn7LFU7J8e6cxJIl9+FHw5MQMzuQJ+4oxMH3iW/5GK+hWuG0T+gTLs+fAjdtUd58TmIUq04EeyRCYCjkldow234aIgR5bqwrtZosZ+6YEqAmDqatJ9lWasz4IquKALPtd92hGI3Z2BdzzZue+REl1Om4DIWD+RrtUTOJLI+S0jHowXXdAxsGLSd40zYNuEUlOGhrwL6c7tcOtUOvpJCP7QBQS19H+GvZn05ewjlVLz+IGKoC9TyfQjLMBNmXCuqqtTdOSukZW48B0HqgSTCBrBnlFvF4CG2Su7yFzqmJFURK3UmTT3ru050r0ptUpMilYnBJWfl2Bv6kPlUuE1kxxpdzui9AubsR2N2boVSu81OulAwBqoSr1LZ0LLYOomyZHmjqnXlP72s8LnDouEJjtodBvdHaG1jMySYO7crWd90MpCRyCG14vb5IE7Arupw/y/RcCm/Tm3zK6zYj8PYNaGldiUfkB/LHWcmf2lVM+mwyU27a0qq2tscrQ/vzBjN26DnntIrOyGizzXK35yKQdYnUABkyN4saz3WD/viF+eCcsXnIajdWYJWaYHRstIis9CS+tqnFGmz2j5uzfr3Z4prqgK4XOT/PyftvjZqIm8lhkfxJ7Ol3CJF1piYBGAG8wtAk56Drw1YwmOpcz+NdfkSpSLplRXLXHL0Rquj6YW/gabqgK7Dgr6NwtH0B/AN7XrN+MVJ6AmXmUuqmQulrNNYPmH0RoDogydOKLo/QbfYNARSQQKISRCzRXU+q9WWJFL3LZW6u34CkeG97xC0NNGaJ0bvK6SnZS3zPskr5EtuCgjMWR5o2x5BqhKmDWJPRe7JMEOyRb5uUKlHaGVtq5ivSOaSliSXp9SQm2qk8MRJh10MAp9QQ2H5t59J8rjiwSZtoIfMGjlLPVNdYl/LBR0AO6WLGDmkLkIPRE45Y9MftdAK/yNu1Hn6tzOQTesgQ+8fSzB19wO91vCnO23vOWQdwJ63SJrYjdfKFW6W281PKs2k8iT9ai1cgJ4sa3xqdvmtxR8/+D1B8AKc2u+6JftryRhMWSQtoSBgIyyQGyxcnELuAasXN12oSriU4RMz1DD6RL0TSV+om7i1Yt+jEE/jnawM8cX/UhN4nkiv/w9eALrzNhXuQfOzFL0Fi6SjF7/4Qn8rLYBoa85cvgAnkCEBP+HPbEnquVXCZsMS/yzYw2Vru60P/+nJPYKkzZFjmbykzUoEqV836T5q3fP/L383dF82tx18/AZgZczMAgyeWYKmSZIqtHL+e+O4ZRcq9VI3g/qPeCoiK4pcgEqdbS0S/Be54sbVQOuJVPNBblIghzeasNu7h/g+Sz1IdhI5lCwq1nUb3Ji4OCIcqQZqtqJ5w7rXrg/DA9IgVmEGhDgGecEwnCTHffXcXs0V3OCEVzYDKS1vp/oX+ng+6XVU86UjA6FMO2RXOOOrqY1GgPvrAk9HV/BXtCu5RuwF8qgdGDLsBcui4E33ymdBip1X8uKyhIWT8qNRDsXz+gvO9UiEC0d8RG4Tf2x8H4slljgHtCBcxHLTWOYJm5H/fCPCzOgf9qgOUxTRZ0Pc6ha5yLuLVT9ntvIa6gacE99mCovdUumTQdRP4RPsS9129eEe2uSvvGh0bV4Y3QPPhPZMqhZWSMa5R0Hc1SGO4IVOQc0FrirlibTVfKRrYkD8kz3b+X65/QkUNaZdrdl3mCap0Hf3YcCw/LiouJYNbqz88UqeDYv93yO7vvXtgl4XCyAO4ODkY6W+83+LZU//p3/zXNGGrUKClCiOnL27iJZbNWDF02XXAOeFlB7IaADoMH1Yqr+UP9biyZDEa/iJt4MDeIz6GKTdLVBfWGVtRN4fdT2rgReX8UXwF2zOrradm4J0nyTgdPnai3RvzpZvCKDUqjOwD/QA6EDaMCLewX6QWYVnHY1sx1bd8ovYnPm1ZvPH+rE20lWjOCnZ66/xDt0QAl15FjfBcZp+i9OU0RNPQ0t3x2pSNWo8eiYudwsnuP1Hq6iH1LJCJynkYsfgJ0p3pF6SoQk2l+jqE8CPk+ziGJRSKjs+W5AO185umPdkYzlK4wl7TC9NxyyDP7ZoyYVoXiuS6SjnInlLWrwz1i8bGTKXX0AVQWkSfIlglW3zRJRJ8bg5VgE6ZEnqNu9B++0GNQvDQJvFize4ESNKBJP+8vA3LM4AX5SIBq08Mob+7QMTCZx4nwP/64+4BnlZC+8WtlP/CXw6t1PwMwkJ3jhP1FiXLhDF/3I6FGUzO2DSi9ABxKyyL9paZxSEz40ZCPQToDAJu1959k7QdbVxgB4icsu2s4zsTPJhcEDo+N1GX4zSk/wriRh8AqwL62972i9HJHd1ydaLXVzvKvOfGGw5RVcUVMiKXFH4APdkQU/dc5BX0YfKTNZYXCW9mb8bc8mufoQP6BbdQmT99ZjoYfr/go4TgQX9IDgztim7wyFeGMfbNaeqj8Dzs38pgcqwSv2hbqB3oSGKWKy+sesY7p57wAHldqE6NDudk/W7s/zjrK4rZFlFvaGxnSZdHbc1y47qDN6xkoK8O3bfr2j41dlJZ71rB4dlDqapPFa8N6xBrprUdtenUCHwxKNhw1uuTBh+9uU45k4REpQABN2bAO9DSLqoIL26gNroWgup5pUMxHUNSq4Gyz47vBPvilpo5f9OYI2ddAqTqmnxXERxQJ3UK8fHbVE9HagHi3+tqNRoNsArdmAxHA5LwtQo9ZAaNKUTljnokljo2x8scqVpEEIPc01fPCdHOCg0DeWBz8D5TVAAfx8aRH5X2ZYNI3ebKDZdeJ+oBDAxmRqJ30Eh2/DaeAy5diVNMpEDmXiPDsGTzBLXy8eVDdJoIafgx/gxMyQi454QrW56nCyeELgSuNNEmYkflF+t3CZQOVRWjKhIuCclmQSlAXT3+4JGG75B4t/5hQ+ldMP4LsAW6z3XmU6IJJwpnGVnsgUZhoY1fZlwTR8wSU7xRejf2uCx9Z5trVTRRJP9KnEb134dEieil6eCOGWgboI7xsqsqM99jfJLTePjygKlH2CVxxsse9QRzTBFjD/Kjqitr/CCTBt/SJ6nLxz7cKP9pFqBpp0lN5y+adKNsZjrPuroemZauH9aTTFD3EKHW8S55XBLFQAt1jgxTQCTwxmx/JyfsZDN1RroN3VaxpSenpIX7K+ZbL8VdlQDcI4Cbzg3QJLa9yVqNxUelu+EtxLVqeekaAvSJkO6sSVqbUajxqhKshNpvZqoeApF0k/0P0ikkwUcbdwc4A1ejN7Oo0O15kG7hTMoK3hZRBCX7YYeLW0wvcXx/18n/u37yLgzBYVBUvORGli+sfRcX/74uD6P4hq+7xu54TlWJLFzT63uwUDwuEDdOjJQqx7JV+ZjaEAPi7t0MMrR4Q8Rkf18uxD6RK0RKh0hL8YU+DeL97i4pa5ZSyAfXKwZRS/8gXcxdZXm62RBDj8U3sN8x95b5PpPs/mCBKYvpaA50pN5Ct/499AFTtwQ5vgeSh+NHrKIi4NVpwM/XzRaNfJD856lPE6M21zWPguFsH7jbLVyEDfRmt4VwrhCJ5VTYmcSPfGgO5clfN+vbaDZ7sakU5+2vZ2WCDY031NxJarVytfDDVtiafcTGO2rJ/taoL3zChN2qmjxofczTOYQPPVQPh0JVtYgdUQINcSiNEEy58UdYXX1MpWUCEBx7LbcGtAm8XWRQTVOaoV3ySri4RShhs/B/0m4jX6OAwXOvcA09bNSG4czEGv/Wey6V/jbTCNTW6awXdNTcA1GsPe1E9fZdGl7R0vyoVpIdJtfC6d32NNErrvq/R+d65VG+YOwRXppXxOCYyGNSf1K3x6VxAW/vtz4EC1SgCOSPdN62sLsoIzuDfg8GwZAbquVO8HIuFP/ToVoeUB7nnwMF35a1wK1tI6fkrqFKhQdeJpwyls0pIy8AZde3/6LUUbFaYJthyUJSU/kqDXTLQElnn0Jr4B2RVghNrmNmoEn7pXIeshPguXVsvwoTdmClq49JJU3LWhHyWTrJL9bRP6VKv3tZoA/th77p5Jw++OEENvyvWy/pNeExiDUVQaXIRGh8xySZTI36yueFaSXo1uJY0RnXYgEOoWWOJHeaVuX/bGNhHsh2yinznl/++NJcE9j6fBPRcBdq9hb8awNw8U7Bl6GM7x69EDOIIbX/npZ++amlHR9L/35mE/2Ss4gb0xCcY4VyTFLRE796vHysLAamqcyO+aFQyJIDBNslbH2/MrAvZiSEIedc/cqjmv4fbda2pXbv+F5a2szSsdkm9noiNURXt8edUhGUF6fSZWd1IJaXKFwD+49R6eCXD4Bkef7j9tRtNMVgW8BhRz/Qpy1TmeYk0doyjZoJSbePOReVHgkFsCFuQJ+Lgc4BxeAsK/cOiNDRmdNw0ctYhn/nQ498dYI5znzGLoJi1rav7Cn88rL3wLePVtDK5gl77Tki3gHEsIAQ2+IKgarj7Y8W1IQzV5V9N+0TjLqbg68WfKcOmBCOj3JkwJhVIkwDhc+JorXuZEPMEh0vvH3x7iqf+VAwXgd4diZiaJD1zHL9Snx6Wfg4IugreyhabQkcir+y5XgDtdx3Avs7lkeeCBwDvZoTUCXx5QrZkcEqWfYEiEYRs/EphmRALSNGR1Iclgdr5VFoELpzF4++f35w3/j0t5ucW3n2ch4PQCLuUXupsPRR7UA5FjSKrMtPcKAZJfagO4lGE7FH3YKMjorpK0ZxAv+i2JkJhtAMWWWFej4RhPR/cJ3DxwocCvXDi4SGZU4cu+K32XndiFWgopAl+0GApcwf1XvymJcFs39jExIBO4yUjU9MExBLQYc9H+W7+IgdESPRpciT+rKZPebVtaVq+1GYO/5xTAL3HASjNTGIgMvdjWbgc7JvdE1zIFpuC0U9ESiZyzBixzxWxj4Kwh8My34q+FK3KNLtmsA1qyrmKSNQOXCPUZd+ONelBTvFoUI/CYsqa/RhtKiyMf2CgSFqEPk59Y3uqnlZ8gFpswfSYyko23yVZYxzKGxGm49Zqxg1l8oz5Ra9XaRwHkuxepmgyhm0SoNy2KlbcEqK+9QqS9PNx9Ihm9U7gsR55SSJ1FBDNnkuWKxIZ0SDpXuOGwZdoUbOMDPHP4vBAgz2VlSEJAHZGJVbYIg7l/FO5KfIVvxC8pPPxMGcNMoevFDeStt2iqztE10n2TA4dgJH76YS9HDhKHD3iCx6ieFX84BAI3QQnngh76f5ruPQVbr5qZmck/5UjDc26lfrOvUBWy0Ogl8bCoOkMOns81TnC3cuUS9KW8+9A+fe3XYZOFUPG1u5epSSmDLw0s5s2F0W30ANeo+zJkJQz9SPZgzwYpEoktofhGVfmLOAB20boCbW1QWq/NpET/hnMecw/uSyAH4NJc3ECOU4nnkK1fj3S/i5dwb3R7k00AqQQUwt7Ie1qV0aY/VQX0J8hLPy7eBNXMHYZYDNxHZ2Qh6AuXJxq+AeRec/Q+JLhZV6hpXwQEzw7bf5v9uUf2vpq3qlhmy0IIGTkwYdCfSAFmqbdo+3XvDTDjFJde0mbeQLcn2n31xaAqJ0ixO/CLsT4I4G4DoncVTgRGNBtsCcjISWT+oeXZ4Iedw/8OsJI1aPnNKLX/60VvcZb94uasRxCkqlPQ11u1Sa2hHvB80WQENxVyzjns0/PiEByyil21Te6oisk3mNCEMrhouCFO3yEZTHHOCMy9eb/4Tmi8cVf3Lf7P53SY2hX3PSN033As3ETIMLHWumWEO9JXHA2y2SIBlIPpLGG2qvNsCIlIr+B1SWAqRKm2w6Blf7U+zCSBwJrfHG5i8J5Gax/cVonMlon7aHJX/gSvucIncRP93XCqkv7D8IFKFsLiBgHqUpXhE3pYjEcV1dk/JD9zFVCfEaQIVX8Jmfz7IIofcBKQ4OaG+C3xC2veX9CD+iAFXDNaGg9eTVxvkbJRJlW4Nk9Wk13kn696jWppRDe/8pDrYMO9ZyxZ98ReKSz9kWKLLyk2zCZgAniCkLJVX3n1M9DYbomyahWiv/KixRIV9hj/oFz87I+HLznbPTjpa+D+bZQnMuRsljTpv90vQUt/pK7jCFnA30B/jtroSF2/m/gpWn1aQs5WeA6ghzF8SdqWI20fghdSeDOCSCmLgTkfaGgGDmw7nHFkRzGtag57IHS2na06I+gzEphXo1w/Zx2BM/jKL2nZoFjHggtFQjYi8nSVRSXIE58RPbBObXk7uuIL9+rs/5Zo7suJInEUxgsiZZAWS25iBtpEiZeBgDtghEoAE0sjcayNq85M4tbu/LF5h51335PsGzQ09O875+vUS89lkWMyNOFoip2PuyWyMP/iU2XIZdfCCJNDjebDoBLQdpy7QQZC7s9c0wjHJervQNDu2jWzBW5MSAJMr7bP+Iv92BkS/GGgzjEn7MF1IRKFwwzbjbS4/slGOmhx9cZrFu7HSEefojNv3r0UaKfKOWzXsq1zEugbzlMDFsacRJJI/iJlK3vtkZ+PLZIVMFlKA32wbq2Kd5T0uCLZ1CPkAfCdzkz2EYscjDcZq2AWfziN2covN4kXE1lQXPPLTNM1xx3tbiepcO/t3SWm4w87qfh99SL0ZnY+LKFPLPeXVM2mIIoVWt+9Nk0I7nY4O79iGYqxZ8RVz289an6NVdJWnSKZvJQCAuHNiVaDxPAFoH392t9wot5t0/qmU95eEWNbU2udUW5sN9JVqcYlvAIfLeYC33oUzzxZgSktsv21mA7Uly1FA5VnoJFh6N244Wmv3YJGFv/TCPryaw+ZORlpZjQdq/2DYXr3EZskfed0G61P09ipTKmlTQ1067Rg5+PAk5FlQ9e0SWbGf2B/08kqymOTMVOznsALHHNFH4LFRKl2F/NOiYFl9khNHnSu9Ak5sq26Ynl/i2fdTle29Y1ugqmR5Yj4YT9pvslFyYCbw0mNFr5rVQm1LvkG27QMq9ph3t8fmn6r6SQ4oSbr5tz+J1kIawGzDxb6VYOvvWhobDTXfBeNv3b4aNm5XUinsCGqG2q/45m3+LoCOsddFceYhRx1Tsss9PLdPfJdErFMjYd3gddjiP0+XQjcRadZP6bwNLySvunFf20Czy6JqdEW2a96KxdYdOryBv1BjbuUq2yCHeh+6sk7fGmmPi50pe/1l5TyPe5oHW9oPnhPswLyf2TFDdCyYlhwBCstv5C1HwlW7xWoGT9XZt4qVj5WryLPLLD6h/5cMLEjWzgCeAIKNsLak92aBqBsHl4AJwl2N4jfvbSkBExGimv0nFvv09uDScQbjx+w4kPQjgjlW+g9ws9VEJvI2k8N6XxVu0uIwovgTFdunG24gBtaDi+y1YLQwZ8mwbip5fVlO3k0n0AEr/ETbtu8Vjkm+nNSiEb7X/3fMjBL5A8PdgG+/FnbexbFFExmEfetXAnisEKy5z44WVPpQZjSy/jzeGn4yDRsFGqhh87QPaDBWhlo37IFbe/C0xynS91d2tP/AJoJS0sVF6iwAAAAAElFTkSuQmCC");
}

#menu::after {
  display: block;
  content: '';
  padding-top: 80px;
}

#logo {
  position: fixed;
  bottom: 10px;
  right: 10px;
  background: rgba(255,255,255,.1);
  font-size: 11px;
  display: block;
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  -webkit-border-radius: 20px;
  -moz-border-radius: 20px;
  border-radius: 20px;
  -webkit-box-shadow: 0 0 3px rgba(0,0,0,.2);
  -moz-box-shadow: 0 0 3px rgba(0,0,0,.2);
  box-shadow: 0 0 3px rgba(0,0,0,.2);
  color: inherit;
}

#menu li a {
  display: block;
  color: white;
  padding: 0 35px 0 25px;
  -webkit-transition: background 300ms;
  -moz-transition: background 300ms;
}

#menu li {
  position: relative;
  list-style: none;
}

#menu a:hover,
#menu a.active {
  text-decoration: none;
  background: rgba(255,255,255,.1);
}

#menu li:hover .cov {
  opacity: 1;
}

#menu li .dirname {
  opacity: .60;
  padding-right: 2px;
}

#menu li .basename {
  opacity: 1;
}

#menu .cov {
  background: rgba(0,0,0,.4);
  position: absolute;
  top: 0;
  right: 8px;
  font-size: 9px;
  opacity: .6;
  text-align: left;
  width: 17px;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  padding: 2px 3px;
  text-align: center;
}

.stats:nth-child(2n) {
  display: inline-block;
  margin-top: 15px;
  border: 1px solid #eee;
  padding: 10px;
  -webkit-box-shadow: inset 0 0 2px #eee;
  -moz-box-shadow: inset 0 0 2px #eee;
  box-shadow: inset 0 0 2px #eee;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}

.stats div {
  float: left;
  padding: 0 5px;
}

.stats::after {
  display: block;
  content: '';
  clear: both;
}

.stats .sloc::after {
  content: ' SLOC';
  color: #b6b6b6;
}

.stats .percentage::after {
  content: ' coverage';
  color: #b6b6b6;
}

.stats .hits,
.stats .misses {
  display: none;
}

.high {
  color: #00d4b4;
}
.medium {
  color: #e87d0d;
}
.low {
  color: #d4081a;
}
.terrible {
  color: #d4081a;
  font-weight: bold;
}

table {
  width: 80%;
  margin-top: 10px;
  border-collapse: collapse;
  border: 1px solid #cbcbcb;
  color: #363636;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}

table thead {
  display: none;
}

table td.line,
table td.hits {
  width: 20px;
  background: #eaeaea;
  text-align: center;
  font-size: 11px;
  padding: 0 10px;
  color: #949494;
}

table td.hits {
  width: 10px;
  padding: 2px 5px;
  color: rgba(0,0,0,.2);
  background: #f0f0f0;
}

tr.miss td.line,
tr.miss td.hits {
  background: #e6c3c7;
}

tr.miss td {
  background: #f8d5d8;
}

td.source {
  padding-left: 15px;
  line-height: 15px;
  white-space: pre;
  font: 12px monaco, monospace;
}

code .comment { color: #ddd }
code .init { color: #2F6FAD }
code .string { color: #5890AD }
code .keyword { color: #8A6343 }
code .number { color: #2F6FAD }
</style>
  </head>
  <body>
    <div id="coverage">
      <h1 id="overview">Coverage</h1>
      <div id="menu">
        <li><a href="#overview">overview</a></li>
        <li class="template">
          <span class="cov high"></span>
          <a href=""><span class="dirname"></span><span class="basename"></span></a>
        </li>
      <li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/index.js">c:/noboxout/js-object-enhancements/index.js</a>
        </li><li class="">
          <span class="cov high">83%</span>
          <a href="#c:/noboxout/js-object-enhancements/lib/objects.js">c:/noboxout/js-object-enhancements/lib/objects.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/main.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/main.js</a>
        </li><li class="">
          <span class="cov high">89%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-global-harness.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-global-harness.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/inherits/inherits.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/inherits/inherits.js</a>
        </li><li class="">
          <span class="cov high">85%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-results.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-results.js</a>
        </li><li class="">
          <span class="cov high">75%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-harness.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-harness.js</a>
        </li><li class="">
          <span class="cov high">72%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-producer.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-producer.js</a>
        </li><li class="">
          <span class="cov high">7%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/yamlish/yamlish.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/yamlish/yamlish.js</a>
        </li><li class="">
          <span class="cov high">41%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-assert.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-assert.js</a>
        </li><li class="">
          <span class="cov high">4%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/index.js</a>
        </li><li class="">
          <span class="cov high">15%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/traverse/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/traverse/index.js</a>
        </li><li class="">
          <span class="cov high">15%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/index.js</a>
        </li><li class="">
          <span class="cov high">20%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/lib/encode.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/lib/encode.js</a>
        </li><li class="">
          <span class="cov high">16%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/deep-is/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/deep-is/index.js</a>
        </li><li class="">
          <span class="cov high">66%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/deep-equal/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/deep-equal/index.js</a>
        </li><li class="">
          <span class="cov high">25%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/buffer-equal/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/buffer-equal/index.js</a>
        </li><li class="">
          <span class="cov high">67%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-test.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-test.js</a>
        </li><li class="">
          <span class="cov high">10%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-consumer.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-consumer.js</a>
        </li><li class="">
          <span class="cov high">6%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-runner.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-runner.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/slide.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/slide.js</a>
        </li><li class="">
          <span class="cov high">8%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/async-map.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/async-map.js</a>
        </li><li class="">
          <span class="cov high">18%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/bind-actor.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/bind-actor.js</a>
        </li><li class="">
          <span class="cov high">27%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/chain.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/chain.js</a>
        </li><li class="">
          <span class="cov high">10%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-cov-html.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-cov-html.js</a>
        </li><li class="">
          <span class="cov high">90%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/lib/serialize.js">c:/noboxout/js-object-enhancements/node_modules/ass/lib/serialize.js</a>
        </li><li class="">
          <span class="cov high">87%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/lib/reporters/html.js">c:/noboxout/js-object-enhancements/node_modules/ass/lib/reporters/html.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/index.js</a>
        </li><li class="">
          <span class="cov high">83%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/cheerio.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/cheerio.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/index.js</a>
        </li><li class="">
          <span class="cov high">93%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/lib/select.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/lib/select.js</a>
        </li><li class="">
          <span class="cov high">88%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/index.js</a>
        </li><li class="">
          <span class="cov high">7%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/pseudos.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/pseudos.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/index.js</a>
        </li><li class="">
          <span class="cov high">23%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/stringify.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/stringify.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/node_modules/domelementtype/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/node_modules/domelementtype/index.js</a>
        </li><li class="">
          <span class="cov high">77%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/traversal.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/traversal.js</a>
        </li><li class="">
          <span class="cov high">11%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/manipulation.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/manipulation.js</a>
        </li><li class="">
          <span class="cov high">27%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/querying.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/querying.js</a>
        </li><li class="">
          <span class="cov high">21%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/legacy.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/legacy.js</a>
        </li><li class="">
          <span class="cov high">80%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/helpers.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/helpers.js</a>
        </li><li class="">
          <span class="cov high">19%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/nth-check.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/nth-check.js</a>
        </li><li class="">
          <span class="cov high">67%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/basefunctions.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/basefunctions.js</a>
        </li><li class="">
          <span class="cov high">21%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/attributes.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/attributes.js</a>
        </li><li class="">
          <span class="cov high">56%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/compile.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/compile.js</a>
        </li><li class="">
          <span class="cov high">53%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/CSSwhat/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/CSSwhat/index.js</a>
        </li><li class="">
          <span class="cov high">33%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/general.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/general.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/sort.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/sort.js</a>
        </li><li class="">
          <span class="cov high">87%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/parse.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/parse.js</a>
        </li><li class="">
          <span class="cov high">26%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/index.js</a>
        </li><li class="">
          <span class="cov high">31%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/underscore/underscore.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/underscore/underscore.js</a>
        </li><li class="">
          <span class="cov high">80%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/utils.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/utils.js</a>
        </li><li class="">
          <span class="cov high">76%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/entities/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/entities/index.js</a>
        </li><li class="">
          <span class="cov high">49%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/static.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/static.js</a>
        </li><li class="">
          <span class="cov high">88%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/render.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/render.js</a>
        </li><li class="">
          <span class="cov high">28%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/attributes.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/attributes.js</a>
        </li><li class="">
          <span class="cov high">27%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/traversing.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/traversing.js</a>
        </li><li class="">
          <span class="cov high">36%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/manipulation.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/manipulation.js</a>
        </li><li class="">
          <span class="cov high">18%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/css.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/css.js</a>
        </li><li class="">
          <span class="cov high">81%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domhandler/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domhandler/index.js</a>
        </li><li class="">
          <span class="cov high">100%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domelementtype/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domelementtype/index.js</a>
        </li><li class="">
          <span class="cov high">70%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js</a>
        </li><li class="">
          <span class="cov high">64%</span>
          <a href="#c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js</a>
        </li></div>
      <div id="stats" class="stats high">
        <div class="percentage">39.7%</div>
        <div class="sloc">4428</div>
        <div class="hits">1757</div>
        <div class="misses">2671</div>
      </div>
      <div id="files">
        <div class="file template">
          <h2></h2>
          <div class="stats high">
            <div class="percentage"></div>
            <div class="sloc"></div>
            <div class="hits"></div>
            <div class="misses"></div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            </tbody>
          </table>
        </div>
      <div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/index.js">c:/noboxout/js-object-enhancements/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">3</div>
            <div class="hits">3</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">(function () {</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">    &quot;use strict&quot;;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">    module.exports = require(&quot;c:/noboxout/js-object-enhancements/./lib/objects.js&quot;);</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">}());</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/lib/objects.js">c:/noboxout/js-object-enhancements/lib/objects.js</h2>
          <div class="stats high">
            <div class="percentage">82.7%</div>
            <div class="sloc">185</div>
            <div class="hits">153</div>
            <div class="misses">32</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">(function () {</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">    &quot;use strict&quot;;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">    var hasOwnProperty = Object.prototype.hasOwnProperty,</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">        hasDontEnumBug = !({toString: null}).propertyIsEnumerable(&quot;toString&quot;),</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">        dontEnums = [</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">            &quot;toString&quot;,</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">            &quot;toLocaleString&quot;,</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">            &quot;valueOf&quot;,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">            &quot;hasOwnProperty&quot;,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">            &quot;isPrototypeOf&quot;,</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">            &quot;propertyIsEnumerable&quot;,</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">            &quot;constructor&quot;</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">        ],</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">        dontEnumsLength = dontEnums.length,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">        ArrayPush = Array.prototype.push,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">        ObjectConstructor = Object.prototype.constructor,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">        __typeof,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">        __merge,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">        __depth,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">        __rfilter,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">        __debug = true;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">24</td><td class="hits">1</td><td class="source">    module.exports[&quot;typeof&quot;] = __typeof = function (val) {</td></tr><tr class="hit"><td class="line">25</td><td class="hits">81</td><td class="source">        if (val === null || val === undefined) {</td></tr><tr class="hit"><td class="line">26</td><td class="hits">3</td><td class="source">            return &quot;null&quot;;</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">        // dont deal with undefine...</td></tr><tr class="hit"><td class="line">29</td><td class="hits">78</td><td class="source">        if (val === true || val === false) {</td></tr><tr class="hit"><td class="line">30</td><td class="hits">9</td><td class="source">            return &quot;boolean&quot;;</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">33</td><td class="hits">69</td><td class="source">        var type = typeof val;</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">69</td><td class="source">        if (type === &quot;object&quot;) {</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">            // for performance, we check if it&quot;s a plain object first</td></tr><tr class="hit"><td class="line">37</td><td class="hits">41</td><td class="source">            if (type.constructor === ObjectConstructor) {</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">                return type;</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">41</td><td class="hits">41</td><td class="source">            if (val.push === ArrayPush &amp;&amp; val.length != null) { // != null is ok!</td></tr><tr class="hit"><td class="line">42</td><td class="hits">9</td><td class="source">                return &quot;array&quot;;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">            // for performance, I will keep this insecure</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">            // if (hasOwnProperty.call(val, &quot;callee&quot;)) {</td></tr><tr class="hit"><td class="line">46</td><td class="hits">32</td><td class="source">            if (val.hasOwnProperty &amp;&amp; val.hasOwnProperty(&quot;callee&quot;)) {</td></tr><tr class="hit"><td class="line">47</td><td class="hits">3</td><td class="source">                return &quot;arguments&quot;;</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">            }</td></tr><tr class="hit"><td class="line">49</td><td class="hits">29</td><td class="source">            if (val instanceof Date) {</td></tr><tr class="hit"><td class="line">50</td><td class="hits">2</td><td class="source">                return &quot;date&quot;;</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">            }</td></tr><tr class="hit"><td class="line">52</td><td class="hits">27</td><td class="source">            if (val instanceof RegExp) {</td></tr><tr class="hit"><td class="line">53</td><td class="hits">2</td><td class="source">                return &quot;regexp&quot;;</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">            // this is an instance of something?</td></tr><tr class="hit"><td class="line">57</td><td class="hits">28</td><td class="source">        } else if (type === &quot;number&quot; &amp;&amp; isNaN(val)) {</td></tr><tr class="hit"><td class="line">58</td><td class="hits">1</td><td class="source">            return &quot;null&quot;;</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">61</td><td class="hits">52</td><td class="source">        return type;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">    //</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    // Object</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">    //</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">    // From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys</td></tr><tr class="hit"><td class="line">69</td><td class="hits">1</td><td class="source">    if (!Object.keys) {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">        Object.keys = function (obj) {</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">            if (typeof obj !== &quot;object&quot; &amp;&amp; (typeof obj !== &quot;function&quot; || obj === null)) {</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">                throw new TypeError(&quot;Object.keys called on non-object&quot;);</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">            var result = [], prop, i;</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">            for (prop in obj) {</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">                if (hasOwnProperty.call(obj, prop)) {</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">                    result.push(prop);</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">            if (hasDontEnumBug) {</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">                for (i = 0; i &lt; dontEnumsLength; i++) {</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">                    if (hasOwnProperty.call(obj, dontEnums[i])) {</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">                        result.push(dontEnums[i]);</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">            return result;</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">        };</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">    // define Object.defineProperty if not found, no functionality just a replacement so your code not throw!</td></tr><tr class="hit"><td class="line">95</td><td class="hits">1</td><td class="source">    if (!Object.defineProperty) {</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">        Object.defineProperty = function (obj, name, prop) {</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">            if (prop.get || prop.set) {</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">                throw new Error(&quot;this is not supported in your js.engine&quot;);</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">            obj[name] = prop.value;</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">        };</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">    // define Object.seal if not found, no functionality just a replacement so your code not throw!</td></tr><tr class="hit"><td class="line">106</td><td class="hits">1</td><td class="source">    if (!Object.seal) {</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">        Object.seal = function (obj) {</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">            return obj;</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">        };</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">112</td><td class="hits">1</td><td class="source">    module.exports.values = function (obj) {</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">        if (__debug) {</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">            if (typeof obj !== &quot;object&quot; &amp;&amp; (typeof obj !== &quot;function&quot; || obj === null)) {</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">                throw new TypeError(&quot;Object.values called on non-object&quot;);</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">        var result = [],</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">            prop;</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">        for (prop in obj) {</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">            if (!__debug || hasOwnProperty.call(obj, prop)) {</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">                result.push(obj[prop]);</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">        return result;</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">    /**</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">     * get the keys of an object (or anything iterable for...in) note: remove prototype key</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">     *</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">     * @param {Object} object</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">     * @param {Function} fn</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source">     * @returns {Object} object</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">     */</td></tr><tr class="hit"><td class="line">139</td><td class="hits">1</td><td class="source">    function __each(object, fn) {</td></tr><tr class="hit"><td class="line">140</td><td class="hits">1</td><td class="source">        var key = null;</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">142</td><td class="hits">1</td><td class="source">        for (key in object) {</td></tr><tr class="hit"><td class="line">143</td><td class="hits">3</td><td class="source">            fn(object[key], key);</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">146</td><td class="hits">1</td><td class="source">        return object;</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">149</td><td class="hits">1</td><td class="source">    module.exports.each = __each;</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">151</td><td class="hits">1</td><td class="source">    module.exports.forEach = __each;</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">153</td><td class="hits">1</td><td class="source">    module.exports.clone = function (obj) {</td></tr><tr class="hit"><td class="line">154</td><td class="hits">2</td><td class="source">        return __merge({}, obj, true, false);</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">    /**</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">     * merge two object</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">     *</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">     *</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">     * @params {Object} to, this parameter is modified</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">     * @params {Object} from</td></tr><tr class=""><td class="line">163</td><td class="hits"></td><td class="source">     * @params {Boolean} clone</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">     * @params {Boolean} must_exists do not allow undefined in the objects</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">     */</td></tr><tr class="hit"><td class="line">166</td><td class="hits">1</td><td class="source">    module.exports.merge = __merge = function (to, from, clone, must_exists) {</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">        //console.log(&quot;Object.merge&quot;, from);</td></tr><tr class="hit"><td class="line">168</td><td class="hits">41</td><td class="source">        clone = clone || false;</td></tr><tr class="hit"><td class="line">169</td><td class="hits">41</td><td class="source">        must_exists = must_exists || false;</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">171</td><td class="hits">41</td><td class="source">        var ftype = __typeof(from),</td></tr><tr class=""><td class="line">172</td><td class="hits"></td><td class="source">            key,</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">            ret;</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">175</td><td class="hits">41</td><td class="source">        switch (ftype) {</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">        case &quot;string&quot;:</td></tr><tr class="hit"><td class="line">177</td><td class="hits">3</td><td class="source">            return clone ? &quot;&quot; + from : from;</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">        case &quot;number&quot;:</td></tr><tr class="hit"><td class="line">179</td><td class="hits">16</td><td class="source">            return clone ? 0 + from : from;</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source">        case &quot;array&quot;: // maybe need more deep clone ?</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">182</td><td class="hits">5</td><td class="source">            if (clone) {</td></tr><tr class="hit"><td class="line">183</td><td class="hits">4</td><td class="source">                ret = [];</td></tr><tr class="hit"><td class="line">184</td><td class="hits">4</td><td class="source">                for (key = 0; key &lt; from.length; ++key) {</td></tr><tr class="hit"><td class="line">185</td><td class="hits">15</td><td class="source">                    ret[key] = __merge(to[key] || {}, from[key], clone, must_exists);</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">188</td><td class="hits">4</td><td class="source">                return ret;</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">191</td><td class="hits">1</td><td class="source">            return from;</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source">        case &quot;boolean&quot;:</td></tr><tr class="hit"><td class="line">193</td><td class="hits">5</td><td class="source">            return clone ? (from ? true : false) : from;</td></tr><tr class=""><td class="line">194</td><td class="hits"></td><td class="source">        case &quot;null&quot;:</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">            return null;</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">        case &quot;function&quot;:</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">            return from;</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">        case &quot;object&quot;:</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source">            // to it not an object, overwrite!</td></tr><tr class="hit"><td class="line">200</td><td class="hits">12</td><td class="source">            ret = __typeof(to) !== &quot;object&quot; ? {} : to || {};</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">            // if has prototype just copy</td></tr><tr class="hit"><td class="line">202</td><td class="hits">12</td><td class="source">            key = null;</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">204</td><td class="hits">12</td><td class="source">            for (key in from) {</td></tr><tr class="hit"><td class="line">205</td><td class="hits">19</td><td class="source">                if (key !== &quot;prototype&quot;) {</td></tr><tr class="hit"><td class="line">206</td><td class="hits">19</td><td class="source">                    if (ret[key] === undefined) {</td></tr><tr class="hit"><td class="line">207</td><td class="hits">17</td><td class="source">                        if (must_exists) {</td></tr><tr class="hit"><td class="line">208</td><td class="hits">1</td><td class="source">                            continue;</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">                        }</td></tr><tr class="hit"><td class="line">210</td><td class="hits">16</td><td class="source">                        ret[key] = {};</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="hit"><td class="line">212</td><td class="hits">18</td><td class="source">                    ret[key] = __merge(ret[key] || {}, from[key], clone, must_exists);</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">216</td><td class="hits">12</td><td class="source">            return ret;</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">        case &quot;regexp&quot;:</td></tr><tr class="miss"><td class="line">218</td><td class="hits">0</td><td class="source">            return new RegExp(from.source);</td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source">        case &quot;date&quot;:</td></tr><tr class="miss"><td class="line">220</td><td class="hits">0</td><td class="source">            return clone ? new Date(from) : from;</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source">        // unknown type... just return</td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">        return from;</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">225</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">226</td><td class="hits">1</td><td class="source">    module.exports.combine = function (keys, values) {</td></tr><tr class="hit"><td class="line">227</td><td class="hits">3</td><td class="source">        values = values || [];</td></tr><tr class="hit"><td class="line">228</td><td class="hits">3</td><td class="source">        var i,</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">            ret = {};</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">231</td><td class="hits">3</td><td class="source">        for (i = 0; i &lt; keys.length; ++i) {</td></tr><tr class="hit"><td class="line">232</td><td class="hits">6</td><td class="source">            ret[keys[i]] = values[i] === undefined ? null : values[i];</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">        }</td></tr><tr class="hit"><td class="line">234</td><td class="hits">3</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">237</td><td class="hits">1</td><td class="source">    module.exports.ksort = function (from) {</td></tr><tr class="hit"><td class="line">238</td><td class="hits">1</td><td class="source">        var keys = Object.keys(from),</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">            i,</td></tr><tr class=""><td class="line">240</td><td class="hits"></td><td class="source">            ret = {};</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">242</td><td class="hits">1</td><td class="source">        for (i = 0; i &lt; keys.length; ++i) {</td></tr><tr class="hit"><td class="line">243</td><td class="hits">3</td><td class="source">            ret[keys[i]] = from[keys[i]];</td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">245</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">246</td><td class="hits">1</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">249</td><td class="hits">1</td><td class="source">    module.exports.extend = function () {</td></tr><tr class="hit"><td class="line">250</td><td class="hits">1</td><td class="source">        var target = arguments[0] || {},</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">            o,</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source">            p,</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">            i,</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">            len;</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">256</td><td class="hits">1</td><td class="source">        for (i = 1, len = arguments.length; i &lt; len; i++) {</td></tr><tr class="hit"><td class="line">257</td><td class="hits">1</td><td class="source">            o = arguments[i];</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">259</td><td class="hits">1</td><td class="source">            if (&quot;object&quot; === typeof o &amp;&amp; o !== null) {</td></tr><tr class="hit"><td class="line">260</td><td class="hits">1</td><td class="source">                for (p in o) {</td></tr><tr class="hit"><td class="line">261</td><td class="hits">2</td><td class="source">                    target[p] = o[p];</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">266</td><td class="hits">1</td><td class="source">        return target;</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">268</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">269</td><td class="hits">1</td><td class="source">    module.exports.extract = function (from, keys, default_value) {</td></tr><tr class="hit"><td class="line">270</td><td class="hits">1</td><td class="source">        var i,</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source">            ret = {};</td></tr><tr class=""><td class="line">272</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">273</td><td class="hits">1</td><td class="source">        default_value = default_value === undefined ? null : default_value;</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">275</td><td class="hits">1</td><td class="source">        for (i = 0; i &lt; keys.length; ++i) {</td></tr><tr class="hit"><td class="line">276</td><td class="hits">2</td><td class="source">            ret[keys[i]] = from[keys[i]] === undefined ? default_value : from[keys[i]];</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">279</td><td class="hits">1</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">280</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">281</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">282</td><td class="hits">1</td><td class="source">    module.exports.empty = function (obj) {</td></tr><tr class="hit"><td class="line">283</td><td class="hits">2</td><td class="source">        var name;</td></tr><tr class="hit"><td class="line">284</td><td class="hits">2</td><td class="source">        for (name in obj) {</td></tr><tr class="hit"><td class="line">285</td><td class="hits">1</td><td class="source">            return false;</td></tr><tr class=""><td class="line">286</td><td class="hits"></td><td class="source">        }</td></tr><tr class="hit"><td class="line">287</td><td class="hits">1</td><td class="source">        return true;</td></tr><tr class=""><td class="line">288</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">290</td><td class="hits">1</td><td class="source">    module.exports.depth = __depth = function (obj) {</td></tr><tr class="hit"><td class="line">291</td><td class="hits">13</td><td class="source">        var i,</td></tr><tr class=""><td class="line">292</td><td class="hits"></td><td class="source">            max,</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">            props = false,</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source">            d = 0;</td></tr><tr class=""><td class="line">295</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">296</td><td class="hits">13</td><td class="source">        if (obj === null || obj === undefined) {</td></tr><tr class="hit"><td class="line">297</td><td class="hits">1</td><td class="source">            return 0;</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">299</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">300</td><td class="hits">12</td><td class="source">        if (Array.isArray(obj)) {</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">            // array</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">303</td><td class="hits">1</td><td class="source">            for (i = 0, max = obj.length; i &lt; max; ++i) {</td></tr><tr class="hit"><td class="line">304</td><td class="hits">1</td><td class="source">                d = Math.max(d, __depth(obj[i]));</td></tr><tr class=""><td class="line">305</td><td class="hits"></td><td class="source">            }</td></tr><tr class="hit"><td class="line">306</td><td class="hits">1</td><td class="source">            props = max &gt; 0;</td></tr><tr class="hit"><td class="line">307</td><td class="hits">11</td><td class="source">        } else if (&quot;object&quot; === typeof obj) {</td></tr><tr class=""><td class="line">308</td><td class="hits"></td><td class="source">            // object</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">310</td><td class="hits">10</td><td class="source">            for (i in obj) {</td></tr><tr class="hit"><td class="line">311</td><td class="hits">6</td><td class="source">                props = true;</td></tr><tr class="hit"><td class="line">312</td><td class="hits">6</td><td class="source">                d = Math.max(d, __depth(obj[i]));</td></tr><tr class=""><td class="line">313</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">314</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">316</td><td class="hits">12</td><td class="source">        return (props ? 1 : 0) + d;</td></tr><tr class=""><td class="line">317</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">318</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">319</td><td class="hits">1</td><td class="source">    module.exports.rFilter = __rfilter = function (obj, callback, loop_arrays) {</td></tr><tr class="hit"><td class="line">320</td><td class="hits">12</td><td class="source">        var i,</td></tr><tr class=""><td class="line">321</td><td class="hits"></td><td class="source">            max;</td></tr><tr class="hit"><td class="line">322</td><td class="hits">12</td><td class="source">        loop_arrays = loop_arrays === true;</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">324</td><td class="hits">12</td><td class="source">        if (Array.isArray(obj)) {</td></tr><tr class=""><td class="line">325</td><td class="hits"></td><td class="source">            // array</td></tr><tr class="hit"><td class="line">326</td><td class="hits">3</td><td class="source">            if (!loop_arrays) {</td></tr><tr class="hit"><td class="line">327</td><td class="hits">2</td><td class="source">                obj = callback(obj);</td></tr><tr class=""><td class="line">328</td><td class="hits"></td><td class="source">            } else {</td></tr><tr class="hit"><td class="line">329</td><td class="hits">1</td><td class="source">                for (i = 0, max = obj.length; i &lt; max; ++i) {</td></tr><tr class="hit"><td class="line">330</td><td class="hits">2</td><td class="source">                    obj[i] = __rfilter(obj[i], callback, loop_arrays);</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">333</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">334</td><td class="hits">3</td><td class="source">            return obj;</td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">337</td><td class="hits">9</td><td class="source">        if (&quot;object&quot; === typeof obj) {</td></tr><tr class=""><td class="line">338</td><td class="hits"></td><td class="source">            // object</td></tr><tr class="hit"><td class="line">339</td><td class="hits">4</td><td class="source">            if (!(obj instanceof Date || obj instanceof RegExp)) {</td></tr><tr class=""><td class="line">340</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">341</td><td class="hits">2</td><td class="source">                for (i in obj) {</td></tr><tr class="hit"><td class="line">342</td><td class="hits">7</td><td class="source">                    obj[i] = __rfilter(obj[i], callback, loop_arrays);</td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source">                }</td></tr><tr class="hit"><td class="line">344</td><td class="hits">2</td><td class="source">                return obj;</td></tr><tr class=""><td class="line">345</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">346</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">347</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">348</td><td class="hits">7</td><td class="source">        return callback(obj);</td></tr><tr class=""><td class="line">349</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">350</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">351</td><td class="hits">1</td><td class="source">    module.exports.prefixKeys = function (obj, prefix, ignore_keys) {</td></tr><tr class="hit"><td class="line">352</td><td class="hits">2</td><td class="source">        ignore_keys = ignore_keys || [];</td></tr><tr class="hit"><td class="line">353</td><td class="hits">2</td><td class="source">        var i,</td></tr><tr class=""><td class="line">354</td><td class="hits"></td><td class="source">            ret = {};</td></tr><tr class=""><td class="line">355</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">356</td><td class="hits">2</td><td class="source">        if (ignore_keys.length) {</td></tr><tr class="hit"><td class="line">357</td><td class="hits">1</td><td class="source">            for (i in obj) {</td></tr><tr class="hit"><td class="line">358</td><td class="hits">3</td><td class="source">                if (ignore_keys.indexOf(i) === -1) {</td></tr><tr class="hit"><td class="line">359</td><td class="hits">2</td><td class="source">                    ret[prefix + i] = obj[i];</td></tr><tr class=""><td class="line">360</td><td class="hits"></td><td class="source">                } else {</td></tr><tr class="hit"><td class="line">361</td><td class="hits">1</td><td class="source">                    ret[i] = obj[i];</td></tr><tr class=""><td class="line">362</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">363</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">364</td><td class="hits"></td><td class="source">        } else {</td></tr><tr class="hit"><td class="line">365</td><td class="hits">1</td><td class="source">            for (i in obj) {</td></tr><tr class="hit"><td class="line">366</td><td class="hits">3</td><td class="source">                ret[prefix + i] = obj[i];</td></tr><tr class=""><td class="line">367</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">368</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">369</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">370</td><td class="hits">2</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">371</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">372</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">373</td><td class="hits">1</td><td class="source">    module.exports.remPrefixKeys = function (obj, prefix, ignore_keys) {</td></tr><tr class="hit"><td class="line">374</td><td class="hits">2</td><td class="source">        ignore_keys = ignore_keys || [];</td></tr><tr class="hit"><td class="line">375</td><td class="hits">2</td><td class="source">        var i,</td></tr><tr class=""><td class="line">376</td><td class="hits"></td><td class="source">            prefix_len = prefix.length,</td></tr><tr class=""><td class="line">377</td><td class="hits"></td><td class="source">            ret = {};</td></tr><tr class=""><td class="line">378</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">379</td><td class="hits">2</td><td class="source">        if (ignore_keys.length) {</td></tr><tr class="hit"><td class="line">380</td><td class="hits">1</td><td class="source">            for (i in obj) {</td></tr><tr class="hit"><td class="line">381</td><td class="hits">3</td><td class="source">                if (ignore_keys.indexOf(i) === -1) {</td></tr><tr class="hit"><td class="line">382</td><td class="hits">2</td><td class="source">                    if (i.indexOf(prefix) === 0) {</td></tr><tr class="hit"><td class="line">383</td><td class="hits">1</td><td class="source">                        ret[i.substring(prefix_len)] = obj[i];</td></tr><tr class=""><td class="line">384</td><td class="hits"></td><td class="source">                    } else {</td></tr><tr class="hit"><td class="line">385</td><td class="hits">1</td><td class="source">                        ret[i] = obj[i];</td></tr><tr class=""><td class="line">386</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">387</td><td class="hits"></td><td class="source">                } else {</td></tr><tr class="hit"><td class="line">388</td><td class="hits">1</td><td class="source">                    ret[i] = obj[i];</td></tr><tr class=""><td class="line">389</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">390</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">391</td><td class="hits"></td><td class="source">        } else {</td></tr><tr class="hit"><td class="line">392</td><td class="hits">1</td><td class="source">            for (i in obj) {</td></tr><tr class="hit"><td class="line">393</td><td class="hits">3</td><td class="source">                if (i.indexOf(prefix) === 0) {</td></tr><tr class="hit"><td class="line">394</td><td class="hits">2</td><td class="source">                    ret[i.substring(prefix_len)] = obj[i];</td></tr><tr class=""><td class="line">395</td><td class="hits"></td><td class="source">                } else {</td></tr><tr class="hit"><td class="line">396</td><td class="hits">1</td><td class="source">                    ret[i] = obj[i];</td></tr><tr class=""><td class="line">397</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">398</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">399</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">400</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">401</td><td class="hits">2</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">402</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">403</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">404</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">405</td><td class="hits">1</td><td class="source">    module.exports.diff = function (obj) {</td></tr><tr class="hit"><td class="line">406</td><td class="hits">4</td><td class="source">        var ret = {},</td></tr><tr class=""><td class="line">407</td><td class="hits"></td><td class="source">            argl = arguments.length,</td></tr><tr class=""><td class="line">408</td><td class="hits"></td><td class="source">            k1,</td></tr><tr class=""><td class="line">409</td><td class="hits"></td><td class="source">            i,</td></tr><tr class=""><td class="line">410</td><td class="hits"></td><td class="source">            found;</td></tr><tr class=""><td class="line">411</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">412</td><td class="hits">4</td><td class="source">        for (k1 in obj) {</td></tr><tr class="hit"><td class="line">413</td><td class="hits">12</td><td class="source">            found = false;</td></tr><tr class="hit"><td class="line">414</td><td class="hits">12</td><td class="source">            for (i = 1; i &lt; argl &amp;&amp; !found; ++i) {</td></tr><tr class="hit"><td class="line">415</td><td class="hits">12</td><td class="source">                if (obj[k1] === arguments[i][k1]) {</td></tr><tr class="hit"><td class="line">416</td><td class="hits">7</td><td class="source">                    found  = true;</td></tr><tr class=""><td class="line">417</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">418</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">419</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">420</td><td class="hits">12</td><td class="source">            if (!found) {</td></tr><tr class="hit"><td class="line">421</td><td class="hits">5</td><td class="source">                ret[k1] = obj[k1];</td></tr><tr class=""><td class="line">422</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">423</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">424</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">425</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">426</td><td class="hits">4</td><td class="source">        return ret;</td></tr><tr class=""><td class="line">427</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">428</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">429</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">430</td><td class="hits"></td><td class="source">}());</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/main.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/main.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">9</div>
            <div class="hits">9</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var GlobalHarness = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-global-harness&quot;)</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">// this lets you do stuff like:</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">// var test = require(&quot;tap&quot;).test</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">// test(...)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">// to run stuff in the global harness.</td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">exports = module.exports = new GlobalHarness()</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">exports.createProducer = exports.Producer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-producer&quot;)</td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">exports.createConsumer = exports.Consumer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-consumer&quot;)</td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">exports.yamlish = require(&quot;yamlish&quot;)</td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">exports.createTest = exports.Test = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-test&quot;)</td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">exports.createHarness = exports.Harness = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-harness&quot;)</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">exports.createRunner = exports.Runner = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-runner&quot;)</td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">exports.assert = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-assert&quot;)</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-global-harness.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-global-harness.js</h2>
          <div class="stats high">
            <div class="percentage">89.3%</div>
            <div class="sloc">28</div>
            <div class="hits">25</div>
            <div class="misses">3</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// this is just a harness that pipes to stdout.</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">// It&apos;s the default one.</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = GlobalHarness</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var globalHarness = global.TAP_Global_Harness</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">  , inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  , Results = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-results&quot;)</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  , Harness = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-harness&quot;)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  , Test = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-test&quot;)</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">inherits(GlobalHarness, Harness)</td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">function GlobalHarness () {</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">  //console.error(&quot;calling GlobalHarness&quot;)</td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">  if (globalHarness) return globalHarness</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">  if (!(this instanceof GlobalHarness)) {</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">    return globalHarness = new GlobalHarness</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">19</td><td class="hits">1</td><td class="source">  globalHarness = global.TAP_Global_Harness = this</td></tr><tr class="hit"><td class="line">20</td><td class="hits">1</td><td class="source">  GlobalHarness.super.call(this, Test)</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">  this.output.pipe(process.stdout)</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">  //this.output.on(&quot;data&quot;, function () {</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">  //  process.nextTick(process.stdout.flush.bind(process.stdout))</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">  //})</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">27</td><td class="hits">1</td><td class="source">  this.test = this.test.bind(this)</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">29</td><td class="hits">1</td><td class="source">  this.plan = this.plan.bind(this)</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">31</td><td class="hits">1</td><td class="source">  var output = this.output</td></tr><tr class="hit"><td class="line">32</td><td class="hits">1</td><td class="source">  this.on(&quot;childEnd&quot;, function (child) {</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">    //console.error(&quot;childEnd in global harness&quot;)</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">    //console.error(child.results)</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    // write out the stuff for this child.</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">    //console.error(&quot;child.conf&quot;, child.conf)</td></tr><tr class="hit"><td class="line">37</td><td class="hits">5</td><td class="source">    output.write(child.conf.name || &quot;(unnamed test)&quot;)</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">    // maybe write some other stuff about the number of tests in this</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">    // thing, etc.  I dunno.</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    //console.error(&quot;child results&quot;, child.results)</td></tr><tr class="hit"><td class="line">41</td><td class="hits">5</td><td class="source">    this.results.list.forEach(function (res) {</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">      //delete res.error</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">      //console.error(&quot;child resuilt&quot;, res)</td></tr><tr class="hit"><td class="line">44</td><td class="hits">57</td><td class="source">      output.write(res)</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">    //console.error(&quot;wrote child results&quot;)</td></tr><tr class="hit"><td class="line">47</td><td class="hits">5</td><td class="source">    this.results.list.length = 0</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">1</td><td class="source">  var streamEnded = false</td></tr><tr class="hit"><td class="line">51</td><td class="hits">1</td><td class="source">  this.on(&quot;end&quot;, function () {</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">    //console.error(&quot;global ending the stream&quot;)</td></tr><tr class="hit"><td class="line">53</td><td class="hits">1</td><td class="source">    if (!streamEnded) {</td></tr><tr class="hit"><td class="line">54</td><td class="hits">1</td><td class="source">      this.results.list.forEach(function (res) {</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">        output.write(res)</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">      })</td></tr><tr class="hit"><td class="line">57</td><td class="hits">1</td><td class="source">      this.results.list.length = 0</td></tr><tr class="hit"><td class="line">58</td><td class="hits">1</td><td class="source">      output.end()</td></tr><tr class="hit"><td class="line">59</td><td class="hits">1</td><td class="source">      streamEnded = true</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">  //this.on(&quot;end&quot;, this.output.end.bind(this.output))</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">1</td><td class="source">  process.on(&quot;unhandledException&quot;, function (e) {</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">    this.bailout(&quot;unhandled exception: &quot; + e.message)</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/inherits/inherits.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/inherits/inherits.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">9</div>
            <div class="hits">9</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = inherits</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">function inherits (c, p, proto) {</td></tr><tr class="hit"><td class="line">4</td><td class="hits">7</td><td class="source">  proto = proto || {}</td></tr><tr class="hit"><td class="line">5</td><td class="hits">7</td><td class="source">  var e = {}</td></tr><tr class="hit"><td class="line">6</td><td class="hits">7</td><td class="source">  ;[c.prototype, proto].forEach(function (s) {</td></tr><tr class="hit"><td class="line">7</td><td class="hits">14</td><td class="source">    Object.getOwnPropertyNames(s).forEach(function (k) {</td></tr><tr class="hit"><td class="line">8</td><td class="hits">7</td><td class="source">      e[k] = Object.getOwnPropertyDescriptor(s, k)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">  })</td></tr><tr class="hit"><td class="line">11</td><td class="hits">7</td><td class="source">  c.prototype = Object.create(p.prototype, e)</td></tr><tr class="hit"><td class="line">12</td><td class="hits">7</td><td class="source">  c.super = p</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">//function Child () {</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">//  Child.super.call(this)</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">//  console.error([this</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">//                ,this.constructor</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">//                ,this.constructor === Child</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">//                ,this.constructor.super === Parent</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">//                ,Object.getPrototypeOf(this) === Child.prototype</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">//                ,Object.getPrototypeOf(Object.getPrototypeOf(this))</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">//                 === Parent.prototype</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">//                ,this instanceof Child</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">//                ,this instanceof Parent])</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">//}</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">//function Parent () {}</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">//inherits(Child, Parent)</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">//new Child</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-results.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-results.js</h2>
          <div class="stats high">
            <div class="percentage">84.8%</div>
            <div class="sloc">33</div>
            <div class="hits">28</div>
            <div class="misses">5</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// A class for counting up results in a test harness.</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = Results</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">  , EventEmitter = require(&quot;events&quot;).EventEmitter</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">inherits(Results, EventEmitter)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">function Results (r) {</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">  //console.error(&quot;result constructor&quot;, r)</td></tr><tr class="hit"><td class="line">12</td><td class="hits">12</td><td class="source">  this.ok = true</td></tr><tr class="hit"><td class="line">13</td><td class="hits">12</td><td class="source">  this.addSet(r)</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">Results.prototype.addSet = function (r) {</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">  //console.error(&quot;add set of results&quot;, r)</td></tr><tr class="hit"><td class="line">18</td><td class="hits">17</td><td class="source">  r = r || {ok: true}</td></tr><tr class="hit"><td class="line">19</td><td class="hits">17</td><td class="source">  ; [ &quot;todo&quot;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">    , &quot;todoPass&quot;</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">    , &quot;todoFail&quot;</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">    , &quot;skip&quot;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">    , &quot;skipPass&quot;</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">    , &quot;skipFail&quot;</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">    , &quot;pass&quot;</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">    , &quot;passTotal&quot;</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">    , &quot;fail&quot;</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">    , &quot;failTotal&quot;</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">    , &quot;tests&quot;</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">    , &quot;testsTotal&quot; ].forEach(function (k) {</td></tr><tr class="hit"><td class="line">31</td><td class="hits">204</td><td class="source">      this[k] = (this[k] || 0) + (r[k] || 0)</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">      //console.error([k, this[k]])</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">    }, this)</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">17</td><td class="source">  this.ok = this.ok &amp;&amp; r.ok &amp;&amp; true</td></tr><tr class="hit"><td class="line">36</td><td class="hits">17</td><td class="source">  this.bailedOut = this.bailedOut || r.bailedOut || false</td></tr><tr class="hit"><td class="line">37</td><td class="hits">17</td><td class="source">  this.list = (this.list || []).concat(r.list || [])</td></tr><tr class="hit"><td class="line">38</td><td class="hits">17</td><td class="source">  this.emit(&quot;set&quot;, this.list)</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">  //console.error(&quot;after addSet&quot;, this)</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">42</td><td class="hits">1</td><td class="source">Results.prototype.add = function (r, addToList) {</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">  //console.error(&quot;add result&quot;, r)</td></tr><tr class="hit"><td class="line">44</td><td class="hits">114</td><td class="source">  var pf = r.ok ? &quot;pass&quot; : &quot;fail&quot;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">    , PF = r.ok ? &quot;Pass&quot; : &quot;Fail&quot;</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">47</td><td class="hits">114</td><td class="source">  this.testsTotal ++</td></tr><tr class="hit"><td class="line">48</td><td class="hits">114</td><td class="source">  this[pf + &quot;Total&quot;] ++</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">114</td><td class="source">  if (r.skip) {</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">    this[&quot;skip&quot; + PF] ++</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">    this.skip ++</td></tr><tr class="hit"><td class="line">53</td><td class="hits">114</td><td class="source">  } else if (r.todo) {</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">    this[&quot;todo&quot; + PF] ++</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">    this.todo ++</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="hit"><td class="line">57</td><td class="hits">114</td><td class="source">    this.tests ++</td></tr><tr class="hit"><td class="line">58</td><td class="hits">114</td><td class="source">    this[pf] ++</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">61</td><td class="hits">114</td><td class="source">  if (r.bailout || typeof r.bailout === &quot;string&quot;) {</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">    // console.error(&quot;Bailing out in result&quot;)</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">    this.bailedOut = true</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">65</td><td class="hits">114</td><td class="source">  this.ok = !!(this.ok &amp;&amp; r.ok)</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">67</td><td class="hits">171</td><td class="source">  if (addToList === false) return</td></tr><tr class="hit"><td class="line">68</td><td class="hits">57</td><td class="source">  this.list = this.list || []</td></tr><tr class="hit"><td class="line">69</td><td class="hits">57</td><td class="source">  this.list.push(r)</td></tr><tr class="hit"><td class="line">70</td><td class="hits">57</td><td class="source">  this.emit(&quot;result&quot;, r)</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-harness.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-harness.js</h2>
          <div class="stats high">
            <div class="percentage">74.8%</div>
            <div class="sloc">103</div>
            <div class="hits">77</div>
            <div class="misses">26</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// a thing that runs tests.</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">// Every &quot;test&quot; is also a harness.  If they do not have a harness,</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">// then they are attached to the defaut &quot;global harness&quot;,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">// which writes its results to stdout.</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">// TODO:</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">// - Bailout should stop running any tests.</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">// - &quot;skip&quot; in the test config obj should skip it.</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">module.exports = Harness</td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">require(&quot;inherits&quot;)(Harness, require(&quot;events&quot;).EventEmitter)</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">var Results = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-results&quot;)</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">  , TapProducer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-producer&quot;)</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">  , assert = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-assert&quot;)</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">function Harness (Test) {</td></tr><tr class="hit"><td class="line">19</td><td class="hits">6</td><td class="source">  if (!(this instanceof Harness)) return new Harness(Test)</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">  //console.error(&quot;Test in &quot;+this.constructor.name, Test)</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">23</td><td class="hits">6</td><td class="source">  this._Test = Test</td></tr><tr class="hit"><td class="line">24</td><td class="hits">6</td><td class="source">  this._plan = null</td></tr><tr class="hit"><td class="line">25</td><td class="hits">6</td><td class="source">  this._children = []</td></tr><tr class="hit"><td class="line">26</td><td class="hits">6</td><td class="source">  this._started = false</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">6</td><td class="source">  this._testCount = 0</td></tr><tr class="hit"><td class="line">29</td><td class="hits">6</td><td class="source">  this._planSum = 0</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">31</td><td class="hits">6</td><td class="source">  this.results = new Results()</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  // emit result events on the harness.</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">  //this.results.on(&quot;result&quot;, function (res) {</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">  //  console.error(&quot;proxying result ev from res to harness&quot;)</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">  //  this.emit(&quot;result&quot;, res)</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">  //}.bind(this))</td></tr><tr class="hit"><td class="line">37</td><td class="hits">6</td><td class="source">  var me = this</td></tr><tr class="hit"><td class="line">38</td><td class="hits">6</td><td class="source">  this.results.on(&quot;result&quot;, this.emit.bind(this, &quot;result&quot;))</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">40</td><td class="hits">6</td><td class="source">  var p = this.process.bind(this)</td></tr><tr class="hit"><td class="line">41</td><td class="hits">6</td><td class="source">  this.process = function () {</td></tr><tr class="hit"><td class="line">42</td><td class="hits">6</td><td class="source">    this._started = true</td></tr><tr class="hit"><td class="line">43</td><td class="hits">6</td><td class="source">    process.nextTick(p)</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">6</td><td class="source">  this.output = new TapProducer()</td></tr><tr class="hit"><td class="line">47</td><td class="hits">6</td><td class="source">  Harness.super.call(this)</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">// this function actually only gets called bound to</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">// the Harness object, and on process.nextTick.  Even if</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">// passed as an event handler, everything *else* will</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">// happen before it gets called.</td></tr><tr class="hit"><td class="line">54</td><td class="hits">1</td><td class="source">Harness.prototype.process = function () {</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  //console.error(&quot;harness process&quot;)</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  // &quot;end&quot; can emit multiple times, so only actually move on</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">  // to the next test if the current one is actually over.</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">  // TODO: multiple in-process tests, if all are marked &quot;async&quot;</td></tr><tr class="hit"><td class="line">59</td><td class="hits">6</td><td class="source">  if (this._current) {</td></tr><tr class="hit"><td class="line">60</td><td class="hits">5</td><td class="source">    if (!this._current._ended) return</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">    // handle the current one before moving onto the next.</td></tr><tr class="hit"><td class="line">62</td><td class="hits">5</td><td class="source">    this.childEnd(this._current)</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">64</td><td class="hits">6</td><td class="source">  var skip = true</td></tr><tr class="hit"><td class="line">65</td><td class="hits">6</td><td class="source">  while (skip) {</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">    //console.error(&quot;checking for skips&quot;)</td></tr><tr class="hit"><td class="line">67</td><td class="hits">6</td><td class="source">    var current = this._current = this._children.shift()</td></tr><tr class="hit"><td class="line">68</td><td class="hits">6</td><td class="source">    if (current) {</td></tr><tr class="hit"><td class="line">69</td><td class="hits">5</td><td class="source">      skip = current.conf.skip</td></tr><tr class="hit"><td class="line">70</td><td class="hits">5</td><td class="source">      if (skip) {</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">        //console.error(&quot;add a failure for the skipping&quot;)</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">        this.results.add(assert.fail(current.conf.name</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">                                    ,{skip:true, diag:false}))</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">      }</td></tr><tr class="hit"><td class="line">75</td><td class="hits">1</td><td class="source">    } else skip = false</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">  // keep processing through skipped tests, instead of running them.</td></tr><tr class="hit"><td class="line">79</td><td class="hits">6</td><td class="source">  if (current &amp;&amp; this._bailedOut) {</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">    return this.process()</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">  //console.error(&quot;got current?&quot;, !!current)</td></tr><tr class="hit"><td class="line">84</td><td class="hits">6</td><td class="source">  if (current) {</td></tr><tr class="hit"><td class="line">85</td><td class="hits">5</td><td class="source">    current.on(&quot;end&quot;, this.process)</td></tr><tr class="hit"><td class="line">86</td><td class="hits">5</td><td class="source">    current.emit(&quot;ready&quot;)</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">    //console.error(&quot;emitted ready&quot;)</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">    //console.error(&quot;_plan&quot;, this._plan, this.constructor.name)</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">    //console.error(&quot;Harness process: no more left.  ending&quot;)</td></tr><tr class="hit"><td class="line">91</td><td class="hits">1</td><td class="source">    if (this._endNice) {</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">      this._endNice()</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="hit"><td class="line">94</td><td class="hits">1</td><td class="source">      this.end()</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">99</td><td class="hits">1</td><td class="source">Harness.prototype.end = function () {</td></tr><tr class="hit"><td class="line">100</td><td class="hits">6</td><td class="source">  if (this._children.length) {</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">    return this.process()</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">  //console.error(&quot;harness end&quot;, this.constructor.name)</td></tr><tr class="hit"><td class="line">104</td><td class="hits">6</td><td class="source">  if (this._bailedOut) return</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">  // can&apos;t call .end() more than once.</td></tr><tr class="hit"><td class="line">107</td><td class="hits">6</td><td class="source">  if (this._ended) {</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">    //console.error(&quot;adding failure for end calling&quot;)</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">    this.results.add(assert.fail(&quot;end called more than once&quot;))</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">  // see if the plan is completed properly, if there was one.</td></tr><tr class="hit"><td class="line">113</td><td class="hits">6</td><td class="source">  if (this._plan !== null) {</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">    var total = this._testCount</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">    if (total !== this._plan) {</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">      this.results.add(assert.equal(total, this._plan, &quot;test count != plan&quot;))</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">    this._plan = total</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">  //console.error(&quot;setting ended true&quot;, this.constructor.name)</td></tr><tr class="hit"><td class="line">122</td><td class="hits">6</td><td class="source">  this._ended = true</td></tr><tr class="hit"><td class="line">123</td><td class="hits">6</td><td class="source">  this.emit(&quot;end&quot;)</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">126</td><td class="hits">1</td><td class="source">Harness.prototype.plan = function (p) {</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">  //console.error(&quot;setting plan&quot;, new Error().stack)</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">  if (this._plan !== null) {</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">    //console.error(&quot;about to add failure for calling plan&quot;)</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">    return this.results.add(assert.fail(&quot;plan set multiple times&quot;))</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">  this._plan = p</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">  if (p === 0 || this.results.testsTotal) {</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">    this.end()</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">138</td><td class="hits">1</td><td class="source">Harness.prototype.childEnd = function (child) {</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">  //console.error(&quot;childEnd&quot;)</td></tr><tr class="hit"><td class="line">140</td><td class="hits">5</td><td class="source">  this._testCount ++</td></tr><tr class="hit"><td class="line">141</td><td class="hits">5</td><td class="source">  this._planSum += child._plan</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">  //console.error(&quot;adding set of child.results&quot;)</td></tr><tr class="hit"><td class="line">143</td><td class="hits">5</td><td class="source">  this.results.addSet(child.results)</td></tr><tr class="hit"><td class="line">144</td><td class="hits">5</td><td class="source">  this.emit(&quot;childEnd&quot;, child)</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source">  // was this planned?</td></tr><tr class="hit"><td class="line">146</td><td class="hits">5</td><td class="source">  if (this._plan === this._testCount) {</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">    //console.error(&quot;plan&quot;, [this._plan, this._testCount])</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">    return this.end()</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">152</td><td class="hits">1</td><td class="source">function copyObj(o) {</td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">  var copied = {}</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">  Object.keys(o).forEach(function (k) { copied[k] = o[k] })</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">  return copied</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">158</td><td class="hits">1</td><td class="source">Harness.prototype.test = function test (name, conf, cb) {</td></tr><tr class="hit"><td class="line">159</td><td class="hits">5</td><td class="source">  if (this._bailedOut) return</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">161</td><td class="hits">10</td><td class="source">  if (typeof conf === &quot;function&quot;) cb = conf, conf = null</td></tr><tr class="hit"><td class="line">162</td><td class="hits">5</td><td class="source">  if (typeof name === &quot;object&quot;) conf = name, name = null</td></tr><tr class="hit"><td class="line">163</td><td class="hits">5</td><td class="source">  if (typeof name === &quot;function&quot;) cb = name, name = null</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">165</td><td class="hits">5</td><td class="source">  conf = (conf ? copyObj(conf) : {})</td></tr><tr class="hit"><td class="line">166</td><td class="hits">5</td><td class="source">  name = name || &quot;&quot;</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source">  //console.error(&quot;making test&quot;, [name, conf, cb])</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">  // timeout: value in milliseconds. Defaults to 30s</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">  // Set to Infinity to have no timeout.</td></tr><tr class="hit"><td class="line">172</td><td class="hits">10</td><td class="source">  if (isNaN(conf.timeout)) conf.timeout = 30000</td></tr><tr class="hit"><td class="line">173</td><td class="hits">5</td><td class="source">  var t = new this._Test(this, name, conf)</td></tr><tr class="hit"><td class="line">174</td><td class="hits">5</td><td class="source">  var self = this</td></tr><tr class="hit"><td class="line">175</td><td class="hits">5</td><td class="source">  if (cb) {</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">    //console.error(&quot;attaching cb to ready event&quot;)</td></tr><tr class="hit"><td class="line">177</td><td class="hits">5</td><td class="source">    t.on(&quot;ready&quot;, function () {</td></tr><tr class="hit"><td class="line">178</td><td class="hits">5</td><td class="source">      if (!isNaN(conf.timeout) &amp;&amp; isFinite(conf.timeout)) {</td></tr><tr class="hit"><td class="line">179</td><td class="hits">5</td><td class="source">        var timer = setTimeout(this.timeout.bind(this), conf.timeout)</td></tr><tr class="hit"><td class="line">180</td><td class="hits">5</td><td class="source">        var clear = function () {</td></tr><tr class="hit"><td class="line">181</td><td class="hits">5</td><td class="source">          clearTimeout(timer)</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source">        }</td></tr><tr class="hit"><td class="line">183</td><td class="hits">5</td><td class="source">        t.on(&quot;end&quot;, clear)</td></tr><tr class="hit"><td class="line">184</td><td class="hits">5</td><td class="source">        t.on(&quot;bailout&quot;, function (message) {</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">          self.bailout(message)</td></tr><tr class="miss"><td class="line">186</td><td class="hits">0</td><td class="source">          clear()</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">    })</td></tr><tr class="hit"><td class="line">190</td><td class="hits">5</td><td class="source">    t.on(&quot;ready&quot;, cb.bind(t, t))</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">    // proxy the child results to this object.</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source">    //t.on(&quot;result&quot;, function (res) {</td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source">    //  console.error(&quot;in harness, proxying result up&quot;)</td></tr><tr class=""><td class="line">194</td><td class="hits"></td><td class="source">    //  t.results.add(res)</td></tr><tr class=""><td class="line">195</td><td class="hits"></td><td class="source">    //})</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">197</td><td class="hits">5</td><td class="source">  return t</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">200</td><td class="hits">1</td><td class="source">Harness.prototype.bailout = function (message) {</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">  // console.error(&quot;Harness bailout&quot;, this.constructor.name)</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">  message = message || &quot;&quot;</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source">  //console.error(&quot;adding bailout message result&quot;)</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">  this.results.add({bailout: message})</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">  // console.error(&quot;&gt;&gt;&gt; results after bailout&quot; , this.results)</td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">  this._bailedOut = true</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">  this.emit(&quot;bailout&quot;, message)</td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">  this.output.end({bailout: message})</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">211</td><td class="hits">1</td><td class="source">Harness.prototype.add = function (child) {</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">  //console.error(&quot;adding child&quot;)</td></tr><tr class="hit"><td class="line">213</td><td class="hits">5</td><td class="source">  this._children.push(child)</td></tr><tr class="hit"><td class="line">214</td><td class="hits">6</td><td class="source">  if (!this._started) this.process()</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">216</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">// the tearDown function is *always* guaranteed to happen.</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source">// Even if there&apos;s a bailout.</td></tr><tr class="hit"><td class="line">219</td><td class="hits">1</td><td class="source">Harness.prototype.tearDown = function (fn) {</td></tr><tr class="miss"><td class="line">220</td><td class="hits">0</td><td class="source">  this.on(&quot;end&quot;, fn)</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-producer.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-producer.js</h2>
          <div class="stats high">
            <div class="percentage">71.8%</div>
            <div class="sloc">78</div>
            <div class="hits">56</div>
            <div class="misses">22</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = TapProducer</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">var Results = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-results&quot;)</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">  , inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">  , yamlish = require(&quot;yamlish&quot;)</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">TapProducer.encode = function (result, diag) {</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">  var tp = new TapProducer(diag)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    , out = &quot;&quot;</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">  tp.on(&quot;data&quot;, function (c) { out += c })</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">  if (Array.isArray(result)) {</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">    result.forEach(tp.write, tp)</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">  } else tp.write(result)</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">  tp.end()</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">  return out</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">inherits(TapProducer, require(&quot;stream&quot;).Stream)</td></tr><tr class="hit"><td class="line">19</td><td class="hits">1</td><td class="source">function TapProducer (diag) {</td></tr><tr class="hit"><td class="line">20</td><td class="hits">6</td><td class="source">  TapProducer.super.call(this)</td></tr><tr class="hit"><td class="line">21</td><td class="hits">6</td><td class="source">  this.diag = diag</td></tr><tr class="hit"><td class="line">22</td><td class="hits">6</td><td class="source">  this.count = 0</td></tr><tr class="hit"><td class="line">23</td><td class="hits">6</td><td class="source">  this.readable = this.writable = true</td></tr><tr class="hit"><td class="line">24</td><td class="hits">6</td><td class="source">  this.results = new Results</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">27</td><td class="hits">1</td><td class="source">TapProducer.prototype.trailer = true</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">29</td><td class="hits">1</td><td class="source">TapProducer.prototype.write = function (res) {</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  // console.error(&quot;TapProducer.write&quot;, res)</td></tr><tr class="hit"><td class="line">31</td><td class="hits">63</td><td class="source">  if (typeof res === &quot;function&quot;) throw new Error(&quot;wtf?&quot;)</td></tr><tr class="hit"><td class="line">32</td><td class="hits">63</td><td class="source">  if (!this.writable) this.emit(&quot;error&quot;, new Error(&quot;not writable&quot;))</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">63</td><td class="source">  if (!this._didHead) {</td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">    this.emit(&quot;data&quot;, &quot;TAP version 13\n&quot;)</td></tr><tr class="hit"><td class="line">36</td><td class="hits">1</td><td class="source">    this._didHead = true</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">39</td><td class="hits">63</td><td class="source">  var diag = res.diag</td></tr><tr class="hit"><td class="line">40</td><td class="hits">126</td><td class="source">  if (diag === undefined) diag = this.diag</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">42</td><td class="hits">63</td><td class="source">  this.emit(&quot;data&quot;, encodeResult(res, this.count + 1, diag))</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">44</td><td class="hits">69</td><td class="source">  if (typeof res === &quot;string&quot;) return true</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">57</td><td class="source">  if (res.bailout) {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">    var bo = &quot;bail out!&quot;</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">    if (typeof res.bailout === &quot;string&quot;) bo += &quot; &quot; + res.bailout</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">    this.emit(&quot;data&quot;, bo)</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">    return</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">52</td><td class="hits">57</td><td class="source">  this.results.add(res, false)</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">54</td><td class="hits">57</td><td class="source">  this.count ++</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">57</td><td class="hits">1</td><td class="source">TapProducer.prototype.end = function (res) {</td></tr><tr class="hit"><td class="line">58</td><td class="hits">1</td><td class="source">  if (res) this.write(res)</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">  // console.error(&quot;TapProducer end&quot;, res, this.results)</td></tr><tr class="hit"><td class="line">60</td><td class="hits">1</td><td class="source">  this.emit(&quot;data&quot;, &quot;\n1..&quot;+this.results.testsTotal+&quot;\n&quot;)</td></tr><tr class="hit"><td class="line">61</td><td class="hits">1</td><td class="source">  if (this.trailer &amp;&amp; typeof this.trailer !== &quot;string&quot;) {</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">    // summary trailer.</td></tr><tr class="hit"><td class="line">63</td><td class="hits">1</td><td class="source">    var trailer = &quot;tests &quot;+this.results.testsTotal + &quot;\n&quot;</td></tr><tr class="hit"><td class="line">64</td><td class="hits">1</td><td class="source">    if (this.results.pass) {</td></tr><tr class="hit"><td class="line">65</td><td class="hits">1</td><td class="source">      trailer += &quot;pass  &quot; + this.results.pass + &quot;\n&quot;</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">67</td><td class="hits">1</td><td class="source">    if (this.results.fail) {</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">      trailer += &quot;fail  &quot; + this.results.fail + &quot;\n&quot;</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">70</td><td class="hits">1</td><td class="source">    if (this.results.skip) {</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">      trailer += &quot;skip  &quot;+this.results.skip + &quot;\n&quot;</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">73</td><td class="hits">1</td><td class="source">    if (this.results.todo) {</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">      trailer += &quot;todo  &quot;+this.results.todo + &quot;\n&quot;</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">76</td><td class="hits">1</td><td class="source">    if (this.results.bailedOut) {</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">      trailer += &quot;bailed out&quot; + &quot;\n&quot;</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">80</td><td class="hits">1</td><td class="source">    if (this.results.testsTotal === this.results.pass) {</td></tr><tr class="hit"><td class="line">81</td><td class="hits">1</td><td class="source">      trailer += &quot;\nok\n&quot;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">83</td><td class="hits">1</td><td class="source">    this.trailer = trailer</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">85</td><td class="hits">2</td><td class="source">  if (this.trailer) this.write(this.trailer)</td></tr><tr class="hit"><td class="line">86</td><td class="hits">1</td><td class="source">  this.writable = false</td></tr><tr class="hit"><td class="line">87</td><td class="hits">1</td><td class="source">  this.emit(&quot;end&quot;, null, this.count, this.ok)</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">90</td><td class="hits">1</td><td class="source">function encodeResult (res, count, diag) {</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">  // console.error(res, count, diag)</td></tr><tr class="hit"><td class="line">92</td><td class="hits">63</td><td class="source">  if (typeof res === &quot;string&quot;) {</td></tr><tr class="hit"><td class="line">93</td><td class="hits">6</td><td class="source">    res = res.split(/\r?\n/).map(function (l) {</td></tr><tr class="hit"><td class="line">94</td><td class="hits">12</td><td class="source">      if (!l.trim()) return l.trim()</td></tr><tr class="hit"><td class="line">95</td><td class="hits">8</td><td class="source">      return &quot;# &quot; + l</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">    }).join(&quot;\n&quot;)</td></tr><tr class="hit"><td class="line">97</td><td class="hits">11</td><td class="source">    if (res.substr(-1) !== &quot;\n&quot;) res += &quot;\n&quot;</td></tr><tr class="hit"><td class="line">98</td><td class="hits">6</td><td class="source">    return res</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">101</td><td class="hits">57</td><td class="source">  if (res.bailout) return &quot;&quot;</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">57</td><td class="source">  if (!!process.env.TAP_NODIAG) diag = false</td></tr><tr class="hit"><td class="line">105</td><td class="hits">57</td><td class="source">  else if (!!process.env.TAP_DIAG) diag = true</td></tr><tr class="hit"><td class="line">106</td><td class="hits">114</td><td class="source">  else if (diag === undefined) diag = !res.ok</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">108</td><td class="hits">57</td><td class="source">  var output = &quot;&quot;</td></tr><tr class="hit"><td class="line">109</td><td class="hits">57</td><td class="source">  res.name = res.name &amp;&amp; (&quot;&quot; + res.name).trim()</td></tr><tr class="hit"><td class="line">110</td><td class="hits">57</td><td class="source">  output += ( !res.ok ? &quot;not &quot; : &quot;&quot;) + &quot;ok &quot; + count</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">            + ( !res.name ? &quot;&quot;</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">              : &quot; &quot; + res.name.replace(/[\r\n]/g, &quot; &quot;) )</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">            + ( res.skip ? &quot; # SKIP&quot;</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">              : res.todo ? &quot; # TODO&quot;</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">              : &quot;&quot; )</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">            + &quot;\n&quot;</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">118</td><td class="hits">114</td><td class="source">  if (!diag) return output</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">  var d = {}</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">    , dc = 0</td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">  Object.keys(res).filter(function (k) {</td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">    return k !== &quot;ok&quot; &amp;&amp; k !== &quot;name&quot; &amp;&amp; k !== &quot;id&quot;</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">  }).forEach(function (k) {</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">    dc ++</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">    d[k] = res[k]</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">  //console.error(d, &quot;about to encode&quot;)</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">  if (dc &gt; 0) output += &quot;  ---&quot;+yamlish.encode(d)+&quot;\n  ...\n&quot;</td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">  return output</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/yamlish/yamlish.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/yamlish/yamlish.js</h2>
          <div class="stats high">
            <div class="percentage">7.0%</div>
            <div class="sloc">128</div>
            <div class="hits">9</div>
            <div class="misses">119</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">exports.encode = encode</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">exports.decode = decode</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var seen = []</td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">function encode (obj, indent) {</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">  var deep = arguments[2]</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">  if (!indent) indent = &quot;  &quot;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">  if (obj instanceof String ||</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">      Object.prototype.toString.call(obj) === &quot;[object String]&quot;) {</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">    obj = obj.toString()</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">  if (obj instanceof Number ||</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">      Object.prototype.toString.call(obj) === &quot;[object Number]&quot;) {</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">    obj = obj.valueOf()</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">  // take out the easy ones.</td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">  switch (typeof obj) {</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">    case &quot;string&quot;:</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">      obj = obj.trim()</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">      if (obj.indexOf(&quot;\n&quot;) !== -1) {</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">        return &quot;|\n&quot; + indent + obj.split(/\r?\n/).join(&quot;\n&quot;+indent)</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">        return (obj)</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">    case &quot;number&quot;:</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">      return obj.toString(10)</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">    case &quot;function&quot;:</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">      return encode(obj.toString(), indent, true)</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    case &quot;boolean&quot;:</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">      return obj.toString()</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">    case &quot;undefined&quot;:</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">      // fallthrough</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    case &quot;object&quot;:</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">      // at this point we know it types as an object</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">      if (!obj) return &quot;~&quot;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">      if (obj instanceof Date ||</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">          Object.prototype.toString.call(obj) === &quot;[object Date]&quot;) {</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">        return JSON.stringify(&quot;[Date &quot; + obj.toISOString() + &quot;]&quot;)</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">      if (obj instanceof RegExp ||</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">          Object.prototype.toString.call(obj) === &quot;[object RegExp]&quot;) {</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">        return JSON.stringify(obj.toString())</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">      if (obj instanceof Boolean ||</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">          Object.prototype.toString.call(obj) === &quot;[object Boolean]&quot;) {</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">        return obj.toString()</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">      if (seen.indexOf(obj) !== -1) {</td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">        return &quot;[Circular]&quot;</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">      seen.push(obj)</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">      if (typeof Buffer === &quot;function&quot; &amp;&amp;</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">          typeof Buffer.isBuffer === &quot;function&quot; &amp;&amp;</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">          Buffer.isBuffer(obj)) return obj.inspect()</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">      if (obj instanceof Error) {</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">        var o = { name: obj.name</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">                , message: obj.message</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">                , type: obj.type }</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">        if (obj.code) o.code = obj.code</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">        if (obj.errno) o.errno = obj.errno</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">        if (obj.type) o.type = obj.type</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">        obj = o</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">      var out = &quot;&quot;</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">      if (Array.isArray(obj)) {</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">        var out = &quot;\n&quot; + indent + &quot;- &quot; +obj.map(function (item) {</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">          return encode(item, indent + &quot;  &quot;, true)</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">        }).join(&quot;\n&quot;+indent + &quot;- &quot;)</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">        break</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">      // an actual object</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">      var keys = Object.keys(obj)</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">        , niceKeys = keys.map(function (k) {</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">            return (k.match(/^[a-zA-Z0-9_]+$/) ? k : JSON.stringify(k)) + &quot;: &quot;</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">          })</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">      //console.error(keys, niceKeys, obj)</td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">      var maxLength = Math.max.apply(Math, niceKeys.map(function (k) {</td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">            return k.length</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">          }).concat(0))</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">      //console.error(niceKeys, maxLength)</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">      var spaces = new Array(maxLength + 1).join(&quot; &quot;)</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">      if (!deep) indent += &quot;  &quot;</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">      out = &quot;\n&quot; + indent + keys.map(function (k, i) {</td></tr><tr class="miss"><td class="line">103</td><td class="hits">0</td><td class="source">        var niceKey = niceKeys[i]</td></tr><tr class="miss"><td class="line">104</td><td class="hits">0</td><td class="source">        return niceKey + spaces.substr(niceKey.length)</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">                       + encode(obj[k], indent + &quot;  &quot;, true)</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">      }).join(&quot;\n&quot; + indent)</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">      break</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">    default: return &quot;&quot;</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">  if (!deep) seen.length = 0</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">  return out</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">115</td><td class="hits">1</td><td class="source">function decode (str) {</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">  var v = str.trim()</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">    , d</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source">    , dateRe = /^\[Date ([0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}(?::[0-9]{2})?(?:\.[0-9]{3})?(?:[A-Z]+)?)\]$/</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">  if (v === &quot;~&quot;) return null</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">  try {</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">    var jp = JSON.parse(str)</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">  } catch (e) {</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">    var jp = &quot;&quot;</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">  if (jp &amp;&amp;</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">      typeof jp === &quot;string&quot; &amp;&amp;</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">      (d = jp.match(dateRe)) &amp;&amp;</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">      (d = Date.parse(d[1]))) {</td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">    return new Date(d)</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">135</td><td class="hits">0</td><td class="source">  if (typeof jp === &quot;boolean&quot;) return jp</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">  if (v &amp;&amp; !isNaN(v)) return parseInt(v, 10)</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">  // something interesting.</td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">  var lines = str.split(/\r?\n/)</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">  // check if it&apos;s some kind of string or something.</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source">  // if the first line is &gt; or | then it&apos;s a wrapping indented string.</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">  // if the first line is blank, and there are many lines,</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">  // then it&apos;s an array or object.</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">  // otherwise, it&apos;s just &quot;&quot;</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">  var first = lines.shift().trim()</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">  if (lines.length) lines = undent(lines)</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">  switch (first) {</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source">    case &quot;|&quot;:</td></tr><tr class="miss"><td class="line">149</td><td class="hits">0</td><td class="source">      return lines.join(&quot;\n&quot;)</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">    case &quot;&gt;&quot;:</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">      return lines.join(&quot;\n&quot;).split(/\n{2,}/).map(function (l) {</td></tr><tr class="miss"><td class="line">152</td><td class="hits">0</td><td class="source">        return l.split(/\n/).join(&quot; &quot;)</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source">      }).join(&quot;\n&quot;)</td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source">    default:</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">      if (!lines.length) return first</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">      // array or object.</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">      // the first line will be either &quot;- value&quot; or &quot;key: value&quot;</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">      return lines[0].charAt(0) === &quot;-&quot; ? decodeArr(lines) : decodeObj(lines)</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">162</td><td class="hits">1</td><td class="source">function decodeArr (lines) {</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">  var out = []</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">    , key = 0</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">    , val = []</td></tr><tr class="miss"><td class="line">166</td><td class="hits">0</td><td class="source">  for (var i = 0, l = lines.length; i &lt; l; i ++) {</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">    // if it starts with a -, then it&apos;s a new thing</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">    var line = lines[i]</td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">    if (line.charAt(0) === &quot;-&quot;) {</td></tr><tr class="miss"><td class="line">170</td><td class="hits">0</td><td class="source">      if (val.length) {</td></tr><tr class="miss"><td class="line">171</td><td class="hits">0</td><td class="source">        out[key ++] = decode(val.join(&quot;\n&quot;))</td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">        val.length = 0</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">      val.push(line.substr(1).trim())</td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">    } else if (line.charAt(0) === &quot; &quot;) {</td></tr><tr class="miss"><td class="line">176</td><td class="hits">0</td><td class="source">      val.push(line)</td></tr><tr class="miss"><td class="line">177</td><td class="hits">0</td><td class="source">    } else return []</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">  if (val.length) {</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">    out[key ++] = decode(val.join(&quot;\n&quot;))</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">  return out</td></tr><tr class=""><td class="line">183</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">185</td><td class="hits">1</td><td class="source">function decodeObj (lines) {</td></tr><tr class="miss"><td class="line">186</td><td class="hits">0</td><td class="source">  var out = {}</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">    , val = []</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">    , key = null</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">  for (var i = 0, l = lines.length; i &lt; l; i ++) {</td></tr><tr class="miss"><td class="line">191</td><td class="hits">0</td><td class="source">    var line = lines[i]</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">    if (line.charAt(0) === &quot; &quot;) {</td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">      val.push(line)</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">      continue</td></tr><tr class=""><td class="line">195</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">    // some key:val</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">    if (val.length) {</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">      out[key] = decode(val.join(&quot;\n&quot;))</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">      val.length = 0</td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">    // parse out the quoted key</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">    var first</td></tr><tr class="miss"><td class="line">203</td><td class="hits">0</td><td class="source">    if (line.charAt(0) === &quot;\&quot;&quot;) {</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">      for (var ii = 1, ll = line.length, esc = false; ii &lt; ll; ii ++) {</td></tr><tr class="miss"><td class="line">205</td><td class="hits">0</td><td class="source">        var c = line.charAt(ii)</td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">        if (c === &quot;\\&quot;) {</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">          esc = !esc</td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">        } else if (c === &quot;\&quot;&quot; &amp;&amp; !esc) {</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">          break</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">212</td><td class="hits">0</td><td class="source">      key = JSON.parse(line.substr(0, ii + 1))</td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">      line = line.substr(ii + 1)</td></tr><tr class="miss"><td class="line">214</td><td class="hits">0</td><td class="source">      first = line.substr(line.indexOf(&quot;:&quot;) + 1).trim()</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">      var kv = line.split(&quot;:&quot;)</td></tr><tr class="miss"><td class="line">217</td><td class="hits">0</td><td class="source">      key = kv.shift()</td></tr><tr class="miss"><td class="line">218</td><td class="hits">0</td><td class="source">      first = kv.join(&quot;:&quot;).trim()</td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">220</td><td class="hits"></td><td class="source">    // now we&apos;ve set a key, and &quot;first&quot; has the first line of the value.</td></tr><tr class="miss"><td class="line">221</td><td class="hits">0</td><td class="source">    val.push(first.trim())</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">  if (val.length) out[key] = decode(val.join(&quot;\n&quot;))</td></tr><tr class="miss"><td class="line">224</td><td class="hits">0</td><td class="source">  return out</td></tr><tr class=""><td class="line">225</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">227</td><td class="hits">1</td><td class="source">function undent (lines) {</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">  var i = lines[0].match(/^\s*/)[0].length</td></tr><tr class="miss"><td class="line">229</td><td class="hits">0</td><td class="source">  return lines.map(function (line) {</td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">    return line.substr(i)</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">234</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source">// XXX Turn this into proper tests.</td></tr><tr class="hit"><td class="line">236</td><td class="hits">1</td><td class="source">if (require.main === module) {</td></tr><tr class="miss"><td class="line">237</td><td class="hits">0</td><td class="source">var obj = [{&quot;bigstring&quot;:new Error().stack}</td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source">          ,{ar:[{list:&quot;of&quot;},{some:&quot;objects&quot;}]}</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">          ,{date:new Date()}</td></tr><tr class=""><td class="line">240</td><td class="hits"></td><td class="source">          ,{&quot;super huge string&quot;:new Error().stack}</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">          ]</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">243</td><td class="hits">0</td><td class="source">Date.prototype.toJSON = function (k, val) {</td></tr><tr class="miss"><td class="line">244</td><td class="hits">0</td><td class="source">  console.error(k, val, this)</td></tr><tr class="miss"><td class="line">245</td><td class="hits">0</td><td class="source">  return this.toISOString() + &quot; (it&apos;s a date)&quot;</td></tr><tr class=""><td class="line">246</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">248</td><td class="hits">0</td><td class="source">var enc = encode(obj)</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source">  , dec = decode(enc)</td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">  , encDec = encode(dec)</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">252</td><td class="hits">0</td><td class="source">console.error(JSON.stringify({ obj : obj</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">                             , enc : enc.split(/\n/)</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">                             , dec : dec }, null, 2), encDec === enc)</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">256</td><td class="hits">0</td><td class="source">var num = 100</td></tr><tr class=""><td class="line">257</td><td class="hits"></td><td class="source">  , encNum = encode(num)</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source">  , decEncNum = decode(encNum)</td></tr><tr class="miss"><td class="line">259</td><td class="hits">0</td><td class="source">console.error([num, encNum, decEncNum])</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">261</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-assert.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-assert.js</h2>
          <div class="stats high">
            <div class="percentage">41.1%</div>
            <div class="sloc">241</div>
            <div class="hits">99</div>
            <div class="misses">142</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// an assert module that returns tappable data for each assertion.</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var difflet = require(&apos;difflet&apos;)</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">  , deepEqual = require(&apos;deep-equal&apos;)</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">  , bufferEqual = require(&apos;buffer-equal&apos;)</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">module.exports = assert</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">var syns = {}</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  , id = 1</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">function assert (ok, message, extra) {</td></tr><tr class="hit"><td class="line">12</td><td class="hits">57</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">  //console.error(&quot;assert %j&quot;, [ok, message, extra])</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">  //if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">  //console.error(&quot;assert&quot;, [ok, message, extra])</td></tr><tr class="hit"><td class="line">17</td><td class="hits">57</td><td class="source">  ok = !!ok</td></tr><tr class="hit"><td class="line">18</td><td class="hits">57</td><td class="source">  var res = { id : id ++, ok: ok }</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">20</td><td class="hits">57</td><td class="source">  var caller = getCaller(extra &amp;&amp; extra.error)</td></tr><tr class="hit"><td class="line">21</td><td class="hits">57</td><td class="source">  if (extra &amp;&amp; extra.error) {</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">    res.type = extra.error.name</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">    res.message = extra.error.message</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">    res.code = extra.error.code</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">             || extra.error.type</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">    res.errno = extra.error.errno</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">    delete extra.error</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">29</td><td class="hits">57</td><td class="source">  if (caller.file) {</td></tr><tr class="hit"><td class="line">30</td><td class="hits">57</td><td class="source">    res.file = caller.file</td></tr><tr class="hit"><td class="line">31</td><td class="hits">57</td><td class="source">    res.line = +caller.line</td></tr><tr class="hit"><td class="line">32</td><td class="hits">57</td><td class="source">    res.column = +caller.column</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">34</td><td class="hits">57</td><td class="source">  res.stack = caller.stack</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">36</td><td class="hits">57</td><td class="source">  res.name = message || &quot;(unnamed assert)&quot;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">38</td><td class="hits">114</td><td class="source">  if (extra) Object.keys(extra).forEach(function (k) {</td></tr><tr class="hit"><td class="line">39</td><td class="hits">228</td><td class="source">    if (!res.hasOwnProperty(k)) res[k] = extra[k]</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">  // strings and objects are hard to diff by eye</td></tr><tr class="hit"><td class="line">43</td><td class="hits">57</td><td class="source">  if (!ok &amp;&amp;</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">      res.hasOwnProperty(&quot;found&quot;) &amp;&amp;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">      res.hasOwnProperty(&quot;wanted&quot;) &amp;&amp;</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">      res.found !== res.wanted) {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">    if (typeof res.wanted !== typeof res.found ||</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">        typeof res.wanted === &quot;object&quot; &amp;&amp; (!res.found || !res.wanted)) {</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">      res.type = { found: typeof found</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">                 , wanted: typeof wanted }</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">    } else if (typeof res.wanted === &quot;string&quot;) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">      res.diff = diffString(res.found, res.wanted)</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">    } else if (typeof res.wanted === &quot;object&quot;) {</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">      res.diff = diffObject(res.found, res.wanted)</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">  //console.error(&quot;assert return&quot;, res)</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">60</td><td class="hits">57</td><td class="source">  return res</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">62</td><td class="hits">1</td><td class="source">assert.ok = assert</td></tr><tr class="hit"><td class="line">63</td><td class="hits">1</td><td class="source">syns.ok = [ &quot;true&quot;, &quot;assert&quot; ]</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">66</td><td class="hits">1</td><td class="source">function notOk (ok, message, extra) {</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">  return assert(!ok, message, extra)</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">69</td><td class="hits">1</td><td class="source">assert.notOk = notOk</td></tr><tr class="hit"><td class="line">70</td><td class="hits">1</td><td class="source">syns.notOk = [ &quot;false&quot;, &quot;notok&quot; ]</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">72</td><td class="hits">1</td><td class="source">function error (er, message, extra) {</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">  if (!er) {</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">    // just like notOk(er)</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">    return assert(!er, message, extra)</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">  message = message || er.message</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">  extra = extra || {}</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">  extra.error = er</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">  return assert.fail(message, extra)</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">82</td><td class="hits">1</td><td class="source">assert.error = error</td></tr><tr class="hit"><td class="line">83</td><td class="hits">1</td><td class="source">syns.error = [ &quot;ifError&quot;, &quot;ifErr&quot;, &quot;iferror&quot; ]</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">86</td><td class="hits">1</td><td class="source">function pass (message, extra) {</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">  return assert(true, message, extra)</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">89</td><td class="hits">1</td><td class="source">assert.pass = pass</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">91</td><td class="hits">1</td><td class="source">function fail (message, extra) {</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">  //console.error(&quot;assert.fail&quot;, [message, extra])</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">  //if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">  return assert(false, message, extra)</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">96</td><td class="hits">1</td><td class="source">assert.fail = fail</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">98</td><td class="hits">1</td><td class="source">function skip (message, extra) {</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">  //console.error(&quot;assert.skip&quot;, message, extra)</td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">  if (!extra) extra = {}</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">  return { id: id ++, skip: true, name: message || &quot;&quot; }</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">103</td><td class="hits">1</td><td class="source">assert.skip = skip</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">105</td><td class="hits">1</td><td class="source">function throws (fn, wanted, message, extra) {</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">  if (typeof wanted === &quot;string&quot;) {</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">    extra = message</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">    message = wanted</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">    wanted = null</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">  var found = null</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">  try {</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">    fn()</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">  } catch (e) {</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">    found = { name: e.name, message: e.message }</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">  extra = extra || {}</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">  extra.found = found</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">  if (wanted) {</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">    wanted = { name: wanted.name, message: wanted.message }</td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">    extra.wanted = wanted</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">  if (!message) {</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">    message = &quot;Expected to throw&quot;</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">    if (wanted) message += &quot;: &quot;+wanted.name + &quot; &quot; + wanted.message</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">  return (wanted) ? assert.similar(found, wanted, message, extra)</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">                  : assert.ok(found, message, extra)</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">137</td><td class="hits">1</td><td class="source">assert.throws = throws</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">140</td><td class="hits">1</td><td class="source">function doesNotThrow (fn, message, extra) {</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">  var found = null</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">  try {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">    fn()</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source">  } catch (e) {</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">    found = {name: e.name, message: e.message}</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">  message = message || &quot;Should not throw&quot;</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">  return assert.equal(found, null, message, extra)</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">152</td><td class="hits">1</td><td class="source">assert.doesNotThrow = doesNotThrow</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">155</td><td class="hits">1</td><td class="source">function equal (a, b, message, extra) {</td></tr><tr class="hit"><td class="line">156</td><td class="hits">27</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="hit"><td class="line">157</td><td class="hits">27</td><td class="source">  extra = extra || {}</td></tr><tr class="hit"><td class="line">158</td><td class="hits">27</td><td class="source">  message = message || &quot;should be equal&quot;</td></tr><tr class="hit"><td class="line">159</td><td class="hits">27</td><td class="source">  extra.found = a</td></tr><tr class="hit"><td class="line">160</td><td class="hits">27</td><td class="source">  extra.wanted = b</td></tr><tr class="hit"><td class="line">161</td><td class="hits">27</td><td class="source">  return assert(a === b, message, extra)</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">163</td><td class="hits">1</td><td class="source">assert.equal = equal</td></tr><tr class="hit"><td class="line">164</td><td class="hits">1</td><td class="source">syns.equal = [&quot;equals&quot;</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">             ,&quot;isEqual&quot;</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source">             ,&quot;is&quot;</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">             ,&quot;strictEqual&quot;</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source">             ,&quot;strictEquals&quot;]</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">171</td><td class="hits">1</td><td class="source">function equivalent (a, b, message, extra) {</td></tr><tr class="hit"><td class="line">172</td><td class="hits">30</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="hit"><td class="line">173</td><td class="hits">30</td><td class="source">  var extra = extra || {}</td></tr><tr class="hit"><td class="line">174</td><td class="hits">30</td><td class="source">  message = message || &quot;should be equivalent&quot;</td></tr><tr class="hit"><td class="line">175</td><td class="hits">30</td><td class="source">  extra.found = a</td></tr><tr class="hit"><td class="line">176</td><td class="hits">30</td><td class="source">  extra.wanted = b</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">178</td><td class="hits">30</td><td class="source">  if (Buffer.isBuffer(a) &amp;&amp; Buffer.isBuffer(b)) {</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">    return assert(bufferEqual(a, b), message, extra)</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="hit"><td class="line">181</td><td class="hits">30</td><td class="source">    return assert(deepEqual(a, b), message, extra)</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">183</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">184</td><td class="hits">1</td><td class="source">assert.equivalent = equivalent</td></tr><tr class="hit"><td class="line">185</td><td class="hits">1</td><td class="source">syns.equivalent = [&quot;isEquivalent&quot;</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">                  ,&quot;looseEqual&quot;</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">                  ,&quot;looseEquals&quot;</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">                  ,&quot;isDeeply&quot;</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">                  ,&quot;same&quot;</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source">                  ,&quot;deepEqual&quot;</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">                  ,&quot;deepEquals&quot;]</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">194</td><td class="hits">1</td><td class="source">function inequal (a, b, message, extra) {</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">196</td><td class="hits">0</td><td class="source">  extra = extra || {}</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">  message = message || &quot;should not be equal&quot;</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">  extra.found = a</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">  extra.doNotWant = b</td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">  return assert(a !== b, message, extra)</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">202</td><td class="hits">1</td><td class="source">assert.inequal = inequal</td></tr><tr class="hit"><td class="line">203</td><td class="hits">1</td><td class="source">syns.inequal = [&quot;notEqual&quot;</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source">               ,&quot;notEquals&quot;</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">               ,&quot;notStrictEqual&quot;</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source">               ,&quot;notStrictEquals&quot;</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source">               ,&quot;isNotEqual&quot;</td></tr><tr class=""><td class="line">208</td><td class="hits"></td><td class="source">               ,&quot;isNot&quot;</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">               ,&quot;not&quot;</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source">               ,&quot;doesNotEqual&quot;</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">               ,&quot;isInequal&quot;]</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">214</td><td class="hits">1</td><td class="source">function inequivalent (a, b, message, extra) {</td></tr><tr class="miss"><td class="line">215</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">  extra = extra || {}</td></tr><tr class="miss"><td class="line">217</td><td class="hits">0</td><td class="source">  message = message || &quot;should not be equivalent&quot;</td></tr><tr class="miss"><td class="line">218</td><td class="hits">0</td><td class="source">  extra.found = a</td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">  extra.doNotWant = b</td></tr><tr class=""><td class="line">220</td><td class="hits"></td><td class="source">  </td></tr><tr class="miss"><td class="line">221</td><td class="hits">0</td><td class="source">  if (Buffer.isBuffer(a) &amp;&amp; Buffer.isBuffer(b)) {</td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">    return assert(!bufferEqual(a, b), message, extra)</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">224</td><td class="hits">0</td><td class="source">    return assert(!deepEqual(a, b), message, extra)</td></tr><tr class=""><td class="line">225</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">227</td><td class="hits">1</td><td class="source">assert.inequivalent = inequivalent</td></tr><tr class="hit"><td class="line">228</td><td class="hits">1</td><td class="source">syns.inequivalent = [&quot;notEquivalent&quot;</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">                    ,&quot;notDeepEqual&quot;</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source">                    ,&quot;notDeeply&quot;</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">                    ,&quot;notSame&quot;</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">                    ,&quot;isNotDeepEqual&quot;</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">                    ,&quot;isNotDeeply&quot;</td></tr><tr class=""><td class="line">234</td><td class="hits"></td><td class="source">                    ,&quot;isNotEquivalent&quot;</td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source">                    ,&quot;isInequivalent&quot;]</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">237</td><td class="hits">1</td><td class="source">function similar (a, b, message, extra, flip) {</td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">  // test that a has all the fields in b</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">  message = message || &quot;should be similar&quot;</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">242</td><td class="hits">0</td><td class="source">  if (typeof a === &quot;string&quot; &amp;&amp;</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source">      (Object.prototype.toString.call(b) === &quot;[object RegExp]&quot;)) {</td></tr><tr class="miss"><td class="line">244</td><td class="hits">0</td><td class="source">    extra = extra || {}</td></tr><tr class="miss"><td class="line">245</td><td class="hits">0</td><td class="source">    extra.pattern = b</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">    extra.string = a</td></tr><tr class="miss"><td class="line">247</td><td class="hits">0</td><td class="source">    var ok = a.match(b)</td></tr><tr class="miss"><td class="line">248</td><td class="hits">0</td><td class="source">    extra.match = ok</td></tr><tr class="miss"><td class="line">249</td><td class="hits">0</td><td class="source">    if (flip) ok = !ok</td></tr><tr class="miss"><td class="line">250</td><td class="hits">0</td><td class="source">    return assert.ok(ok, message, extra)</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">253</td><td class="hits">0</td><td class="source">  var isObj = assert(a &amp;&amp; typeof a === &quot;object&quot;, message, extra)</td></tr><tr class="miss"><td class="line">254</td><td class="hits">0</td><td class="source">  if (!isObj.ok) {</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source">    // not an object</td></tr><tr class="miss"><td class="line">256</td><td class="hits">0</td><td class="source">    if (a == b) isObj.ok = true</td></tr><tr class="miss"><td class="line">257</td><td class="hits">0</td><td class="source">    if (flip) isObj.ok = !isObj.ok</td></tr><tr class="miss"><td class="line">258</td><td class="hits">0</td><td class="source">    return isObj</td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">  var eq = flip ? inequivalent : equivalent</td></tr><tr class="miss"><td class="line">262</td><td class="hits">0</td><td class="source">  return eq(selectFields(a, b), b, message, extra)</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">264</td><td class="hits">1</td><td class="source">assert.similar = similar</td></tr><tr class="hit"><td class="line">265</td><td class="hits">1</td><td class="source">syns.similar = [&quot;isSimilar&quot;</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">               ,&quot;has&quot;</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source">               ,&quot;hasFields&quot;</td></tr><tr class=""><td class="line">268</td><td class="hits"></td><td class="source">               ,&quot;like&quot;</td></tr><tr class=""><td class="line">269</td><td class="hits"></td><td class="source">               ,&quot;isLike&quot;]</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">271</td><td class="hits">1</td><td class="source">function dissimilar (a, b, message, extra) {</td></tr><tr class="miss"><td class="line">272</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">273</td><td class="hits">0</td><td class="source">  message = message || &quot;should be dissimilar&quot;</td></tr><tr class="miss"><td class="line">274</td><td class="hits">0</td><td class="source">  return similar(a, b, message, extra, true)</td></tr><tr class=""><td class="line">275</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">276</td><td class="hits">1</td><td class="source">assert.dissimilar = dissimilar</td></tr><tr class="hit"><td class="line">277</td><td class="hits">1</td><td class="source">syns.dissimilar = [&quot;unsimilar&quot;</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source">                  ,&quot;notSimilar&quot;</td></tr><tr class=""><td class="line">279</td><td class="hits"></td><td class="source">                  ,&quot;unlike&quot;</td></tr><tr class=""><td class="line">280</td><td class="hits"></td><td class="source">                  ,&quot;isUnlike&quot;</td></tr><tr class=""><td class="line">281</td><td class="hits"></td><td class="source">                  ,&quot;notLike&quot;</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">                  ,&quot;isNotLike&quot;</td></tr><tr class=""><td class="line">283</td><td class="hits"></td><td class="source">                  ,&quot;doesNotHave&quot;</td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source">                  ,&quot;isNotSimilar&quot;</td></tr><tr class=""><td class="line">285</td><td class="hits"></td><td class="source">                  ,&quot;isDissimilar&quot;]</td></tr><tr class=""><td class="line">286</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">287</td><td class="hits">1</td><td class="source">function type (thing, t, message, extra) {</td></tr><tr class="miss"><td class="line">288</td><td class="hits">0</td><td class="source">  if (extra &amp;&amp; extra.skip) return assert.skip(message, extra)</td></tr><tr class="miss"><td class="line">289</td><td class="hits">0</td><td class="source">  var name = t</td></tr><tr class="miss"><td class="line">290</td><td class="hits">0</td><td class="source">  if (typeof name === &quot;function&quot;) name = name.name || &quot;(anonymous ctor)&quot;</td></tr><tr class=""><td class="line">291</td><td class="hits"></td><td class="source">  //console.error(&quot;name=%s&quot;, name)</td></tr><tr class="miss"><td class="line">292</td><td class="hits">0</td><td class="source">  message = message || &quot;type is &quot;+name</td></tr><tr class="miss"><td class="line">293</td><td class="hits">0</td><td class="source">  var type = typeof thing</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source">  //console.error(&quot;type=%s&quot;, type)</td></tr><tr class="miss"><td class="line">295</td><td class="hits">0</td><td class="source">  if (!thing &amp;&amp; type === &quot;object&quot;) type = &quot;null&quot;</td></tr><tr class="miss"><td class="line">296</td><td class="hits">0</td><td class="source">  if (type === &quot;object&quot; &amp;&amp; t !== &quot;object&quot;) {</td></tr><tr class="miss"><td class="line">297</td><td class="hits">0</td><td class="source">    if (typeof t === &quot;function&quot;) {</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">      //console.error(&quot;it is a function!&quot;)</td></tr><tr class="miss"><td class="line">299</td><td class="hits">0</td><td class="source">      extra = extra || {}</td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">      extra.found = Object.getPrototypeOf(thing).constructor.name</td></tr><tr class="miss"><td class="line">301</td><td class="hits">0</td><td class="source">      extra.wanted = name</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">      //console.error(thing instanceof t, name)</td></tr><tr class="miss"><td class="line">303</td><td class="hits">0</td><td class="source">      return assert.ok(thing instanceof t, message, extra)</td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">305</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">306</td><td class="hits"></td><td class="source">    //console.error(&quot;check prototype chain&quot;)</td></tr><tr class=""><td class="line">307</td><td class="hits"></td><td class="source">    // check against classnames or objects in prototype chain, as well.</td></tr><tr class=""><td class="line">308</td><td class="hits"></td><td class="source">    // type(new Error(&quot;asdf&quot;), &quot;Error&quot;)</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source">    // type(Object.create(foo), foo)</td></tr><tr class="miss"><td class="line">310</td><td class="hits">0</td><td class="source">    var p = thing</td></tr><tr class="miss"><td class="line">311</td><td class="hits">0</td><td class="source">    while (p = Object.getPrototypeOf(p)) {</td></tr><tr class="miss"><td class="line">312</td><td class="hits">0</td><td class="source">      if (p === t || p.constructor &amp;&amp; p.constructor.name === t) {</td></tr><tr class="miss"><td class="line">313</td><td class="hits">0</td><td class="source">        type = name</td></tr><tr class="miss"><td class="line">314</td><td class="hits">0</td><td class="source">        break</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">317</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">318</td><td class="hits"></td><td class="source">  //console.error(type, name, type === name)</td></tr><tr class="miss"><td class="line">319</td><td class="hits">0</td><td class="source">  return assert.equal(type, name, message, extra)</td></tr><tr class=""><td class="line">320</td><td class="hits"></td><td class="source">}</td></tr><tr class="hit"><td class="line">321</td><td class="hits">1</td><td class="source">assert.type = type</td></tr><tr class="hit"><td class="line">322</td><td class="hits">1</td><td class="source">syns.type = [&quot;isa&quot;]</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">324</td><td class="hits"></td><td class="source">// synonyms are helpful.</td></tr><tr class="hit"><td class="line">325</td><td class="hits">1</td><td class="source">Object.keys(syns).forEach(function (c) {</td></tr><tr class="hit"><td class="line">326</td><td class="hits">10</td><td class="source">  syns[c].forEach(function (s) {</td></tr><tr class="hit"><td class="line">327</td><td class="hits">51</td><td class="source">    Object.defineProperty(assert, s, { value: assert[c], enumerable: false })</td></tr><tr class=""><td class="line">328</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">329</td><td class="hits"></td><td class="source">})</td></tr><tr class=""><td class="line">330</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">// helpers below</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">333</td><td class="hits">1</td><td class="source">function selectFields (a, b) {</td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source">  // get the values in A of the fields in B</td></tr><tr class="miss"><td class="line">335</td><td class="hits">0</td><td class="source">  var ret = Array.isArray(b) ? [] : {}</td></tr><tr class="miss"><td class="line">336</td><td class="hits">0</td><td class="source">  Object.keys(b).forEach(function (k) {</td></tr><tr class="miss"><td class="line">337</td><td class="hits">0</td><td class="source">    if (!a.hasOwnProperty(k)) return</td></tr><tr class="miss"><td class="line">338</td><td class="hits">0</td><td class="source">    var v = b[k]</td></tr><tr class=""><td class="line">339</td><td class="hits"></td><td class="source">      , av = a[k]</td></tr><tr class="miss"><td class="line">340</td><td class="hits">0</td><td class="source">    if (v &amp;&amp; av &amp;&amp; typeof v === &quot;object&quot; &amp;&amp; typeof av === &quot;object&quot;</td></tr><tr class=""><td class="line">341</td><td class="hits"></td><td class="source">       &amp;&amp; !(v instanceof Date)</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source">       &amp;&amp; !(v instanceof RegExp)</td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source">       &amp;&amp; !(v instanceof String)</td></tr><tr class=""><td class="line">344</td><td class="hits"></td><td class="source">       &amp;&amp; !(v instanceof Boolean)</td></tr><tr class=""><td class="line">345</td><td class="hits"></td><td class="source">       &amp;&amp; !(v instanceof Number)</td></tr><tr class=""><td class="line">346</td><td class="hits"></td><td class="source">       &amp;&amp; !(Array.isArray(v))) {</td></tr><tr class="miss"><td class="line">347</td><td class="hits">0</td><td class="source">      ret[k] = selectFields(av, v)</td></tr><tr class="miss"><td class="line">348</td><td class="hits">0</td><td class="source">    } else ret[k] = av</td></tr><tr class=""><td class="line">349</td><td class="hits"></td><td class="source">  })</td></tr><tr class="miss"><td class="line">350</td><td class="hits">0</td><td class="source">  return ret</td></tr><tr class=""><td class="line">351</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">352</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">353</td><td class="hits">1</td><td class="source">function sortObject (obj) {</td></tr><tr class="miss"><td class="line">354</td><td class="hits">0</td><td class="source">  if (typeof obj !== &apos;object&apos; || Array.isArray(obj) || obj === null) {</td></tr><tr class="miss"><td class="line">355</td><td class="hits">0</td><td class="source">    return obj</td></tr><tr class=""><td class="line">356</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">357</td><td class="hits"></td><td class="source">   </td></tr><tr class="miss"><td class="line">358</td><td class="hits">0</td><td class="source">  return Object.keys(obj).sort().reduce(function (acc, key) {</td></tr><tr class="miss"><td class="line">359</td><td class="hits">0</td><td class="source">    acc[key] = sortObject(obj[key])</td></tr><tr class="miss"><td class="line">360</td><td class="hits">0</td><td class="source">    return acc</td></tr><tr class=""><td class="line">361</td><td class="hits"></td><td class="source">  }, {})</td></tr><tr class=""><td class="line">362</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">363</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">364</td><td class="hits">1</td><td class="source">function stringify (a) {</td></tr><tr class="miss"><td class="line">365</td><td class="hits">0</td><td class="source">  return JSON.stringify(sortObject(a), (function () {</td></tr><tr class="miss"><td class="line">366</td><td class="hits">0</td><td class="source">    var seen = []</td></tr><tr class=""><td class="line">367</td><td class="hits"></td><td class="source">      , keys = []</td></tr><tr class="miss"><td class="line">368</td><td class="hits">0</td><td class="source">    return function (key, val) {</td></tr><tr class="miss"><td class="line">369</td><td class="hits">0</td><td class="source">      var s = seen.indexOf(val)</td></tr><tr class="miss"><td class="line">370</td><td class="hits">0</td><td class="source">      if (s !== -1) {</td></tr><tr class="miss"><td class="line">371</td><td class="hits">0</td><td class="source">        return &quot;[Circular: &quot;+keys[s]+&quot;]&quot;</td></tr><tr class=""><td class="line">372</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">373</td><td class="hits">0</td><td class="source">      if (val &amp;&amp; typeof val === &quot;object&quot; || typeof val === &quot;function&quot;) {</td></tr><tr class="miss"><td class="line">374</td><td class="hits">0</td><td class="source">        seen.push(val)</td></tr><tr class="miss"><td class="line">375</td><td class="hits">0</td><td class="source">        keys.push(val[&quot;!&quot;] || val.name || key || &quot;&lt;root&gt;&quot;)</td></tr><tr class="miss"><td class="line">376</td><td class="hits">0</td><td class="source">        if (typeof val === &quot;function&quot;) {</td></tr><tr class="miss"><td class="line">377</td><td class="hits">0</td><td class="source">          return val.toString().split(/\n/)[0]</td></tr><tr class="miss"><td class="line">378</td><td class="hits">0</td><td class="source">        } else if (typeof val.toUTCString === &quot;function&quot;) {</td></tr><tr class="miss"><td class="line">379</td><td class="hits">0</td><td class="source">          return val.toUTCString()</td></tr><tr class=""><td class="line">380</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">381</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">382</td><td class="hits">0</td><td class="source">      return val</td></tr><tr class=""><td class="line">383</td><td class="hits"></td><td class="source">  }})())</td></tr><tr class=""><td class="line">384</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">385</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">386</td><td class="hits">1</td><td class="source">function diffString (f, w) {</td></tr><tr class="miss"><td class="line">387</td><td class="hits">0</td><td class="source">  if (w === f) return null</td></tr><tr class="miss"><td class="line">388</td><td class="hits">0</td><td class="source">  var p = 0</td></tr><tr class=""><td class="line">389</td><td class="hits"></td><td class="source">    , l = w.length</td></tr><tr class="miss"><td class="line">390</td><td class="hits">0</td><td class="source">  while (p &lt; l &amp;&amp; w.charAt(p) === f.charAt(p)) p ++</td></tr><tr class="miss"><td class="line">391</td><td class="hits">0</td><td class="source">  w = stringify(w).substr(1).replace(/&quot;$/, &quot;&quot;)</td></tr><tr class="miss"><td class="line">392</td><td class="hits">0</td><td class="source">  f = stringify(f).substr(1).replace(/&quot;$/, &quot;&quot;)</td></tr><tr class="miss"><td class="line">393</td><td class="hits">0</td><td class="source">  return diff(f, w, p)</td></tr><tr class=""><td class="line">394</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">395</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">396</td><td class="hits">1</td><td class="source">function diffObject (f, w) {</td></tr><tr class="miss"><td class="line">397</td><td class="hits">0</td><td class="source">  return difflet({ indent : 2, comment : true }).compare(w, f)</td></tr><tr class=""><td class="line">398</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">399</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">400</td><td class="hits">1</td><td class="source">function diff (f, w, p) {</td></tr><tr class="miss"><td class="line">401</td><td class="hits">0</td><td class="source">  if (w === f) return null</td></tr><tr class="miss"><td class="line">402</td><td class="hits">0</td><td class="source">  var i = p || 0 // it&apos;s going to be at least p. JSON can only be bigger.</td></tr><tr class=""><td class="line">403</td><td class="hits"></td><td class="source">    , l = w.length</td></tr><tr class="miss"><td class="line">404</td><td class="hits">0</td><td class="source">  while (i &lt; l &amp;&amp; w.charAt(i) === f.charAt(i)) i ++</td></tr><tr class="miss"><td class="line">405</td><td class="hits">0</td><td class="source">  var pos = Math.max(0, i - 20)</td></tr><tr class="miss"><td class="line">406</td><td class="hits">0</td><td class="source">  w = w.substr(pos, 40)</td></tr><tr class="miss"><td class="line">407</td><td class="hits">0</td><td class="source">  f = f.substr(pos, 40)</td></tr><tr class="miss"><td class="line">408</td><td class="hits">0</td><td class="source">  var pointer = i - pos</td></tr><tr class="miss"><td class="line">409</td><td class="hits">0</td><td class="source">  return &quot;FOUND:  &quot;+f+&quot;\n&quot;</td></tr><tr class=""><td class="line">410</td><td class="hits"></td><td class="source">       + &quot;WANTED: &quot;+w+&quot;\n&quot;</td></tr><tr class=""><td class="line">411</td><td class="hits"></td><td class="source">       + (new Array(pointer + 9).join(&quot; &quot;))</td></tr><tr class=""><td class="line">412</td><td class="hits"></td><td class="source">       + &quot;^ (at position = &quot;+p+&quot;)&quot;</td></tr><tr class=""><td class="line">413</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">414</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">415</td><td class="hits">1</td><td class="source">function getCaller (er) {</td></tr><tr class=""><td class="line">416</td><td class="hits"></td><td class="source">  // get the first file/line that isn&apos;t this file.</td></tr><tr class="hit"><td class="line">417</td><td class="hits">114</td><td class="source">  if (!er) er = new Error</td></tr><tr class="hit"><td class="line">418</td><td class="hits">57</td><td class="source">  var stack = er.stack || &quot;&quot;</td></tr><tr class="hit"><td class="line">419</td><td class="hits">57</td><td class="source">  stack = stack.split(/\n/)</td></tr><tr class="hit"><td class="line">420</td><td class="hits">57</td><td class="source">  for (var i = 1, l = stack.length; i &lt; l; i ++) {</td></tr><tr class="hit"><td class="line">421</td><td class="hits">345</td><td class="source">    var s = stack[i].match(/\(([^):]+):([0-9]+):([0-9]+)\)$/)</td></tr><tr class="hit"><td class="line">422</td><td class="hits">633</td><td class="source">    if (!s) continue</td></tr><tr class="hit"><td class="line">423</td><td class="hits">57</td><td class="source">    var file = s[1]</td></tr><tr class=""><td class="line">424</td><td class="hits"></td><td class="source">      , line = +s[2]</td></tr><tr class=""><td class="line">425</td><td class="hits"></td><td class="source">      , col = +s[3]</td></tr><tr class="hit"><td class="line">426</td><td class="hits">57</td><td class="source">    if (file.indexOf(__dirname) === 0) continue</td></tr><tr class="hit"><td class="line">427</td><td class="hits">57</td><td class="source">    if (file.match(/tap-test\/test.js$/)) continue</td></tr><tr class="hit"><td class="line">428</td><td class="hits">57</td><td class="source">    else break</td></tr><tr class=""><td class="line">429</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">430</td><td class="hits">57</td><td class="source">  var res = {}</td></tr><tr class="hit"><td class="line">431</td><td class="hits">57</td><td class="source">  if (file &amp;&amp; file !== __filename &amp;&amp; !file.match(/tap-test\/test.js$/)) {</td></tr><tr class="hit"><td class="line">432</td><td class="hits">57</td><td class="source">    res.file = file</td></tr><tr class="hit"><td class="line">433</td><td class="hits">57</td><td class="source">    res.line = line</td></tr><tr class="hit"><td class="line">434</td><td class="hits">57</td><td class="source">    res.column = col</td></tr><tr class=""><td class="line">435</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">436</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">437</td><td class="hits">57</td><td class="source">  res.stack = stack.slice(1).map(function (s) {</td></tr><tr class="hit"><td class="line">438</td><td class="hits">570</td><td class="source">    return s.replace(/^\s*at\s*/, &quot;&quot;)</td></tr><tr class=""><td class="line">439</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">440</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">441</td><td class="hits">57</td><td class="source">  return res</td></tr><tr class=""><td class="line">442</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">443</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">444</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">445</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/index.js</h2>
          <div class="stats high">
            <div class="percentage">3.7%</div>
            <div class="sloc">219</div>
            <div class="hits">8</div>
            <div class="misses">211</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var traverse = require(&apos;traverse&apos;);</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var Stream = require(&apos;stream&apos;).Stream;</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">var charm = require(&apos;charm&apos;);</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var deepEqual = require(&apos;deep-is&apos;);</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">var exports = module.exports = function (opts_) {</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">    var fn = difflet.bind(null, opts_);</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">    fn.compare = function (prev, next) {</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">        var opts = Object.keys(opts_ || {}).reduce(function (acc, key) {</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">            acc[key] = opts_[key];</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">            return acc;</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">        }, {});</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">        var s = opts.stream = new Stream;</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">        var data = &apos;&apos;;</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">        s.write = function (buf) { data += buf };</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">        s.end = function () {};</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">        s.readable = true;</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">        s.writable = true;</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">        difflet(opts, prev, next);</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">        return data;</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">    };</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">    return fn;</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">exports.compare = function (prev, next) {</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">    return exports({}).compare(prev, next);</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">30</td><td class="hits">1</td><td class="source">function difflet (opts, prev, next) {</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">    var stream = opts.stream || new Stream;</td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">    if (!opts.stream) {</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">        stream.readable = true;</td></tr><tr class="miss"><td class="line">34</td><td class="hits">0</td><td class="source">        stream.writable = true;</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">        stream.write = function (buf) { this.emit(&apos;data&apos;, buf) };</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">        stream.end = function () { this.emit(&apos;end&apos;) };</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">    if (!opts) opts = {};</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">    if (opts.start === undefined &amp;&amp; opts.stop === undefined) {</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">        var c = charm(stream);</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">        opts.start = function (type) {</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">            c.foreground({</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">                inserted : &apos;green&apos;,</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">                updated : &apos;blue&apos;,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">                deleted : &apos;red&apos;,</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">                comment : &apos;cyan&apos;,</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">            }[type]);</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">            c.display(&apos;bright&apos;);</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">        };</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">        opts.stop = function (type) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">            c.display(&apos;reset&apos;);</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">        };</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">    var write = function (buf) {</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">        if (opts.write) opts.write(buf, stream)</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">        else stream.write(buf)</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">    var commaFirst = opts.comma === &apos;first&apos;;</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">    var stringify = function (node, params) {</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">        return stringifier.call(this, true, node, params || opts);</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">    };</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">    var plainStringify = function (node, params) {</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">        return stringifier.call(this, false, node, params || opts);</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">    var levels = 0;</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">    function set (type) {</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">        if (levels === 0) opts.start(type, stream);</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">        levels ++;</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">    function unset (type) {</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">        if (--levels === 0) opts.stop(type, stream);</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">    function stringifier (insertable, node, opts) {</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">        var indent = opts.indent;</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">        if (insertable) {</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">            var prevNode = traverse.get(prev, this.path || []);</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">        var inserted = insertable &amp;&amp; prevNode === undefined;</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">        var indentx;</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">        try {</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">            indentx = indent ? Array(</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">                ((this.path || []).length + 1) * indent + 1</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">            ).join(&apos; &apos;) : &apos;&apos;;</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">        } catch (e) {</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">            // at times we get an invalid Array size here and need to prevent crashing</td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">            indentx = &apos;&apos;;</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">        if (commaFirst) indentx = indentx.slice(indent);</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">        if (Array.isArray(node)) {</td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">            var updated = (prevNode || traverse.has(prev, this.path))</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">                &amp;&amp; !Array.isArray(prevNode);</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">            if (updated) {</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">                set(&apos;updated&apos;);</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">            if (opts.comment &amp;&amp; !Array.isArray(prevNode)) {</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">                indent = 0;</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">            this.before(function () {</td></tr><tr class="miss"><td class="line">110</td><td class="hits">0</td><td class="source">                if (inserted) set(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">                if (indent &amp;&amp; commaFirst) {</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">                    if ((this.path || []).length === 0</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">                    || Array.isArray(this.parent.node)) {</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">                        write(&apos;[ &apos;);</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">                    else write(&apos;\n&apos; + indentx + &apos;[ &apos;);</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">                else if (indent) {</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">                    write(&apos;[\n&apos; + indentx);</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">                else {</td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">                    write(&apos;[&apos;);</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">            this.post(function (child) {</td></tr><tr class="miss"><td class="line">127</td><td class="hits">0</td><td class="source">                if (!child.isLast &amp;&amp; !(indent &amp;&amp; commaFirst)) {</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">                    write(&apos;,&apos;);</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">                var prev = prevNode &amp;&amp; prevNode[child.key];</td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">                if (indent &amp;&amp; opts.comment &amp;&amp; child.node !== prev</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">                &amp;&amp; (typeof child.node !== &apos;object&apos; || typeof prev !== &apos;object&apos;)</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">                ) {</td></tr><tr class="miss"><td class="line">135</td><td class="hits">0</td><td class="source">                    set(&apos;comment&apos;);</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">                    write(&apos; // != &apos;);</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">                    traverse(prev).forEach(function (x) {</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">                        plainStringify.call(this, x, { indent : 0 });</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">                    });</td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">                    unset(&apos;comment&apos;);</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">                if (!child.isLast) {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">                    if (indent &amp;&amp; commaFirst) {</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">                        write(&apos;\n&apos; + indentx + &apos;, &apos;);</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">                    else if (indent) {</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">                        write(&apos;\n&apos; + indentx);</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">            this.after(function () {</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">                if (indent &amp;&amp; commaFirst) write(&apos;\n&apos; + indentx);</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">                else if (indent) write(&apos;\n&apos; + indentx.slice(indent));</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">                write(&apos;]&apos;);</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">                if (updated) unset(&apos;updated&apos;);</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">                if (inserted) unset(&apos;inserted&apos;);</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">        else if (isRegExp(node)) {</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">            this.block();</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">            if (inserted) {</td></tr><tr class="miss"><td class="line">166</td><td class="hits">0</td><td class="source">                set(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">                write(node.toString());</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">                unset(&apos;inserted&apos;);</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">170</td><td class="hits">0</td><td class="source">            else if (insertable &amp;&amp; prevNode !== node) {</td></tr><tr class="miss"><td class="line">171</td><td class="hits">0</td><td class="source">                set(&apos;updated&apos;);</td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">                write(node.toString());</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">                unset(&apos;updated&apos;);</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">            else write(node.toString());</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">177</td><td class="hits">0</td><td class="source">        else if (typeof node === &apos;object&apos;</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">        &amp;&amp; node &amp;&amp; typeof node.inspect === &apos;function&apos;) {</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">            this.block();</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">            if (inserted) {</td></tr><tr class="miss"><td class="line">181</td><td class="hits">0</td><td class="source">                set(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">                write(node.inspect());</td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">                unset(&apos;inserted&apos;);</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">            else if (!(prevNode &amp;&amp; typeof prevNode.inspect === &apos;function&apos;</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">            &amp;&amp; prevNode.inspect() === node.inspect())) {</td></tr><tr class="miss"><td class="line">187</td><td class="hits">0</td><td class="source">                set(&apos;updated&apos;);</td></tr><tr class="miss"><td class="line">188</td><td class="hits">0</td><td class="source">                write(node.inspect());</td></tr><tr class="miss"><td class="line">189</td><td class="hits">0</td><td class="source">                unset(&apos;updated&apos;);</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">191</td><td class="hits">0</td><td class="source">            else write(node.inspect());</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">        else if (typeof node == &apos;object&apos; &amp;&amp; node !== null) {</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">            var insertedKey = false;</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">            var deleted = insertable &amp;&amp; typeof prevNode === &apos;object&apos; &amp;&amp; prevNode</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">                ? Object.keys(prevNode).filter(function (key) {</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">                    return !Object.hasOwnProperty.call(node, key);</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">                })</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source">                : []</td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source">            ;</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">            this.before(function () {</td></tr><tr class="miss"><td class="line">203</td><td class="hits">0</td><td class="source">                if (inserted) set(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">                write(indent &amp;&amp; commaFirst &amp;&amp; !this.isRoot</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">                    ? &apos;\n&apos; + indentx + &apos;{ &apos;</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source">                    : &apos;{&apos;</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source">                );</td></tr><tr class=""><td class="line">208</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">            this.pre(function (x, key) {</td></tr><tr class="miss"><td class="line">211</td><td class="hits">0</td><td class="source">                if (insertable) {</td></tr><tr class="miss"><td class="line">212</td><td class="hits">0</td><td class="source">                    var obj = traverse.get(prev, this.path.concat(key));</td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">                    if (obj === undefined) {</td></tr><tr class="miss"><td class="line">214</td><td class="hits">0</td><td class="source">                        insertedKey = true;</td></tr><tr class="miss"><td class="line">215</td><td class="hits">0</td><td class="source">                        set(&apos;inserted&apos;);</td></tr><tr class=""><td class="line">216</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">                if (indent &amp;&amp; !commaFirst) write(&apos;\n&apos; + indentx);</td></tr><tr class=""><td class="line">220</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">221</td><td class="hits">0</td><td class="source">                plainStringify(key);</td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">                write(indent ? &apos; : &apos; : &apos;:&apos;);</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">            this.post(function (child) {</td></tr><tr class="miss"><td class="line">226</td><td class="hits">0</td><td class="source">                if (!child.isLast &amp;&amp; !(indent &amp;&amp; commaFirst)) {</td></tr><tr class="miss"><td class="line">227</td><td class="hits">0</td><td class="source">                    write(&apos;,&apos;);</td></tr><tr class=""><td class="line">228</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">                if (child.isLast &amp;&amp; deleted.length) {</td></tr><tr class="miss"><td class="line">231</td><td class="hits">0</td><td class="source">                    if (insertedKey) unset(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">232</td><td class="hits">0</td><td class="source">                    insertedKey = false;</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">                else if (insertedKey) {</td></tr><tr class="miss"><td class="line">235</td><td class="hits">0</td><td class="source">                    unset(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">236</td><td class="hits">0</td><td class="source">                    insertedKey = false;</td></tr><tr class=""><td class="line">237</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">                var prev = prevNode &amp;&amp; prevNode[child.key];</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">                if (indent &amp;&amp; opts.comment &amp;&amp; child.node !== prev</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">                &amp;&amp; (typeof child.node !== &apos;object&apos; || typeof prev !== &apos;object&apos;)</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">                ) {</td></tr><tr class="miss"><td class="line">243</td><td class="hits">0</td><td class="source">                    set(&apos;comment&apos;);</td></tr><tr class="miss"><td class="line">244</td><td class="hits">0</td><td class="source">                    write(&apos; // != &apos;);</td></tr><tr class="miss"><td class="line">245</td><td class="hits">0</td><td class="source">                    traverse(prev).forEach(function (x) {</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">                        plainStringify.call(this, x, { indent : 0 });</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">                    });</td></tr><tr class="miss"><td class="line">248</td><td class="hits">0</td><td class="source">                    unset(&apos;comment&apos;);</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">251</td><td class="hits">0</td><td class="source">                if (child.isLast &amp;&amp; deleted.length) {</td></tr><tr class="miss"><td class="line">252</td><td class="hits">0</td><td class="source">                    if (insertedKey) unset(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">253</td><td class="hits">0</td><td class="source">                    insertedKey = false;</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">                    </td></tr><tr class="miss"><td class="line">255</td><td class="hits">0</td><td class="source">                    if (indent &amp;&amp; commaFirst) {</td></tr><tr class="miss"><td class="line">256</td><td class="hits">0</td><td class="source">                        write(&apos;\n&apos; + indentx + &apos;, &apos;)</td></tr><tr class=""><td class="line">257</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="miss"><td class="line">258</td><td class="hits">0</td><td class="source">                    else if (opts.comment &amp;&amp; indent) {</td></tr><tr class="miss"><td class="line">259</td><td class="hits">0</td><td class="source">                        write(&apos;\n&apos; + indentx);</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">                    else if (indent) {</td></tr><tr class="miss"><td class="line">262</td><td class="hits">0</td><td class="source">                        write(&apos;,\n&apos; + indentx);</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">                    }</td></tr><tr class="miss"><td class="line">264</td><td class="hits">0</td><td class="source">                    else write(&apos;,&apos;);</td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">                else {</td></tr><tr class="miss"><td class="line">267</td><td class="hits">0</td><td class="source">                    if (!child.isLast) {</td></tr><tr class="miss"><td class="line">268</td><td class="hits">0</td><td class="source">                        if (indent &amp;&amp; commaFirst) {</td></tr><tr class="miss"><td class="line">269</td><td class="hits">0</td><td class="source">                            write(&apos;\n&apos; + indentx + &apos;, &apos;);</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">                        }</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">272</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">273</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">275</td><td class="hits">0</td><td class="source">            this.after(function () {</td></tr><tr class="miss"><td class="line">276</td><td class="hits">0</td><td class="source">                if (inserted) unset(&apos;inserted&apos;);</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">278</td><td class="hits">0</td><td class="source">                if (deleted.length) {</td></tr><tr class="miss"><td class="line">279</td><td class="hits">0</td><td class="source">                    if (indent &amp;&amp; !commaFirst</td></tr><tr class=""><td class="line">280</td><td class="hits"></td><td class="source">                    &amp;&amp; Object.keys(node).length === 0) {</td></tr><tr class="miss"><td class="line">281</td><td class="hits">0</td><td class="source">                        write(&apos;\n&apos; + indentx);</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">283</td><td class="hits"></td><td class="source">                    </td></tr><tr class="miss"><td class="line">284</td><td class="hits">0</td><td class="source">                    set(&apos;deleted&apos;);</td></tr><tr class="miss"><td class="line">285</td><td class="hits">0</td><td class="source">                    deleted.forEach(function (key, ix) {</td></tr><tr class="miss"><td class="line">286</td><td class="hits">0</td><td class="source">                        if (indent &amp;&amp; opts.comment) {</td></tr><tr class="miss"><td class="line">287</td><td class="hits">0</td><td class="source">                            unset(&apos;deleted&apos;);</td></tr><tr class="miss"><td class="line">288</td><td class="hits">0</td><td class="source">                            set(&apos;comment&apos;);</td></tr><tr class="miss"><td class="line">289</td><td class="hits">0</td><td class="source">                            write(&apos;// &apos;);</td></tr><tr class="miss"><td class="line">290</td><td class="hits">0</td><td class="source">                            unset(&apos;comment&apos;);</td></tr><tr class="miss"><td class="line">291</td><td class="hits">0</td><td class="source">                            set(&apos;deleted&apos;);</td></tr><tr class=""><td class="line">292</td><td class="hits"></td><td class="source">                        }</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">                        </td></tr><tr class="miss"><td class="line">294</td><td class="hits">0</td><td class="source">                        plainStringify(key);</td></tr><tr class="miss"><td class="line">295</td><td class="hits">0</td><td class="source">                        write(indent ? &apos; : &apos; : &apos;:&apos;);</td></tr><tr class="miss"><td class="line">296</td><td class="hits">0</td><td class="source">                        traverse(prevNode[key]).forEach(function (x) {</td></tr><tr class="miss"><td class="line">297</td><td class="hits">0</td><td class="source">                            plainStringify.call(this, x, { indent : 0 });</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">                        });</td></tr><tr class=""><td class="line">299</td><td class="hits"></td><td class="source">                        </td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">                        var last = ix === deleted.length - 1;</td></tr><tr class="miss"><td class="line">301</td><td class="hits">0</td><td class="source">                        if (insertable &amp;&amp; !last) {</td></tr><tr class="miss"><td class="line">302</td><td class="hits">0</td><td class="source">                            if (indent &amp;&amp; commaFirst) {</td></tr><tr class="miss"><td class="line">303</td><td class="hits">0</td><td class="source">                                write(&apos;\n&apos; + indentx + &apos;, &apos;);</td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source">                            }</td></tr><tr class="miss"><td class="line">305</td><td class="hits">0</td><td class="source">                            else if (indent) {</td></tr><tr class="miss"><td class="line">306</td><td class="hits">0</td><td class="source">                                write(&apos;,\n&apos; + indentx);</td></tr><tr class=""><td class="line">307</td><td class="hits"></td><td class="source">                            }</td></tr><tr class="miss"><td class="line">308</td><td class="hits">0</td><td class="source">                            else write(&apos;,&apos;);</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source">                        }</td></tr><tr class=""><td class="line">310</td><td class="hits"></td><td class="source">                    });</td></tr><tr class="miss"><td class="line">311</td><td class="hits">0</td><td class="source">                    unset(&apos;deleted&apos;);</td></tr><tr class=""><td class="line">312</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">313</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">314</td><td class="hits">0</td><td class="source">                if (commaFirst &amp;&amp; indent) {</td></tr><tr class="miss"><td class="line">315</td><td class="hits">0</td><td class="source">                    write(indentx.slice(indent) + &apos; }&apos;);</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">317</td><td class="hits">0</td><td class="source">                else if (indent) {</td></tr><tr class="miss"><td class="line">318</td><td class="hits">0</td><td class="source">                    write(&apos;\n&apos; + indentx.slice(indent) + &apos;}&apos;);</td></tr><tr class=""><td class="line">319</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">320</td><td class="hits">0</td><td class="source">                else write(&apos;}&apos;);</td></tr><tr class=""><td class="line">321</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">322</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source">        else {</td></tr><tr class="miss"><td class="line">324</td><td class="hits">0</td><td class="source">            var changed = false;</td></tr><tr class=""><td class="line">325</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">326</td><td class="hits">0</td><td class="source">            if (inserted) set(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">327</td><td class="hits">0</td><td class="source">            else if (insertable &amp;&amp; !deepEqual(prevNode, node)) {</td></tr><tr class="miss"><td class="line">328</td><td class="hits">0</td><td class="source">                changed = true;</td></tr><tr class="miss"><td class="line">329</td><td class="hits">0</td><td class="source">                set(&apos;updated&apos;);</td></tr><tr class=""><td class="line">330</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">332</td><td class="hits">0</td><td class="source">            if (typeof node === &apos;string&apos;) {</td></tr><tr class="miss"><td class="line">333</td><td class="hits">0</td><td class="source">                write(&apos;&quot;&apos; + node.toString().replace(/&quot;/g, &apos;\\&quot;&apos;) + &apos;&quot;&apos;);</td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">335</td><td class="hits">0</td><td class="source">            else if (isRegExp(node)) {</td></tr><tr class="miss"><td class="line">336</td><td class="hits">0</td><td class="source">                write(node.toString());</td></tr><tr class=""><td class="line">337</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">338</td><td class="hits">0</td><td class="source">            else if (typeof node === &apos;function&apos;) {</td></tr><tr class="miss"><td class="line">339</td><td class="hits">0</td><td class="source">                write(node.name</td></tr><tr class=""><td class="line">340</td><td class="hits"></td><td class="source">                    ? &apos;[Function: &apos; + node.name + &apos;]&apos;</td></tr><tr class=""><td class="line">341</td><td class="hits"></td><td class="source">                    : &apos;[Function]&apos;</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source">                );</td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">344</td><td class="hits">0</td><td class="source">            else if (node === undefined) {</td></tr><tr class="miss"><td class="line">345</td><td class="hits">0</td><td class="source">                write(&apos;undefined&apos;);</td></tr><tr class=""><td class="line">346</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">347</td><td class="hits">0</td><td class="source">            else if (node === null) {</td></tr><tr class="miss"><td class="line">348</td><td class="hits">0</td><td class="source">                write(&apos;null&apos;);</td></tr><tr class=""><td class="line">349</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">350</td><td class="hits"></td><td class="source">            else {</td></tr><tr class="miss"><td class="line">351</td><td class="hits">0</td><td class="source">                write(node.toString());</td></tr><tr class=""><td class="line">352</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">353</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">354</td><td class="hits">0</td><td class="source">            if (inserted) unset(&apos;inserted&apos;);</td></tr><tr class="miss"><td class="line">355</td><td class="hits">0</td><td class="source">            else if (changed) unset(&apos;updated&apos;);</td></tr><tr class=""><td class="line">356</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">357</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">358</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">359</td><td class="hits">0</td><td class="source">    if (opts.stream) {</td></tr><tr class="miss"><td class="line">360</td><td class="hits">0</td><td class="source">        traverse(next).forEach(stringify);</td></tr><tr class=""><td class="line">361</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">362</td><td class="hits">0</td><td class="source">    else process.nextTick(function () {</td></tr><tr class="miss"><td class="line">363</td><td class="hits">0</td><td class="source">        traverse(next).forEach(stringify);</td></tr><tr class="miss"><td class="line">364</td><td class="hits">0</td><td class="source">        stream.emit(&apos;end&apos;);</td></tr><tr class=""><td class="line">365</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">366</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">367</td><td class="hits">0</td><td class="source">    return stream;</td></tr><tr class=""><td class="line">368</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">369</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">370</td><td class="hits">1</td><td class="source">function isRegExp (node) {</td></tr><tr class="miss"><td class="line">371</td><td class="hits">0</td><td class="source">    return node instanceof RegExp || (node</td></tr><tr class=""><td class="line">372</td><td class="hits"></td><td class="source">        &amp;&amp; typeof node.test === &apos;function&apos; </td></tr><tr class=""><td class="line">373</td><td class="hits"></td><td class="source">        &amp;&amp; typeof node.exec === &apos;function&apos;</td></tr><tr class=""><td class="line">374</td><td class="hits"></td><td class="source">        &amp;&amp; typeof node.compile === &apos;function&apos;</td></tr><tr class=""><td class="line">375</td><td class="hits"></td><td class="source">        &amp;&amp; node.constructor &amp;&amp; node.constructor.name === &apos;RegExp&apos;</td></tr><tr class=""><td class="line">376</td><td class="hits"></td><td class="source">    );</td></tr><tr class=""><td class="line">377</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">378</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/traverse/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/traverse/index.js</h2>
          <div class="stats high">
            <div class="percentage">15.0%</div>
            <div class="sloc">180</div>
            <div class="hits">27</div>
            <div class="misses">153</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var traverse = module.exports = function (obj) {</td></tr><tr class="miss"><td class="line">2</td><td class="hits">0</td><td class="source">    return new Traverse(obj);</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">function Traverse (obj) {</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">    this.value = obj;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">9</td><td class="hits">1</td><td class="source">Traverse.prototype.get = function (ps) {</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">    var node = this.value;</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; ps.length; i ++) {</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">        var key = ps[i];</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">        if (!node || !hasOwnProperty.call(node, key)) {</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">            node = undefined;</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">            break;</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">        node = node[key];</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">    return node;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">Traverse.prototype.has = function (ps) {</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">    var node = this.value;</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; ps.length; i ++) {</td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">        var key = ps[i];</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">        if (!node || !hasOwnProperty.call(node, key)) {</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">            return false;</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">        node = node[key];</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">    return true;</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">1</td><td class="source">Traverse.prototype.set = function (ps, value) {</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">    var node = this.value;</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; ps.length - 1; i ++) {</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">        var key = ps[i];</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">        if (!hasOwnProperty.call(node, key)) node[key] = {};</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">        node = node[key];</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">    node[ps[i]] = value;</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">    return value;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">45</td><td class="hits">1</td><td class="source">Traverse.prototype.map = function (cb) {</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">    return walk(this.value, cb, true);</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">49</td><td class="hits">1</td><td class="source">Traverse.prototype.forEach = function (cb) {</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">    this.value = walk(this.value, cb, false);</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">    return this.value;</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">54</td><td class="hits">1</td><td class="source">Traverse.prototype.reduce = function (cb, init) {</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">    var skip = arguments.length === 1;</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">    var acc = skip ? this.value : init;</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">    this.forEach(function (x) {</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">        if (!this.isRoot || !skip) {</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">            acc = cb.call(this, acc, x);</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">    return acc;</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">1</td><td class="source">Traverse.prototype.paths = function () {</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">    var acc = [];</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">    this.forEach(function (x) {</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">        acc.push(this.path); </td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">    return acc;</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">73</td><td class="hits">1</td><td class="source">Traverse.prototype.nodes = function () {</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">    var acc = [];</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">    this.forEach(function (x) {</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">        acc.push(this.node);</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">    return acc;</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">81</td><td class="hits">1</td><td class="source">Traverse.prototype.clone = function () {</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">    var parents = [], nodes = [];</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">    return (function clone (src) {</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">        for (var i = 0; i &lt; parents.length; i++) {</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">            if (parents[i] === src) {</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">                return nodes[i];</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">        if (typeof src === &apos;object&apos; &amp;&amp; src !== null) {</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">            var dst = copy(src);</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">            parents.push(src);</td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">            nodes.push(dst);</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">            forEach(objectKeys(src), function (key) {</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">                dst[key] = clone(src[key]);</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">            });</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">            parents.pop();</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">            nodes.pop();</td></tr><tr class="miss"><td class="line">103</td><td class="hits">0</td><td class="source">            return dst;</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">        else {</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">            return src;</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">    })(this.value);</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">111</td><td class="hits">1</td><td class="source">function walk (root, cb, immutable) {</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">    var path = [];</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">    var parents = [];</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">    var alive = true;</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">    return (function walker (node_) {</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">        var node = immutable ? copy(node_) : node_;</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">        var modifiers = {};</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">        var keepGoing = true;</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">        var state = {</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">            node : node,</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">            node_ : node_,</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">            path : [].concat(path),</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">            parent : parents[parents.length - 1],</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">            parents : parents,</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">            key : path.slice(-1)[0],</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">            isRoot : path.length === 0,</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">            level : path.length,</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">            circular : null,</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">            update : function (x, stopHere) {</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">                if (!state.isRoot) {</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">                    state.parent.node[state.key] = x;</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">                state.node = x;</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">                if (stopHere) keepGoing = false;</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">            },</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">            &apos;delete&apos; : function (stopHere) {</td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">                delete state.parent.node[state.key];</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">                if (stopHere) keepGoing = false;</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">            },</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">            remove : function (stopHere) {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">                if (isArray(state.parent.node)) {</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">                    state.parent.node.splice(state.key, 1);</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">                else {</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">                    delete state.parent.node[state.key];</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">                }</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">                if (stopHere) keepGoing = false;</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">            },</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">            keys : null,</td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">            before : function (f) { modifiers.before = f },</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">            after : function (f) { modifiers.after = f },</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">            pre : function (f) { modifiers.pre = f },</td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">            post : function (f) { modifiers.post = f },</td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">            stop : function () { alive = false },</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">            block : function () { keepGoing = false }</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">        };</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">        if (!alive) return state;</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">        function updateState() {</td></tr><tr class="miss"><td class="line">164</td><td class="hits">0</td><td class="source">            if (typeof state.node === &apos;object&apos; &amp;&amp; state.node !== null) {</td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">                if (!state.keys || state.node_ !== state.node) {</td></tr><tr class="miss"><td class="line">166</td><td class="hits">0</td><td class="source">                    state.keys = objectKeys(state.node)</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">                state.isLeaf = state.keys.length == 0;</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">171</td><td class="hits">0</td><td class="source">                for (var i = 0; i &lt; parents.length; i++) {</td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">                    if (parents[i].node_ === node_) {</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">                        state.circular = parents[i];</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">                        break;</td></tr><tr class=""><td class="line">175</td><td class="hits"></td><td class="source">                    }</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">            else {</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">                state.isLeaf = true;</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">                state.keys = null;</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">            state.notLeaf = !state.isLeaf;</td></tr><tr class="miss"><td class="line">184</td><td class="hits">0</td><td class="source">            state.notRoot = !state.isRoot;</td></tr><tr class=""><td class="line">185</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">187</td><td class="hits">0</td><td class="source">        updateState();</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">        </td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">        // use return values to update if defined</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">        var ret = cb.call(state, state.node);</td></tr><tr class="miss"><td class="line">191</td><td class="hits">0</td><td class="source">        if (ret !== undefined &amp;&amp; state.update) state.update(ret);</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">        if (modifiers.before) modifiers.before.call(state, state.node);</td></tr><tr class=""><td class="line">194</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">        if (!keepGoing) return state;</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">        if (typeof state.node == &apos;object&apos;</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">        &amp;&amp; state.node !== null &amp;&amp; !state.circular) {</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">            parents.push(state);</td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">            updateState();</td></tr><tr class=""><td class="line">202</td><td class="hits"></td><td class="source">            </td></tr><tr class="miss"><td class="line">203</td><td class="hits">0</td><td class="source">            forEach(state.keys, function (key, i) {</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">                path.push(key);</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">                var child = walker(state.node[key]);</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">                if (immutable &amp;&amp; hasOwnProperty.call(state.node, key)) {</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">                    state.node[key] = child.node;</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">                child.isLast = i == state.keys.length - 1;</td></tr><tr class="miss"><td class="line">214</td><td class="hits">0</td><td class="source">                child.isFirst = i == 0;</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">                if (modifiers.post) modifiers.post.call(state, child);</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">                </td></tr><tr class="miss"><td class="line">218</td><td class="hits">0</td><td class="source">                path.pop();</td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source">            });</td></tr><tr class="miss"><td class="line">220</td><td class="hits">0</td><td class="source">            parents.pop();</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">        if (modifiers.after) modifiers.after.call(state, state.node);</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">        return state;</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">    })(root).node;</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">228</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">229</td><td class="hits">1</td><td class="source">function copy (src) {</td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">    if (typeof src === &apos;object&apos; &amp;&amp; src !== null) {</td></tr><tr class="miss"><td class="line">231</td><td class="hits">0</td><td class="source">        var dst;</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">233</td><td class="hits">0</td><td class="source">        if (isArray(src)) {</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">            dst = [];</td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">236</td><td class="hits">0</td><td class="source">        else if (isDate(src)) {</td></tr><tr class="miss"><td class="line">237</td><td class="hits">0</td><td class="source">            dst = new Date(src.getTime ? src.getTime() : src);</td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">        else if (isRegExp(src)) {</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">            dst = new RegExp(src);</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">242</td><td class="hits">0</td><td class="source">        else if (isError(src)) {</td></tr><tr class="miss"><td class="line">243</td><td class="hits">0</td><td class="source">            dst = { message: src.message };</td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">245</td><td class="hits">0</td><td class="source">        else if (isBoolean(src)) {</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">            dst = new Boolean(src);</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">248</td><td class="hits">0</td><td class="source">        else if (isNumber(src)) {</td></tr><tr class="miss"><td class="line">249</td><td class="hits">0</td><td class="source">            dst = new Number(src);</td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">251</td><td class="hits">0</td><td class="source">        else if (isString(src)) {</td></tr><tr class="miss"><td class="line">252</td><td class="hits">0</td><td class="source">            dst = new String(src);</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">254</td><td class="hits">0</td><td class="source">        else if (Object.create &amp;&amp; Object.getPrototypeOf) {</td></tr><tr class="miss"><td class="line">255</td><td class="hits">0</td><td class="source">            dst = Object.create(Object.getPrototypeOf(src));</td></tr><tr class=""><td class="line">256</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">257</td><td class="hits">0</td><td class="source">        else if (src.constructor === Object) {</td></tr><tr class="miss"><td class="line">258</td><td class="hits">0</td><td class="source">            dst = {};</td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source">        else {</td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">            var proto =</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">                (src.constructor &amp;&amp; src.constructor.prototype)</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">                || src.__proto__</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source">                || {}</td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source">            ;</td></tr><tr class="miss"><td class="line">266</td><td class="hits">0</td><td class="source">            var T = function () {};</td></tr><tr class="miss"><td class="line">267</td><td class="hits">0</td><td class="source">            T.prototype = proto;</td></tr><tr class="miss"><td class="line">268</td><td class="hits">0</td><td class="source">            dst = new T;</td></tr><tr class=""><td class="line">269</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">271</td><td class="hits">0</td><td class="source">        forEach(objectKeys(src), function (key) {</td></tr><tr class="miss"><td class="line">272</td><td class="hits">0</td><td class="source">            dst[key] = src[key];</td></tr><tr class=""><td class="line">273</td><td class="hits"></td><td class="source">        });</td></tr><tr class="miss"><td class="line">274</td><td class="hits">0</td><td class="source">        return dst;</td></tr><tr class=""><td class="line">275</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">276</td><td class="hits">0</td><td class="source">    else return src;</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">279</td><td class="hits">1</td><td class="source">var objectKeys = Object.keys || function keys (obj) {</td></tr><tr class="miss"><td class="line">280</td><td class="hits">0</td><td class="source">    var res = [];</td></tr><tr class="miss"><td class="line">281</td><td class="hits">0</td><td class="source">    for (var key in obj) res.push(key)</td></tr><tr class="miss"><td class="line">282</td><td class="hits">0</td><td class="source">    return res;</td></tr><tr class=""><td class="line">283</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">285</td><td class="hits">1</td><td class="source">function toS (obj) { return Object.prototype.toString.call(obj) }</td></tr><tr class="hit"><td class="line">286</td><td class="hits">1</td><td class="source">function isDate (obj) { return toS(obj) === &apos;[object Date]&apos; }</td></tr><tr class="hit"><td class="line">287</td><td class="hits">1</td><td class="source">function isRegExp (obj) { return toS(obj) === &apos;[object RegExp]&apos; }</td></tr><tr class="hit"><td class="line">288</td><td class="hits">1</td><td class="source">function isError (obj) { return toS(obj) === &apos;[object Error]&apos; }</td></tr><tr class="hit"><td class="line">289</td><td class="hits">1</td><td class="source">function isBoolean (obj) { return toS(obj) === &apos;[object Boolean]&apos; }</td></tr><tr class="hit"><td class="line">290</td><td class="hits">1</td><td class="source">function isNumber (obj) { return toS(obj) === &apos;[object Number]&apos; }</td></tr><tr class="hit"><td class="line">291</td><td class="hits">1</td><td class="source">function isString (obj) { return toS(obj) === &apos;[object String]&apos; }</td></tr><tr class=""><td class="line">292</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">293</td><td class="hits">1</td><td class="source">var isArray = Array.isArray || function isArray (xs) {</td></tr><tr class="miss"><td class="line">294</td><td class="hits">0</td><td class="source">    return Object.prototype.toString.call(xs) === &apos;[object Array]&apos;;</td></tr><tr class=""><td class="line">295</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">296</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">297</td><td class="hits">1</td><td class="source">var forEach = function (xs, fn) {</td></tr><tr class="hit"><td class="line">298</td><td class="hits">2</td><td class="source">    if (xs.forEach) return xs.forEach(fn)</td></tr><tr class="miss"><td class="line">299</td><td class="hits">0</td><td class="source">    else for (var i = 0; i &lt; xs.length; i++) {</td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">        fn(xs[i], i, xs);</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">303</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">304</td><td class="hits">1</td><td class="source">forEach(objectKeys(Traverse.prototype), function (key) {</td></tr><tr class="hit"><td class="line">305</td><td class="hits">9</td><td class="source">    traverse[key] = function (obj) {</td></tr><tr class="miss"><td class="line">306</td><td class="hits">0</td><td class="source">        var args = [].slice.call(arguments, 1);</td></tr><tr class="miss"><td class="line">307</td><td class="hits">0</td><td class="source">        var t = new Traverse(obj);</td></tr><tr class="miss"><td class="line">308</td><td class="hits">0</td><td class="source">        return t[key].apply(t, args);</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">310</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">311</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">312</td><td class="hits">1</td><td class="source">var hasOwnProperty = Object.hasOwnProperty || function (obj, key) {</td></tr><tr class="miss"><td class="line">313</td><td class="hits">0</td><td class="source">    return key in obj;</td></tr><tr class=""><td class="line">314</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/index.js</h2>
          <div class="stats high">
            <div class="percentage">15.3%</div>
            <div class="sloc">163</div>
            <div class="hits">25</div>
            <div class="misses">138</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var tty = require(&apos;tty&apos;);</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var encode = require(&apos;./lib/encode&apos;);</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">var Stream = require(&apos;stream&apos;).Stream;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var exports = module.exports = function () {</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">    var input = null;</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">    function setInput (s) {</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">        if (input) throw new Error(&apos;multiple inputs specified&apos;)</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">        else input = s</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">    var output = null;</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">    function setOutput (s) {</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">        if (output) throw new Error(&apos;multiple outputs specified&apos;)</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">        else output = s</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; arguments.length; i++) {</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">        var arg = arguments[i];</td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">        if (!arg) continue;</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">        if (arg.readable) setInput(arg)</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">        else if (arg.stdin || arg.input) setInput(arg.stdin || arg.input)</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">        if (arg.writable) setOutput(arg)</td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">        else if (arg.stdout || arg.output) setOutput(arg.stdout || arg.output)</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">        </td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">    if (input &amp;&amp; typeof input.fd === &apos;number&apos; &amp;&amp; tty.isatty(input.fd)) {</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">        if (process.stdin.setRawMode) {</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">            process.stdin.setRawMode(true);</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">        else tty.setRawMode(true);</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">    var charm = new Charm;</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">    if (input) {</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">        input.pipe(charm);</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">    if (output) {</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">        charm.pipe(output);</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">    charm.once(&apos;^C&apos;, process.exit);</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">    charm.once(&apos;end&apos;, function () {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">      if (input) {</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">          if (typeof input.fd === &apos;number&apos; &amp;&amp; tty.isatty(input.fd)) {</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">            if (process.stdin.setRawMode) {</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">                process.stdin.setRawMode(false);</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">            else tty.setRawMode(false);</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">          input.destroy();</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">    return charm;</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">61</td><td class="hits">1</td><td class="source">var Charm = exports.Charm = function Charm () {</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">    this.writable = true;</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">    this.readable = true;</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">    this.pending = [];</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">67</td><td class="hits">1</td><td class="source">Charm.prototype = new Stream;</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">69</td><td class="hits">1</td><td class="source">Charm.prototype.write = function (buf) {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">    var self = this;</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">    if (self.pending.length) {</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">        var codes = extractCodes(buf);</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">        var matched = false;</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">        for (var i = 0; i &lt; codes.length; i++) {</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">            for (var j = 0; j &lt; self.pending.length; j++) {</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">                var cb = self.pending[j];</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">                if (cb(codes[i])) {</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">                    matched = true;</td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">                    self.pending.splice(j, 1);</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">                    break;</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">                }</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">        if (matched) return;</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">    if (buf.length === 1) {</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">        if (buf[0] === 3) self.emit(&apos;^C&apos;);</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">        if (buf[0] === 4) self.emit(&apos;^D&apos;);</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">    self.emit(&apos;data&apos;, buf);</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">    return self;</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">101</td><td class="hits">1</td><td class="source">Charm.prototype.destroy = function () {</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">    this.end();</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">105</td><td class="hits">1</td><td class="source">Charm.prototype.end = function (buf) {</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">    if (buf) this.write(buf);</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">    this.emit(&apos;end&apos;);</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">110</td><td class="hits">1</td><td class="source">Charm.prototype.reset = function (cb) {</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;c&apos;));</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">115</td><td class="hits">1</td><td class="source">Charm.prototype.position = function (x, y) {</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">    // get/set absolute coordinates</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">    if (typeof x === &apos;function&apos;) {</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">        var cb = x;</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">        this.pending.push(function (buf) {</td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">            if (buf[0] === 27 &amp;&amp; buf[1] === encode.ord(&apos;[&apos;)</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">            &amp;&amp; buf[buf.length-1] === encode.ord(&apos;R&apos;)) {</td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">                var pos = buf.toString()</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">                    .slice(2,-1)</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">                    .split(&apos;;&apos;)</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">                    .map(Number)</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">                ;</td></tr><tr class="miss"><td class="line">127</td><td class="hits">0</td><td class="source">                cb(pos[1], pos[0]);</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">                return true;</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">        });</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[6n&apos;));</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">    else {</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">        this.write(encode(</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">            &apos;[&apos; + Math.floor(y) + &apos;;&apos; + Math.floor(x) + &apos;f&apos;</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">        ));</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">141</td><td class="hits">1</td><td class="source">Charm.prototype.move = function (x, y) {</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">    // set relative coordinates</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">    var bufs = [];</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">    if (y &lt; 0) this.up(-y)</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">    else if (y &gt; 0) this.down(y)</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">    if (x &gt; 0) this.right(x)</td></tr><tr class="miss"><td class="line">149</td><td class="hits">0</td><td class="source">    else if (x &lt; 0) this.left(-x)</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">154</td><td class="hits">1</td><td class="source">Charm.prototype.up = function (y) {</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">    if (y === undefined) y = 1;</td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + Math.floor(y) + &apos;A&apos;));</td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">160</td><td class="hits">1</td><td class="source">Charm.prototype.down = function (y) {</td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">    if (y === undefined) y = 1;</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + Math.floor(y) + &apos;B&apos;));</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">166</td><td class="hits">1</td><td class="source">Charm.prototype.right = function (x) {</td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">    if (x === undefined) x = 1;</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + Math.floor(x) + &apos;C&apos;));</td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">172</td><td class="hits">1</td><td class="source">Charm.prototype.left = function (x) {</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">    if (x === undefined) x = 1;</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + Math.floor(x) + &apos;D&apos;));</td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">178</td><td class="hits">1</td><td class="source">Charm.prototype.column = function (x) {</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + Math.floor(x) + &apos;G&apos;));</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">183</td><td class="hits">1</td><td class="source">Charm.prototype.push = function (withAttributes) {</td></tr><tr class="miss"><td class="line">184</td><td class="hits">0</td><td class="source">    this.write(encode(withAttributes ? &apos;7&apos; : &apos;[s&apos;));</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">188</td><td class="hits">1</td><td class="source">Charm.prototype.pop = function (withAttributes) {</td></tr><tr class="miss"><td class="line">189</td><td class="hits">0</td><td class="source">    this.write(encode(withAttributes ? &apos;8&apos; : &apos;[u&apos;));</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">193</td><td class="hits">1</td><td class="source">Charm.prototype.erase = function (s) {</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">    if (s === &apos;end&apos; || s === &apos;$&apos;) {</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[K&apos;));</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">    else if (s === &apos;start&apos; || s === &apos;^&apos;) {</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[1K&apos;));</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">    else if (s === &apos;line&apos;) {</td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[2K&apos;));</td></tr><tr class=""><td class="line">202</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">203</td><td class="hits">0</td><td class="source">    else if (s === &apos;down&apos;) {</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[J&apos;));</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">    else if (s === &apos;up&apos;) {</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[1J&apos;));</td></tr><tr class=""><td class="line">208</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">    else if (s === &apos;screen&apos;) {</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[1J&apos;));</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">    else {</td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">        this.emit(&apos;error&apos;, new Error(&apos;Unknown erase type: &apos; + s));</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">215</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">216</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">218</td><td class="hits">1</td><td class="source">Charm.prototype.display = function (attr) {</td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">    var c = {</td></tr><tr class=""><td class="line">220</td><td class="hits"></td><td class="source">        reset : 0,</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">        bright : 1,</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source">        dim : 2,</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">        underscore : 4,</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">        blink : 5,</td></tr><tr class=""><td class="line">225</td><td class="hits"></td><td class="source">        reverse : 7,</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">        hidden : 8</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source">    }[attr];</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">    if (c === undefined) {</td></tr><tr class="miss"><td class="line">229</td><td class="hits">0</td><td class="source">        this.emit(&apos;error&apos;, new Error(&apos;Unknown attribute: &apos; + attr));</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">231</td><td class="hits">0</td><td class="source">    this.write(encode(&apos;[&apos; + c + &apos;m&apos;));</td></tr><tr class="miss"><td class="line">232</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">234</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">235</td><td class="hits">1</td><td class="source">Charm.prototype.foreground = function (color) {</td></tr><tr class="miss"><td class="line">236</td><td class="hits">0</td><td class="source">    if (typeof color === &apos;number&apos;) {</td></tr><tr class="miss"><td class="line">237</td><td class="hits">0</td><td class="source">        if (color &lt; 0 || color &gt;= 256) {</td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">            this.emit(&apos;error&apos;, new Error(&apos;Color out of range: &apos; + color));</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[38;5;&apos; + color + &apos;m&apos;));</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">    else {</td></tr><tr class="miss"><td class="line">243</td><td class="hits">0</td><td class="source">        var c = {</td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">            black : 30,</td></tr><tr class=""><td class="line">245</td><td class="hits"></td><td class="source">            red : 31,</td></tr><tr class=""><td class="line">246</td><td class="hits"></td><td class="source">            green : 32,</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">            yellow : 33,</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source">            blue : 34,</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source">            magenta : 35,</td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">            cyan : 36,</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">            white : 37</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source">        }[color.toLowerCase()];</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">254</td><td class="hits">0</td><td class="source">        if (!c) this.emit(&apos;error&apos;, new Error(&apos;Unknown color: &apos; + color));</td></tr><tr class="miss"><td class="line">255</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[&apos; + c + &apos;m&apos;));</td></tr><tr class=""><td class="line">256</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">257</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">260</td><td class="hits">1</td><td class="source">Charm.prototype.background = function (color) {</td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">    if (typeof color === &apos;number&apos;) {</td></tr><tr class="miss"><td class="line">262</td><td class="hits">0</td><td class="source">        if (color &lt; 0 || color &gt;= 256) {</td></tr><tr class="miss"><td class="line">263</td><td class="hits">0</td><td class="source">            this.emit(&apos;error&apos;, new Error(&apos;Color out of range: &apos; + color));</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">265</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[48;5;&apos; + color + &apos;m&apos;));</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source">    else {</td></tr><tr class="miss"><td class="line">268</td><td class="hits">0</td><td class="source">        var c = {</td></tr><tr class=""><td class="line">269</td><td class="hits"></td><td class="source">          black : 40,</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">          red : 41,</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source">          green : 42,</td></tr><tr class=""><td class="line">272</td><td class="hits"></td><td class="source">          yellow : 43,</td></tr><tr class=""><td class="line">273</td><td class="hits"></td><td class="source">          blue : 44,</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source">          magenta : 45,</td></tr><tr class=""><td class="line">275</td><td class="hits"></td><td class="source">          cyan : 46,</td></tr><tr class=""><td class="line">276</td><td class="hits"></td><td class="source">          white : 47</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">        }[color.toLowerCase()];</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source">        </td></tr><tr class="miss"><td class="line">279</td><td class="hits">0</td><td class="source">        if (!c) this.emit(&apos;error&apos;, new Error(&apos;Unknown color: &apos; + color));</td></tr><tr class="miss"><td class="line">280</td><td class="hits">0</td><td class="source">        this.write(encode(&apos;[&apos; + c + &apos;m&apos;));</td></tr><tr class=""><td class="line">281</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">282</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">283</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">285</td><td class="hits">1</td><td class="source">Charm.prototype.cursor = function (visible) {</td></tr><tr class="miss"><td class="line">286</td><td class="hits">0</td><td class="source">    this.write(encode(visible ? &apos;[?25h&apos; : &apos;[?25l&apos;));</td></tr><tr class="miss"><td class="line">287</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">288</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">290</td><td class="hits">1</td><td class="source">var extractCodes = exports.extractCodes = function (buf) {</td></tr><tr class="miss"><td class="line">291</td><td class="hits">0</td><td class="source">    var codes = [];</td></tr><tr class="miss"><td class="line">292</td><td class="hits">0</td><td class="source">    var start = -1;</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">294</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; buf.length; i++) {</td></tr><tr class="miss"><td class="line">295</td><td class="hits">0</td><td class="source">        if (buf[i] === 27) {</td></tr><tr class="miss"><td class="line">296</td><td class="hits">0</td><td class="source">            if (start &gt;= 0) codes.push(buf.slice(start, i));</td></tr><tr class="miss"><td class="line">297</td><td class="hits">0</td><td class="source">            start = i;</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">299</td><td class="hits">0</td><td class="source">        else if (start &gt;= 0 &amp;&amp; i === buf.length - 1) {</td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">            codes.push(buf.slice(start));</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">303</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">304</td><td class="hits">0</td><td class="source">    return codes;</td></tr><tr class=""><td class="line">305</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">306</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/lib/encode.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/charm/lib/encode.js</h2>
          <div class="stats high">
            <div class="percentage">20.0%</div>
            <div class="sloc">10</div>
            <div class="hits">2</div>
            <div class="misses">8</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var encode = module.exports = function (xs) {</td></tr><tr class="miss"><td class="line">2</td><td class="hits">0</td><td class="source">    function bytes (s) {</td></tr><tr class="miss"><td class="line">3</td><td class="hits">0</td><td class="source">        if (typeof s === &apos;string&apos;) {</td></tr><tr class="miss"><td class="line">4</td><td class="hits">0</td><td class="source">            return s.split(&apos;&apos;).map(ord);</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">        else if (Array.isArray(s)) {</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">            return s.reduce(function (acc, c) {</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">                return acc.concat(bytes(c));</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">            }, []);</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">    return new Buffer([ 0x1b ].concat(bytes(xs)));</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">var ord = encode.ord = function ord (c) {</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">    return c.charCodeAt(0)</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/deep-is/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/difflet/node_modules/deep-is/index.js</h2>
          <div class="stats high">
            <div class="percentage">16.3%</div>
            <div class="sloc">49</div>
            <div class="hits">8</div>
            <div class="misses">41</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var pSlice = Array.prototype.slice;</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var Object_keys = typeof Object.keys === &apos;function&apos;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    ? Object.keys</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    : function (obj) {</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">        var keys = [];</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">        for (var key in obj) keys.push(key);</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">        return keys;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">var deepEqual = module.exports = function (actual, expected) {</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">  // enforce Object.is +0 !== -0</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">  if (actual === 0 &amp;&amp; expected === 0) {</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">    return areZerosEqual(actual, expected);</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">  // 7.1. All identical values are equivalent, as determined by ===.</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">  } else if (actual === expected) {</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">    return true;</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">  } else if (actual instanceof Date &amp;&amp; expected instanceof Date) {</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">    return actual.getTime() === expected.getTime();</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">  } else if (isNumberNaN(actual)) {</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">    return isNumberNaN(expected);</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">  // 7.3. Other pairs that do not both pass typeof value == &apos;object&apos;,</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">  // equivalence is determined by ==.</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">  } else if (typeof actual != &apos;object&apos; &amp;&amp; typeof expected != &apos;object&apos;) {</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">    return actual == expected;</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">  // 7.4. For all other Object pairs, including Array objects, equivalence is</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  // determined by having the same number of owned properties (as verified</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">  // with Object.prototype.hasOwnProperty.call), the same set of keys</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">  // (although not necessarily the same order), equivalent values for every</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">  // corresponding key, and an identical &apos;prototype&apos; property. Note: this</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">  // accounts for both named and indexed properties on Arrays.</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">    return objEquiv(actual, expected);</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">42</td><td class="hits">1</td><td class="source">function isUndefinedOrNull(value) {</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">  return value === null || value === undefined;</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">1</td><td class="source">function isArguments(object) {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">  return Object.prototype.toString.call(object) == &apos;[object Arguments]&apos;;</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">1</td><td class="source">function isNumberNaN(value) {</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">  // NaN === NaN -&gt; false</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">  return typeof value == &apos;number&apos; &amp;&amp; value !== value;</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">55</td><td class="hits">1</td><td class="source">function areZerosEqual(zeroA, zeroB) {</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  // (1 / +0|0) -&gt; Infinity, but (1 / -0) -&gt; -Infinity and (Infinity !== -Infinity)</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">  return (1 / zeroA) === (1 / zeroB);</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">60</td><td class="hits">1</td><td class="source">function objEquiv(a, b) {</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">  // an identical &apos;prototype&apos; property.</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">  if (a.prototype !== b.prototype) return false;</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">  //~~~I&apos;ve managed to break Object.keys through screwy arguments passing.</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">  //   Converting to array solves the problem.</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">  if (isArguments(a)) {</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">    if (!isArguments(b)) {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">      return false;</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">    a = pSlice.call(a);</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">    b = pSlice.call(b);</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">    return deepEqual(a, b);</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">  try {</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">    var ka = Object_keys(a),</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">        kb = Object_keys(b),</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">        key, i;</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">  } catch (e) {//happens when one is a string literal and the other isn&apos;t</td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">  // having the same number of owned properties (keys incorporates</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">  // hasOwnProperty)</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">  if (ka.length != kb.length)</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">  //the same set of keys (although not necessarily the same order),</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">  ka.sort();</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">  kb.sort();</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">  //~~~cheap key test</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">  for (i = ka.length - 1; i &gt;= 0; i--) {</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">    if (ka[i] != kb[i])</td></tr><tr class="miss"><td class="line">93</td><td class="hits">0</td><td class="source">      return false;</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">  //equivalent values for every corresponding key, and</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">  //~~~possibly expensive deep test</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">  for (i = ka.length - 1; i &gt;= 0; i--) {</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">    key = ka[i];</td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">    if (!deepEqual(a[key], b[key])) return false;</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">  return true;</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/deep-equal/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/deep-equal/index.js</h2>
          <div class="stats high">
            <div class="percentage">65.9%</div>
            <div class="sloc">41</div>
            <div class="hits">27</div>
            <div class="misses">14</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var pSlice = Array.prototype.slice;</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var Object_keys = typeof Object.keys === &apos;function&apos;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    ? Object.keys</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    : function (obj) {</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">        var keys = [];</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">        for (var key in obj) keys.push(key);</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">        return keys;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">var deepEqual = module.exports = function (actual, expected) {</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">  // 7.1. All identical values are equivalent, as determined by ===.</td></tr><tr class="hit"><td class="line">13</td><td class="hits">127</td><td class="source">  if (actual === expected) {</td></tr><tr class="hit"><td class="line">14</td><td class="hits">84</td><td class="source">    return true;</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">43</td><td class="source">  } else if (actual instanceof Date &amp;&amp; expected instanceof Date) {</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">    return actual.getTime() === expected.getTime();</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">  // 7.3. Other pairs that do not both pass typeof value == &apos;object&apos;,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  // equivalence is determined by ==.</td></tr><tr class="hit"><td class="line">21</td><td class="hits">43</td><td class="source">  } else if (typeof actual != &apos;object&apos; &amp;&amp; typeof expected != &apos;object&apos;) {</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">    return actual == expected;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">  // 7.4. For all other Object pairs, including Array objects, equivalence is</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">  // determined by having the same number of owned properties (as verified</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">  // with Object.prototype.hasOwnProperty.call), the same set of keys</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">  // (although not necessarily the same order), equivalent values for every</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">  // corresponding key, and an identical &apos;prototype&apos; property. Note: this</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">  // accounts for both named and indexed properties on Arrays.</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="hit"><td class="line">31</td><td class="hits">43</td><td class="source">    return objEquiv(actual, expected);</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">function isUndefinedOrNull(value) {</td></tr><tr class="hit"><td class="line">36</td><td class="hits">86</td><td class="source">  return value === null || value === undefined;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">39</td><td class="hits">1</td><td class="source">function isArguments(object) {</td></tr><tr class="hit"><td class="line">40</td><td class="hits">43</td><td class="source">  return Object.prototype.toString.call(object) == &apos;[object Arguments]&apos;;</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">43</td><td class="hits">1</td><td class="source">function objEquiv(a, b) {</td></tr><tr class="hit"><td class="line">44</td><td class="hits">43</td><td class="source">  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">  // an identical &apos;prototype&apos; property.</td></tr><tr class="hit"><td class="line">47</td><td class="hits">43</td><td class="source">  if (a.prototype !== b.prototype) return false;</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">  //~~~I&apos;ve managed to break Object.keys through screwy arguments passing.</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">  //   Converting to array solves the problem.</td></tr><tr class="hit"><td class="line">50</td><td class="hits">43</td><td class="source">  if (isArguments(a)) {</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">    if (!isArguments(b)) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">      return false;</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">    a = pSlice.call(a);</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">    b = pSlice.call(b);</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">    return deepEqual(a, b);</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">58</td><td class="hits">43</td><td class="source">  try {</td></tr><tr class="hit"><td class="line">59</td><td class="hits">43</td><td class="source">    var ka = Object_keys(a),</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">        kb = Object_keys(b),</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">        key, i;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">  } catch (e) {//happens when one is a string literal and the other isn&apos;t</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">  // having the same number of owned properties (keys incorporates</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">  // hasOwnProperty)</td></tr><tr class="hit"><td class="line">67</td><td class="hits">43</td><td class="source">  if (ka.length != kb.length)</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">  //the same set of keys (although not necessarily the same order),</td></tr><tr class="hit"><td class="line">70</td><td class="hits">43</td><td class="source">  ka.sort();</td></tr><tr class="hit"><td class="line">71</td><td class="hits">43</td><td class="source">  kb.sort();</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">  //~~~cheap key test</td></tr><tr class="hit"><td class="line">73</td><td class="hits">43</td><td class="source">  for (i = ka.length - 1; i &gt;= 0; i--) {</td></tr><tr class="hit"><td class="line">74</td><td class="hits">97</td><td class="source">    if (ka[i] != kb[i])</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">      return false;</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">  //equivalent values for every corresponding key, and</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">  //~~~possibly expensive deep test</td></tr><tr class="hit"><td class="line">79</td><td class="hits">43</td><td class="source">  for (i = ka.length - 1; i &gt;= 0; i--) {</td></tr><tr class="hit"><td class="line">80</td><td class="hits">97</td><td class="source">    key = ka[i];</td></tr><tr class="hit"><td class="line">81</td><td class="hits">97</td><td class="source">    if (!deepEqual(a[key], b[key])) return false;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">83</td><td class="hits">43</td><td class="source">  return true;</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/buffer-equal/index.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/buffer-equal/index.js</h2>
          <div class="stats high">
            <div class="percentage">25.0%</div>
            <div class="sloc">8</div>
            <div class="hits">2</div>
            <div class="misses">6</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var Buffer = require(&apos;buffer&apos;).Buffer; // for use with browserify</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = function (a, b) {</td></tr><tr class="miss"><td class="line">4</td><td class="hits">0</td><td class="source">    if (!Buffer.isBuffer(a)) return undefined;</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">    if (!Buffer.isBuffer(b)) return undefined;</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">    if (a.length !== b.length) return false;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; a.length; i++) {</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">        if (a[i] !== b[i]) return false;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    </td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">    return true;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-test.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-test.js</h2>
          <div class="stats high">
            <div class="percentage">66.7%</div>
            <div class="sloc">54</div>
            <div class="hits">36</div>
            <div class="misses">18</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// This is a very simple test framework that leverages the tap framework</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">// to run tests and output tap-parseable results.</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">module.exports = Test</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">var assert = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-assert&quot;)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  , inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  , Results = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-results&quot;)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">// tests are also test harnesses</td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">inherits(Test, require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-harness&quot;))</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">function Test (harness, name, conf) {</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">  //console.error(&quot;test ctor&quot;)</td></tr><tr class="hit"><td class="line">15</td><td class="hits">5</td><td class="source">  if (!(this instanceof Test)) return new Test(harness, name, conf)</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">17</td><td class="hits">5</td><td class="source">  Test.super.call(this, Test)</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">19</td><td class="hits">5</td><td class="source">  conf.name = name || conf.name || &quot;(anonymous)&quot;</td></tr><tr class="hit"><td class="line">20</td><td class="hits">5</td><td class="source">  this.conf = conf</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">5</td><td class="source">  this.harness = harness</td></tr><tr class="hit"><td class="line">23</td><td class="hits">5</td><td class="source">  this.harness.add(this)</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">// it&apos;s taking too long!</td></tr><tr class="hit"><td class="line">27</td><td class="hits">1</td><td class="source">Test.prototype.timeout = function () {</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">  // detect false alarms</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">  if (this._ended) return</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">  this.fail(&quot;Timeout!&quot;)</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">  this.end()</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">1</td><td class="source">Test.prototype.clear = function () {</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">  this._started = false</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">  this._ended = false</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">  this._plan = null</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">  this._bailedOut = false</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">  this._testCount = 0</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">  this.results = new Results()</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">// this gets called if a test throws ever</td></tr><tr class="hit"><td class="line">44</td><td class="hits">1</td><td class="source">Test.prototype.threw = function (ex) {</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">  //console.error(&quot;threw!&quot;, ex.stack)</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">  this.fail(ex.name + &quot;: &quot; + ex.message, { error: ex, thrown: true })</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">  // may emit further failing tests if the plan is not completed</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">  //console.error(&quot;end, because it threw&quot;)</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">  if (!this._ended) this.end()</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">52</td><td class="hits">1</td><td class="source">Test.prototype.comment = function (m) {</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">  if (typeof m !== &quot;string&quot;) {</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">    return this.fail(&quot;Test.comment argument must be a string&quot;)</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">  this.result(&quot;\n&quot; + m.trim())</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">59</td><td class="hits">1</td><td class="source">Test.prototype.result = function (res) {</td></tr><tr class="hit"><td class="line">60</td><td class="hits">57</td><td class="source">  this.results.add(res)</td></tr><tr class="hit"><td class="line">61</td><td class="hits">57</td><td class="source">  this._testCount ++</td></tr><tr class="hit"><td class="line">62</td><td class="hits">57</td><td class="source">  this.emit(&quot;result&quot;, res)</td></tr><tr class="hit"><td class="line">63</td><td class="hits">57</td><td class="source">  if (this._plan === this._testCount) {</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">    process.nextTick(this._endNice.bind(this))</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">68</td><td class="hits">1</td><td class="source">Test.prototype._endNice = function () {</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">  if (!this._ended) this.end()</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">// parasitic</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">// Who says you can&apos;t do multiple inheritance in js?</td></tr><tr class="hit"><td class="line">74</td><td class="hits">1</td><td class="source">Object.getOwnPropertyNames(assert).forEach(function (k) {</td></tr><tr class="hit"><td class="line">75</td><td class="hits">73</td><td class="source">  if (k === &quot;prototype&quot; || k === &quot;name&quot;) return</td></tr><tr class="hit"><td class="line">76</td><td class="hits">69</td><td class="source">  var d = Object.getOwnPropertyDescriptor(assert, k)</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">    , v = d.value</td></tr><tr class="hit"><td class="line">78</td><td class="hits">71</td><td class="source">  if (!v) return</td></tr><tr class="hit"><td class="line">79</td><td class="hits">67</td><td class="source">  d.value = assertParasite(v)</td></tr><tr class="hit"><td class="line">80</td><td class="hits">67</td><td class="source">  Object.defineProperty(Test.prototype, k, d)</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">})</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">83</td><td class="hits">68</td><td class="source">function assertParasite (fn) { return function _testAssert () {</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">  //console.error(&quot;_testAssert&quot;, fn.name, arguments)</td></tr><tr class="hit"><td class="line">85</td><td class="hits">57</td><td class="source">  if (this._bailedOut) return</td></tr><tr class="hit"><td class="line">86</td><td class="hits">57</td><td class="source">  var res = fn.apply(assert, arguments)</td></tr><tr class="hit"><td class="line">87</td><td class="hits">57</td><td class="source">  this.result(res)</td></tr><tr class="hit"><td class="line">88</td><td class="hits">57</td><td class="source">  return res</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">}}</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">// a few tweaks on the EE emit function, because</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">// we want to catch all thrown errors and bubble up &quot;bailout&quot;</td></tr><tr class="hit"><td class="line">93</td><td class="hits">2</td><td class="source">Test.prototype.emit = (function (em) { return function (t) {</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">  // bailouts bubble until handled</td></tr><tr class="hit"><td class="line">95</td><td class="hits">124</td><td class="source">  if (t === &quot;bailout&quot; &amp;&amp;</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">      this.listeners(t).length === 0 &amp;&amp;</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">      this.harness) {</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">    return this.harness.bailout(arguments[1])</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">101</td><td class="hits">124</td><td class="source">  if (t === &quot;error&quot;) return em.apply(this, arguments)</td></tr><tr class="hit"><td class="line">102</td><td class="hits">124</td><td class="source">  try {</td></tr><tr class="hit"><td class="line">103</td><td class="hits">124</td><td class="source">    em.apply(this, arguments)</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">  } catch (ex) {</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">    // any exceptions in a test are a failure</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">    //console.error(&quot;caught!&quot;, ex.stack)</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">    this.threw(ex)</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">}})(Test.super.prototype.emit)</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-consumer.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-consumer.js</h2>
          <div class="stats high">
            <div class="percentage">9.5%</div>
            <div class="sloc">126</div>
            <div class="hits">12</div>
            <div class="misses">114</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = TapConsumer</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">// pipe a stream into this that&apos;s emitting tap-formatted data,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">// and it&apos;ll emit &quot;data&quot; events with test objects or comment strings</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">// and an &quot;end&quot; event with the final results.</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">var yamlish = require(&quot;yamlish&quot;)</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  , Results = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-results&quot;)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  , inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">TapConsumer.decode = TapConsumer.parse = function (str) {</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">  var tc = new TapConsumer</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">    , list = []</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">  tc.on(&quot;data&quot;, function (res) {</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">    list.push(res)</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">  })</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">  tc.end(str)</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">  tc.results.list = list</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">  return tc.results</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">inherits(TapConsumer, require(&quot;stream&quot;).Stream)</td></tr><tr class="hit"><td class="line">23</td><td class="hits">1</td><td class="source">function TapConsumer () {</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">  if (!(this instanceof TapConsumer)) {</td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">    return new TapConsumer</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">  TapConsumer.super.call(this)</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">  this.results = new Results</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">  this.readable = this.writable = true</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">  this.on(&quot;data&quot;, function (res) {</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">    if (typeof res === &quot;object&quot;) this.results.add(res)</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">  this._plan = null</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">  this._buffer = &quot;&quot;</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">  this._indent = []</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">  this._current = null</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">  this._actualCount = 0</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">  this._passed = []</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">  this._failed = []</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">  //console.error(&quot;TapConsumer ctor done&quot;)</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">1</td><td class="source">TapConsumer.prototype.bailedOut = false</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">48</td><td class="hits">1</td><td class="source">TapConsumer.prototype.write = function (chunk) {</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">  if (!this.writable) this.emit(&quot;error&quot;, new Error(&quot;not writable&quot;))</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">  if (this.bailedOut) return true</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">  this._buffer = this._buffer + chunk</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">  // split it up into lines.</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">  var lines = this._buffer.split(/\r?\n/)</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  // ignore the last line, since it might be incomplete.</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">  this._buffer = lines.pop()</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">  for (var i = 0, l = lines.length; i &lt; l; i ++) {</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">    //console.error([i, lines[i]])</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    // see if it&apos;s indented.</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">    var line = lines[i]</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">      , spaces = (this._indent.length &amp;&amp; !line.trim())</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">               || line.match(/^\s/)</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">    // at this level, only interested in fully undented stuff.</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">    if (spaces) {</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">      var c = i</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">      while (c &lt; l &amp;&amp; (!lines[c].trim() || lines[c].match(/^\s/))) {</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">        this._indent.push(lines[c++])</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">      //console.error(c-i, &quot;indented&quot;, this._indent, this._current)</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">      i = c - 1</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">      continue</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">    // some kind of line.  summary, ok, notok, comment, or garbage.</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">    // this also finishes parsing any of the indented lines from before</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">    this._parseLine(line)</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">  return true</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">81</td><td class="hits">1</td><td class="source">TapConsumer.prototype.end = function () {</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">  // finish up any hanging indented sections or final buffer</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">  if (this._buffer.match(/^\s/)) this._indent.push(this.buffer)</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">  else this._parseLine(this._buffer)</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">  if (!this.bailedOut &amp;&amp;</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">      this._plan !== null &amp;&amp;</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">      this.results.testsTotal !== this._plan) {</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">    while (this._actualCount &lt; this._plan) {</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">      this.emit(&quot;data&quot;, {ok: false, name:&quot;MISSING TEST&quot;,</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">                         id:this._actualCount ++ })</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">  this._parseLine(&quot;&quot;)</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">  this._buffer = &quot;&quot;</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">  this.writable = false</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">  this.emit(&quot;end&quot;, null, this._actualCount, this._passed)</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">101</td><td class="hits">1</td><td class="source">TapConsumer.prototype._parseLine = function (line) {</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">  if (this.bailedOut) return</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">  //console.error(&quot;_parseLine&quot;, [line])</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">  // if there are any indented lines, and there is a</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">  // current object already, then they belong to it.</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">  // if there is not a current object, then they&apos;re garbage.</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">  if (this._current &amp;&amp; this._indent.length) {</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">    this._parseIndented()</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">110</td><td class="hits">0</td><td class="source">  this._indent.length = 0</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">  if (this._current) {</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">    if (this._current.ok) this._passed.push(this._current.id)</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">    else this._failed.push(this._current.id)</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">    this.emit(&quot;data&quot;, this._current)</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">  this._current = null</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">  line = line.trim()</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">  if (!line) return</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">  // try to see what kind of line this is.</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">  var bo</td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">  if (bo = line.match(/^bail out!\s*(.*)$/i)) {</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">    this.bailedOut = true</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">    // this.emit(&quot;error&quot;, new Error(line))</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">    this.emit(&quot;bailout&quot;, bo[1])</td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">    return</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">  if (line.match(/^#/)) { // just a comment</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">    line = line.replace(/^#+/, &quot;&quot;).trim()</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">    // console.error(&quot;outputting comment&quot;, [line])</td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">    if (line) this.emit(&quot;data&quot;, line)</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">    return</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">  var plan = line.match(/^([0-9]+)\.\.([0-9]+)(?:\s+#(.*))?$/)</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">  if (plan) {</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">    var start = +(plan[1])</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">      , end = +(plan[2])</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">      , comment = plan[3]</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">    // TODO: maybe do something else with this?</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">    // it might be something like: &quot;1..0 #Skip because of reasons&quot;</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">    this._plan = end</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">    this.emit(&quot;plan&quot;, end, comment)</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">    // plan must come before or after all tests.</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">    if (this._actualCount !== 0) {</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">      this._sawPlan = true</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">    return</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">  if (line.match(/^(not )?ok(?:\s+([0-9]+))?/)) {</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">    this._parseResultLine(line)</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">    return</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">  // garbage.  emit as a comment.</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">  //console.error(&quot;emitting&quot;, [line.trim()])</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">  if (line.trim()) this.emit(&quot;data&quot;, line.trim())</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">163</td><td class="hits">1</td><td class="source">TapConsumer.prototype._parseDirective = function (line) {</td></tr><tr class="miss"><td class="line">164</td><td class="hits">0</td><td class="source">  line = line.trim()</td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">  if (line.match(/^TODO\b/i)) {</td></tr><tr class="miss"><td class="line">166</td><td class="hits">0</td><td class="source">    return { todo:true, explanation: line.replace(/^TODO\s*/i, &quot;&quot;) }</td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">  } else if (line.match(/^SKIP\b/i)) {</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">    return { skip:true, explanation: line.replace(/^SKIP\s*/i, &quot;&quot;) }</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">172</td><td class="hits">1</td><td class="source">TapConsumer.prototype._parseResultLine = function (line) {</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">  this._actualCount ++</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">  if (this._sawPlan) {</td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">    this.emit(&quot;data&quot;, {ok: false, name:&quot;plan in the middle of tests&quot;</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">                      ,id:this._actualCount ++})</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">178</td><td class="hits">0</td><td class="source">  var parsed = line.match(/^(not )?ok(?: ([0-9]+))?(?:(?: - )?(.*))?$/)</td></tr><tr class=""><td class="line">179</td><td class="hits"></td><td class="source">    , ok = !parsed[1]</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source">    , id = +(parsed[2] || this._actualCount)</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source">    , rest = parsed[3] || &quot;&quot;</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source">    , name</td></tr><tr class=""><td class="line">183</td><td class="hits"></td><td class="source">    , res = { id:id, ok:ok }</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">185</td><td class="hits"></td><td class="source">  // split on un-escaped # characters</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">  //console.log(&quot;# &quot;+JSON.stringify([name, rest]))</td></tr><tr class="miss"><td class="line">188</td><td class="hits">0</td><td class="source">  rest = rest.replace(/([^\\])((?:\\\\)*)#/g, &quot;$1\n$2&quot;).split(&quot;\n&quot;)</td></tr><tr class="miss"><td class="line">189</td><td class="hits">0</td><td class="source">  name = rest.shift()</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">  rest = rest.filter(function (r) { return r.trim() }).join(&quot;#&quot;)</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">  //console.log(&quot;# &quot;+JSON.stringify([name, rest]))</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source">  // now, let&apos;s see if there&apos;s a directive in there.</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">  var dir = this._parseDirective(rest.trim())</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">  if (!dir) name += rest ? &quot;#&quot; + rest : &quot;&quot;</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">  else {</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">    res.ok = true</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">    if (dir.skip) res.skip = true</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">    else if (dir.todo) res.todo = true</td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">    if (dir.explanation) res.explanation = dir.explanation</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">  res.name = name</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source">  //console.error(line, [ok, id, name])</td></tr><tr class="miss"><td class="line">205</td><td class="hits">0</td><td class="source">  this._current = res</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">208</td><td class="hits">1</td><td class="source">TapConsumer.prototype._parseIndented = function () {</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">  // pull yamlish block out</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">  var ind = this._indent</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">    , ys</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">    , ye</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source">    , yind</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">    , diag</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">  //console.error(ind, this._indent)</td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">  for (var i = 0, l = ind.length; i &lt; l; i ++) {</td></tr><tr class="miss"><td class="line">217</td><td class="hits">0</td><td class="source">    var line = ind[i]</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source">      , lt = line.trim()</td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">    if (!ys) {</td></tr><tr class="miss"><td class="line">220</td><td class="hits">0</td><td class="source">      ys = line.match(/^(\s*)---(.*)$/)</td></tr><tr class="miss"><td class="line">221</td><td class="hits">0</td><td class="source">      if (ys) {</td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">        yind = ys[1]</td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">        diag = [ys[2]]</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">        //console.error([line,ys, diag])</td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">        continue</td></tr><tr class="miss"><td class="line">226</td><td class="hits">0</td><td class="source">      } else if (lt) this.emit(&quot;data&quot;, lt)</td></tr><tr class="miss"><td class="line">227</td><td class="hits">0</td><td class="source">    } else if (ys &amp;&amp; !ye) {</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">      if (line === yind + &quot;...&quot;) ye = true</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">      else {</td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">        diag.push(line.substr(yind.length))</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">232</td><td class="hits">0</td><td class="source">    } else if (ys &amp;&amp; ye &amp;&amp; lt) this.emit(&quot;data&quot;, lt)</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">  if (diag) {</td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source">    //console.error(&apos;about to parse&apos;, diag)</td></tr><tr class="miss"><td class="line">236</td><td class="hits">0</td><td class="source">    diag = yamlish.decode(diag.join(&quot;\n&quot;))</td></tr><tr class=""><td class="line">237</td><td class="hits"></td><td class="source">    //console.error(&apos;parsed&apos;, diag)</td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">    Object.keys(diag).forEach(function (k) {</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">      //console.error(this._current, k)</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">      if (!this._current.hasOwnProperty(k)) this._current[k] = diag[k]</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">    }, this)</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-runner.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-runner.js</h2>
          <div class="stats high">
            <div class="percentage">6.4%</div>
            <div class="sloc">204</div>
            <div class="hits">13</div>
            <div class="misses">191</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var fs = require(&quot;fs&quot;)</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">  , child_process = require(&quot;child_process&quot;)</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">  , path = require(&quot;path&quot;)</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">  , chain = require(&quot;slide&quot;).chain</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">  , asyncMap = require(&quot;slide&quot;).asyncMap</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">  , TapProducer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-producer.js&quot;)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  , TapConsumer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-consumer.js&quot;)</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  , assert = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-assert.js&quot;)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  , inherits = require(&quot;inherits&quot;)</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">  , util = require(&quot;util&quot;)</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">  , CovHtml = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/lib/./tap-cov-html.js&quot;)</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">  // XXX Clean up the coverage options</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">  , doCoverage = process.env.TAP_COV</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">               || process.env.npm_package_config_coverage</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">               || process.env.npm_config_coverage</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">module.exports = Runner</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">20</td><td class="hits">1</td><td class="source">inherits(Runner, TapProducer)</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">function Runner (options, cb) {</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">  this.options = options</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">  var diag = this.options.diag</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">  var dir = this.options.argv.remain</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">  Runner.super.call(this, diag)</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">  this.doCoverage = doCoverage</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  // An array of full paths to files to obtain coverage</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">  this.coverageFiles = []</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  // The source of these files</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">  this.coverageFilesSource = {}</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">  // Where to write coverage information</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">  this.coverageOutDir = this.options[&quot;coverage-dir&quot;]</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">  // Temporary test files bunkerified we&apos;ll remove later</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">  this.f2delete = []</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">  // Raw coverage stats, as read from JSON files</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">  this.rawCovStats = []</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">  // Processed coverage information, per file to cover:</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">  this.covStats = {}</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">  if (dir) {</td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">    var filesToCover = this.options.cover</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">    if (doCoverage) {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">      var mkdirp = require(&quot;mkdirp&quot;)</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">      this.coverageOutDir = path.resolve(this.coverageOutDir)</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">      this.getFilesToCover(filesToCover)</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">      var self = this</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">      return mkdirp(this.coverageOutDir, 0755, function (er) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">        if (er) return self.emit(&quot;error&quot;, er)</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">        self.run(dir, cb)</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">    this.run(dir, cb)</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">62</td><td class="hits">1</td><td class="source">Runner.prototype.run = function() {</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">    , args = Array.prototype.slice.call(arguments)</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    , cb = args.pop() || finish</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">  function finish (er) {</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">    if (er) {</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">      self.emit(&quot;error&quot;, er)</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">    if (!doCoverage) return self.end()</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">    // Cleanup temporary test files with coverage:</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">    self.f2delete.forEach(function(f) {</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">      fs.unlinkSync(f)</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">    })</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">    self.getFilesToCoverSource(function(err, data) {</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">      if (err) {</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">        self.emit(&quot;error&quot;, err)</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">      self.getPerFileCovInfo(function(err, data) {</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">        if (err) {</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">          self.emit(&quot;error&quot;, err)</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">        self.mergeCovStats(function(err, data) {</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">          if (err) {</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">            self.emit(&quot;error&quot;, err)</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">          CovHtml(self.covStats, self.coverageOutDir, function() {</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">            self.end()</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">          })</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">  if (Array.isArray(args[0])) {</td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">    args = args[0]</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">  self.runFiles(args, &quot;&quot;, cb)</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">Runner.prototype.runDir = function (dir, cb) {</td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">  fs.readdir(dir, function (er, files) {</td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">    if (er) {</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">      self.write(assert.fail(&quot;failed to readdir &quot; + dir, { error: er }))</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">      self.end()</td></tr><tr class="miss"><td class="line">110</td><td class="hits">0</td><td class="source">      return</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">    files = files.sort(function(a, b) {</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">      return a &gt; b ? 1 : -1</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">    })</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">    files = files.filter(function(f) {</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">      return !f.match(/^\./)</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">    })</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">    files = files.map(path.resolve.bind(path, dir))</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">    self.runFiles(files, path.resolve(dir), cb)</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">125</td><td class="hits">1</td><td class="source">Runner.prototype.runFiles = function (files, dir, cb) {</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">127</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">  chain(files.map(function(f) {</td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">    return function (cb) {</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">      if (self._bailedOut) return</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">      var relDir = dir || path.dirname(f)</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">        , fileName = relDir === &quot;.&quot; ? f : f.substr(relDir.length + 1)</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">      self.write(fileName)</td></tr><tr class="miss"><td class="line">135</td><td class="hits">0</td><td class="source">      fs.lstat(f, function(er, st) {</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">        if (er) {</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">          self.write(assert.fail(&quot;failed to stat &quot; + f, {error: er}))</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">          return cb()</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">        var cmd = f, args = [], env = {}</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">        if (path.extname(f) === &quot;.js&quot;) {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">          cmd = &quot;node&quot;</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">          if (self.options.gc) {</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">            args.push(&quot;--expose-gc&quot;)</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">          args.push(fileName)</td></tr><tr class="miss"><td class="line">149</td><td class="hits">0</td><td class="source">        } else if (path.extname(f) === &quot;.coffee&quot;) {</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">          cmd = &quot;coffee&quot;</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">          args.push(fileName)</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">        } else {</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source">          // Check if file is executable</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">          if ((st.mode &amp; 0100) &amp;&amp; process.getuid) {</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">            if (process.getuid() != st.uid) {</td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">              return cb()</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">          } else if ((st.mode &amp; 0010) &amp;&amp; process.getgid) {</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">            if (process.getgid() != st.gid) {</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">              return cb()</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">            }</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">          } else if ((st.mode &amp; 0001) == 0) {</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">            return cb()</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">          }</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">        if (st.isDirectory()) {</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">          return self.runDir(f, cb)</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">171</td><td class="hits">0</td><td class="source">        if (doCoverage &amp;&amp; path.extname(f) === &quot;.js&quot;) {</td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">          var foriginal = fs.readFileSync(f, &quot;utf8&quot;)</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">            , fcontents = self.coverHeader() + foriginal + self.coverFooter()</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source">            , tmpBaseName = path.basename(f, path.extname(f))</td></tr><tr class=""><td class="line">175</td><td class="hits"></td><td class="source">                          + &quot;.with-coverage.&quot; + process.pid + path.extname(f)</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">            , tmpFname = path.resolve(path.dirname(f), tmpBaseName)</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">178</td><td class="hits">0</td><td class="source">          fs.writeFileSync(tmpFname, fcontents, &quot;utf8&quot;)</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">          args.splice(-1, 1, tmpFname)</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">        for (var i in process.env) {</td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">          env[i] = process.env[i]</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">        env.TAP = 1</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">187</td><td class="hits">0</td><td class="source">        var cp = child_process.spawn(cmd, args, { env: env, cwd: relDir })</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">          , out = &quot;&quot;</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">          , err = &quot;&quot;</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source">          , tc = new TapConsumer()</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">          , childTests = [f]</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">        var timeout = setTimeout(function () {</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">          if (!cp._ended) {</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">            cp._timedOut = true</td></tr><tr class="miss"><td class="line">196</td><td class="hits">0</td><td class="source">            cp.kill()</td></tr><tr class=""><td class="line">197</td><td class="hits"></td><td class="source">          }</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">        }, self.options.timeout * 1000)</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">        tc.on(&quot;data&quot;, function(c) {</td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">          self.emit(&quot;result&quot;, c)</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">          self.write(c)</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">205</td><td class="hits">0</td><td class="source">        tc.on(&quot;bailout&quot;, function (message) {</td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">          clearTimeout(timeout)</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">          console.log(&quot;# &quot; + f.substr(process.cwd().length + 1))</td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">          process.stderr.write(err)</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">          process.stdout.write(out + &quot;\n&quot;)</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">          self._bailedOut = true</td></tr><tr class="miss"><td class="line">211</td><td class="hits">0</td><td class="source">          cp._ended = true</td></tr><tr class="miss"><td class="line">212</td><td class="hits">0</td><td class="source">          cp.kill()</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">215</td><td class="hits">0</td><td class="source">        cp.stdout.pipe(tc)</td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">        cp.stdout.on(&quot;data&quot;, function (c) { out += c })</td></tr><tr class="miss"><td class="line">217</td><td class="hits">0</td><td class="source">        cp.stderr.on(&quot;data&quot;, function (c) {</td></tr><tr class="miss"><td class="line">218</td><td class="hits">0</td><td class="source">          if (self.options.stderr) process.stderr.write(c)</td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">          err += c</td></tr><tr class=""><td class="line">220</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">        cp.on(&quot;exit&quot;, function (code, signal) {</td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">          if (cp._ended) return</td></tr><tr class="miss"><td class="line">224</td><td class="hits">0</td><td class="source">          cp._ended = true</td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">          var ok = !cp._timedOut &amp;&amp; code === 0</td></tr><tr class="miss"><td class="line">226</td><td class="hits">0</td><td class="source">          clearTimeout(timeout)</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source">          //childTests.forEach(function (c) { self.write(c) })</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">          var res = { name: path.dirname(f).replace(process.cwd() + &quot;/&quot;, &quot;&quot;)</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">                          + &quot;/&quot; + fileName</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source">                    , ok: ok</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">                    , exit: code }</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">233</td><td class="hits">0</td><td class="source">          if (cp._timedOut)</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">            res.timedOut = cp._timedOut</td></tr><tr class="miss"><td class="line">235</td><td class="hits">0</td><td class="source">          if (signal)</td></tr><tr class="miss"><td class="line">236</td><td class="hits">0</td><td class="source">            res.signal = signal</td></tr><tr class=""><td class="line">237</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">          if (err) {</td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">            res.stderr = err</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">            if (tc.results.ok &amp;&amp;</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">                tc.results.tests === 0 &amp;&amp;</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">                !self.options.stderr) {</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source">              // perhaps a compilation error or something else failed.</td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">              // no need if stderr is set, since it will have been</td></tr><tr class=""><td class="line">245</td><td class="hits"></td><td class="source">              // output already anyway.</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">              console.error(err)</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">            }</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source">          }</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">          // tc.results.ok = tc.results.ok &amp;&amp; ok</td></tr><tr class="miss"><td class="line">251</td><td class="hits">0</td><td class="source">          tc.results.add(res)</td></tr><tr class="miss"><td class="line">252</td><td class="hits">0</td><td class="source">          res.command = [cmd].concat(args).map(JSON.stringify).join(&quot; &quot;)</td></tr><tr class="miss"><td class="line">253</td><td class="hits">0</td><td class="source">          self.emit(&quot;result&quot;, res)</td></tr><tr class="miss"><td class="line">254</td><td class="hits">0</td><td class="source">          self.emit(&quot;file&quot;, f, res, tc.results)</td></tr><tr class="miss"><td class="line">255</td><td class="hits">0</td><td class="source">          self.write(res)</td></tr><tr class="miss"><td class="line">256</td><td class="hits">0</td><td class="source">          self.write(&quot;\n&quot;)</td></tr><tr class="miss"><td class="line">257</td><td class="hits">0</td><td class="source">          if (doCoverage) {</td></tr><tr class="miss"><td class="line">258</td><td class="hits">0</td><td class="source">            self.f2delete.push(tmpFname)</td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">260</td><td class="hits">0</td><td class="source">          cb()</td></tr><tr class=""><td class="line">261</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source">  }), cb)</td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">266</td><td class="hits">0</td><td class="source">  return self</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">268</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">269</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">// Get an array of full paths to files we are interested into obtain</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source">// code coverage.</td></tr><tr class="hit"><td class="line">272</td><td class="hits">1</td><td class="source">Runner.prototype.getFilesToCover = function(filesToCover) {</td></tr><tr class="miss"><td class="line">273</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class="miss"><td class="line">274</td><td class="hits">0</td><td class="source">  filesToCover = filesToCover.split(&quot;,&quot;).map(function(f) {</td></tr><tr class="miss"><td class="line">275</td><td class="hits">0</td><td class="source">    return path.resolve(f)</td></tr><tr class=""><td class="line">276</td><td class="hits"></td><td class="source">  }).filter(function(f) {</td></tr><tr class="miss"><td class="line">277</td><td class="hits">0</td><td class="source">    return path.existsSync(f)</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">279</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">280</td><td class="hits">0</td><td class="source">  function recursive(f) {</td></tr><tr class="miss"><td class="line">281</td><td class="hits">0</td><td class="source">    if (path.extname(f) === &quot;&quot;) {</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">      // Is a directory:</td></tr><tr class="miss"><td class="line">283</td><td class="hits">0</td><td class="source">      fs.readdirSync(f).forEach(function(p) {</td></tr><tr class="miss"><td class="line">284</td><td class="hits">0</td><td class="source">        recursive(f + &quot;/&quot; + p)</td></tr><tr class=""><td class="line">285</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">286</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="miss"><td class="line">287</td><td class="hits">0</td><td class="source">      self.coverageFiles.push(f)</td></tr><tr class=""><td class="line">288</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">290</td><td class="hits">0</td><td class="source">  filesToCover.forEach(function(f) {</td></tr><tr class="miss"><td class="line">291</td><td class="hits">0</td><td class="source">    recursive(f)</td></tr><tr class=""><td class="line">292</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">295</td><td class="hits"></td><td class="source">// Prepend to every test file to run. Note tap.test at the very top due it</td></tr><tr class=""><td class="line">296</td><td class="hits"></td><td class="source">// &quot;plays&quot; with include paths.</td></tr><tr class="hit"><td class="line">297</td><td class="hits">1</td><td class="source">Runner.prototype.coverHeader = function() {</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">  // semi here since we&apos;re injecting it before the first line,</td></tr><tr class=""><td class="line">299</td><td class="hits"></td><td class="source">  // and don&apos;t want to mess up line numbers in the test files.</td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">  return &quot;var ___TAP_COVERAGE = require(&quot;</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">       + JSON.stringify(require.resolve(&quot;runforcover&quot;))</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">       + &quot;).cover(/.*/g);&quot;</td></tr><tr class=""><td class="line">303</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">305</td><td class="hits"></td><td class="source">// Append at the end of every test file to run. Actually, the stuff which gets</td></tr><tr class=""><td class="line">306</td><td class="hits"></td><td class="source">// the coverage information.</td></tr><tr class=""><td class="line">307</td><td class="hits"></td><td class="source">// Maybe it would be better to move into a separate file template so editing</td></tr><tr class=""><td class="line">308</td><td class="hits"></td><td class="source">// could be easier.</td></tr><tr class="hit"><td class="line">309</td><td class="hits">1</td><td class="source">Runner.prototype.coverFooter = function() {</td></tr><tr class="miss"><td class="line">310</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class=""><td class="line">311</td><td class="hits"></td><td class="source">  // This needs to be a string with proper interpolations:</td></tr><tr class="miss"><td class="line">312</td><td class="hits">0</td><td class="source">  return [ &quot;&quot;</td></tr><tr class=""><td class="line">313</td><td class="hits"></td><td class="source">  , &quot;var ___TAP = require(&quot; + JSON.stringify(require.resolve(&quot;./main.js&quot;)) + &quot;)&quot;</td></tr><tr class=""><td class="line">314</td><td class="hits"></td><td class="source">  , &quot;if (typeof ___TAP._plan === &apos;number&apos;) ___TAP._plan ++&quot;</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source">  , &quot;___TAP.test(&quot; + JSON.stringify(&quot;___coverage&quot;) + &quot;, function(t) {&quot;</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">  , &quot;  var covFiles = &quot; + JSON.stringify(self.coverageFiles)</td></tr><tr class=""><td class="line">317</td><td class="hits"></td><td class="source">  , &quot;    , covDir = &quot; + JSON.stringify(self.coverageOutDir)</td></tr><tr class=""><td class="line">318</td><td class="hits"></td><td class="source">  , &quot;    , path = require(&apos;path&apos;)&quot;</td></tr><tr class=""><td class="line">319</td><td class="hits"></td><td class="source">  , &quot;    , fs = require(&apos;fs&apos;)&quot;</td></tr><tr class=""><td class="line">320</td><td class="hits"></td><td class="source">  , &quot;    , testFnBase = path.basename(__filename, &apos;.js&apos;) + &apos;.json&apos;&quot;</td></tr><tr class=""><td class="line">321</td><td class="hits"></td><td class="source">  , &quot;    , testFn = path.resolve(covDir, testFnBase)&quot;</td></tr><tr class=""><td class="line">322</td><td class="hits"></td><td class="source">  , &quot;&quot;</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source">  , &quot;  function asyncForEach(arr, fn, callback) {&quot;</td></tr><tr class=""><td class="line">324</td><td class="hits"></td><td class="source">  , &quot;    if (!arr.length) {&quot;</td></tr><tr class=""><td class="line">325</td><td class="hits"></td><td class="source">  , &quot;      return callback()&quot;</td></tr><tr class=""><td class="line">326</td><td class="hits"></td><td class="source">  , &quot;    }&quot;</td></tr><tr class=""><td class="line">327</td><td class="hits"></td><td class="source">  , &quot;    var completed = 0&quot;</td></tr><tr class=""><td class="line">328</td><td class="hits"></td><td class="source">  , &quot;    arr.forEach(function(i) {&quot;</td></tr><tr class=""><td class="line">329</td><td class="hits"></td><td class="source">  , &quot;      fn(i, function (err) {&quot;</td></tr><tr class=""><td class="line">330</td><td class="hits"></td><td class="source">  , &quot;        if (err) {&quot;</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">  , &quot;          callback(err)&quot;</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source">  , &quot;          callback = function () {}&quot;</td></tr><tr class=""><td class="line">333</td><td class="hits"></td><td class="source">  , &quot;        } else {&quot;</td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source">  , &quot;          completed += 1&quot;</td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">  , &quot;          if (completed === arr.length) {&quot;</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source">  , &quot;            callback()&quot;</td></tr><tr class=""><td class="line">337</td><td class="hits"></td><td class="source">  , &quot;          }&quot;</td></tr><tr class=""><td class="line">338</td><td class="hits"></td><td class="source">  , &quot;        }&quot;</td></tr><tr class=""><td class="line">339</td><td class="hits"></td><td class="source">  , &quot;      })&quot;</td></tr><tr class=""><td class="line">340</td><td class="hits"></td><td class="source">  , &quot;    })&quot;</td></tr><tr class=""><td class="line">341</td><td class="hits"></td><td class="source">  , &quot;  }&quot;</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source">  , &quot;&quot;</td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source">  , &quot;  ___TAP_COVERAGE(function(coverageData) {&quot;</td></tr><tr class=""><td class="line">344</td><td class="hits"></td><td class="source">  , &quot;    var outObj = {}&quot;</td></tr><tr class=""><td class="line">345</td><td class="hits"></td><td class="source">  , &quot;    asyncForEach(covFiles, function(f, cb) {&quot;</td></tr><tr class=""><td class="line">346</td><td class="hits"></td><td class="source">  , &quot;      if (coverageData[f]) {&quot;</td></tr><tr class=""><td class="line">347</td><td class="hits"></td><td class="source">  , &quot;        var stats = coverageData[f].stats()&quot;</td></tr><tr class=""><td class="line">348</td><td class="hits"></td><td class="source">  , &quot;          , stObj = stats&quot;</td></tr><tr class=""><td class="line">349</td><td class="hits"></td><td class="source">  , &quot;        stObj.lines = stats.lines.map(function (l) {&quot;</td></tr><tr class=""><td class="line">350</td><td class="hits"></td><td class="source">  , &quot;          return { number: l.lineno, source: l.source() }&quot;</td></tr><tr class=""><td class="line">351</td><td class="hits"></td><td class="source">  , &quot;        })&quot;</td></tr><tr class=""><td class="line">352</td><td class="hits"></td><td class="source">  , &quot;        outObj[f] = stObj&quot;</td></tr><tr class=""><td class="line">353</td><td class="hits"></td><td class="source">  , &quot;      }&quot;</td></tr><tr class=""><td class="line">354</td><td class="hits"></td><td class="source">  , &quot;      cb()&quot;</td></tr><tr class=""><td class="line">355</td><td class="hits"></td><td class="source">  , &quot;    }, function(err) {&quot;</td></tr><tr class=""><td class="line">356</td><td class="hits"></td><td class="source">  , &quot;      ___TAP_COVERAGE.release()&quot;</td></tr><tr class=""><td class="line">357</td><td class="hits"></td><td class="source">  , &quot;      fs.writeFileSync(testFn, JSON.stringify(outObj))&quot;</td></tr><tr class=""><td class="line">358</td><td class="hits"></td><td class="source">  , &quot;      t.end()&quot;</td></tr><tr class=""><td class="line">359</td><td class="hits"></td><td class="source">  , &quot;    })&quot;</td></tr><tr class=""><td class="line">360</td><td class="hits"></td><td class="source">  , &quot;  })&quot;</td></tr><tr class=""><td class="line">361</td><td class="hits"></td><td class="source">  , &quot;})&quot; ].join(&quot;\n&quot;)</td></tr><tr class=""><td class="line">362</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">363</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">364</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">365</td><td class="hits">1</td><td class="source">Runner.prototype.getFilesToCoverSource = function(cb) {</td></tr><tr class="miss"><td class="line">366</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class="miss"><td class="line">367</td><td class="hits">0</td><td class="source">  asyncMap(self.coverageFiles, function(f, cb) {</td></tr><tr class="miss"><td class="line">368</td><td class="hits">0</td><td class="source">    fs.readFile(f, &quot;utf8&quot;, function(err, data) {</td></tr><tr class="miss"><td class="line">369</td><td class="hits">0</td><td class="source">      var lc = 0</td></tr><tr class="miss"><td class="line">370</td><td class="hits">0</td><td class="source">      if (err) {</td></tr><tr class="miss"><td class="line">371</td><td class="hits">0</td><td class="source">        cb(err)</td></tr><tr class=""><td class="line">372</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">373</td><td class="hits">0</td><td class="source">      self.coverageFilesSource[f] = data.split(&quot;\n&quot;).map(function(l) {</td></tr><tr class="miss"><td class="line">374</td><td class="hits">0</td><td class="source">        lc += 1</td></tr><tr class="miss"><td class="line">375</td><td class="hits">0</td><td class="source">        return { number: lc, source: l }</td></tr><tr class=""><td class="line">376</td><td class="hits"></td><td class="source">      })</td></tr><tr class="miss"><td class="line">377</td><td class="hits">0</td><td class="source">      cb()</td></tr><tr class=""><td class="line">378</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">379</td><td class="hits"></td><td class="source">  }, cb)</td></tr><tr class=""><td class="line">380</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">381</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">382</td><td class="hits">1</td><td class="source">Runner.prototype.getPerFileCovInfo = function(cb) {</td></tr><tr class="miss"><td class="line">383</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class=""><td class="line">384</td><td class="hits"></td><td class="source">    , covPath = path.resolve(self.coverageOutDir)</td></tr><tr class=""><td class="line">385</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">386</td><td class="hits">0</td><td class="source">  fs.readdir(covPath, function(err, files) {</td></tr><tr class="miss"><td class="line">387</td><td class="hits">0</td><td class="source">    if (err) {</td></tr><tr class="miss"><td class="line">388</td><td class="hits">0</td><td class="source">      self.emit(&quot;error&quot;, err)</td></tr><tr class=""><td class="line">389</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">390</td><td class="hits">0</td><td class="source">    var covFiles = files.filter(function(f) {</td></tr><tr class="miss"><td class="line">391</td><td class="hits">0</td><td class="source">      return path.extname(f) === &quot;.json&quot;</td></tr><tr class=""><td class="line">392</td><td class="hits"></td><td class="source">    })</td></tr><tr class="miss"><td class="line">393</td><td class="hits">0</td><td class="source">    asyncMap(covFiles, function(f, cb) {</td></tr><tr class="miss"><td class="line">394</td><td class="hits">0</td><td class="source">      fs.readFile(path.resolve(covPath, f), &quot;utf8&quot;, function(err, data) {</td></tr><tr class="miss"><td class="line">395</td><td class="hits">0</td><td class="source">        if (err) {</td></tr><tr class="miss"><td class="line">396</td><td class="hits">0</td><td class="source">          cb(err)</td></tr><tr class=""><td class="line">397</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">398</td><td class="hits">0</td><td class="source">        self.rawCovStats.push(JSON.parse(data))</td></tr><tr class="miss"><td class="line">399</td><td class="hits">0</td><td class="source">        cb()</td></tr><tr class=""><td class="line">400</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">401</td><td class="hits"></td><td class="source">    }, function(f, cb) {</td></tr><tr class="miss"><td class="line">402</td><td class="hits">0</td><td class="source">      fs.unlink(path.resolve(covPath, f), cb)</td></tr><tr class=""><td class="line">403</td><td class="hits"></td><td class="source">    }, cb)</td></tr><tr class=""><td class="line">404</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">405</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">406</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">407</td><td class="hits">1</td><td class="source">Runner.prototype.mergeCovStats = function(cb) {</td></tr><tr class="miss"><td class="line">408</td><td class="hits">0</td><td class="source">  var self = this</td></tr><tr class="miss"><td class="line">409</td><td class="hits">0</td><td class="source">  self.rawCovStats.forEach(function(st) {</td></tr><tr class="miss"><td class="line">410</td><td class="hits">0</td><td class="source">    Object.keys(st).forEach(function(i) {</td></tr><tr class=""><td class="line">411</td><td class="hits"></td><td class="source">      // If this is the first time we reach this file, just add the info:</td></tr><tr class="miss"><td class="line">412</td><td class="hits">0</td><td class="source">      if (!self.covStats[i]) {</td></tr><tr class="miss"><td class="line">413</td><td class="hits">0</td><td class="source">        self.covStats[i] = {</td></tr><tr class=""><td class="line">414</td><td class="hits"></td><td class="source">          missing: st[i].lines</td></tr><tr class=""><td class="line">415</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">416</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class=""><td class="line">417</td><td class="hits"></td><td class="source">        // If we already added info for this file before, we need to remove</td></tr><tr class=""><td class="line">418</td><td class="hits"></td><td class="source">        // from self.covStats any line not duplicated again (since it has</td></tr><tr class=""><td class="line">419</td><td class="hits"></td><td class="source">        // run on such case)</td></tr><tr class="miss"><td class="line">420</td><td class="hits">0</td><td class="source">        self.covStats[i].missing = self.covStats[i].missing.filter(</td></tr><tr class=""><td class="line">421</td><td class="hits"></td><td class="source">          function(l) {</td></tr><tr class="miss"><td class="line">422</td><td class="hits">0</td><td class="source">            return (st[i].lines.indexOf(l))</td></tr><tr class=""><td class="line">423</td><td class="hits"></td><td class="source">          })</td></tr><tr class=""><td class="line">424</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">425</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">426</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">427</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">428</td><td class="hits"></td><td class="source">  // This is due to a bug into</td></tr><tr class=""><td class="line">429</td><td class="hits"></td><td class="source">  // chrisdickinson/node-bunker/blob/feature/add-coverage-interface</td></tr><tr class=""><td class="line">430</td><td class="hits"></td><td class="source">  // which is using array indexes for line numbers instead of the right number</td></tr><tr class="miss"><td class="line">431</td><td class="hits">0</td><td class="source">  Object.keys(self.covStats).forEach(function(f) {</td></tr><tr class="miss"><td class="line">432</td><td class="hits">0</td><td class="source">    self.covStats[f].missing = self.covStats[f].missing.map(function(line) {</td></tr><tr class="miss"><td class="line">433</td><td class="hits">0</td><td class="source">      return { number: line.number, source: line.source }</td></tr><tr class=""><td class="line">434</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">435</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">436</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">437</td><td class="hits">0</td><td class="source">  Object.keys(self.coverageFilesSource).forEach(function(f) {</td></tr><tr class="miss"><td class="line">438</td><td class="hits">0</td><td class="source">    if (!self.covStats[f]) {</td></tr><tr class="miss"><td class="line">439</td><td class="hits">0</td><td class="source">      self.covStats[f] = { missing: self.coverageFilesSource[f]</td></tr><tr class=""><td class="line">440</td><td class="hits"></td><td class="source">                          , percentage: 0</td></tr><tr class=""><td class="line">441</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">442</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">443</td><td class="hits">0</td><td class="source">    self.covStats[f].lines = self.coverageFilesSource[f]</td></tr><tr class="miss"><td class="line">444</td><td class="hits">0</td><td class="source">    self.covStats[f].loc = self.coverageFilesSource[f].length</td></tr><tr class=""><td class="line">445</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">446</td><td class="hits">0</td><td class="source">    if (!self.covStats[f].percentage) {</td></tr><tr class="miss"><td class="line">447</td><td class="hits">0</td><td class="source">      self.covStats[f].percentage =</td></tr><tr class=""><td class="line">448</td><td class="hits"></td><td class="source">        1 - (self.covStats[f].missing.length / self.covStats[f].loc)</td></tr><tr class=""><td class="line">449</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">450</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">451</td><td class="hits"></td><td class="source">  })</td></tr><tr class="miss"><td class="line">452</td><td class="hits">0</td><td class="source">  cb()</td></tr><tr class=""><td class="line">453</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">454</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/slide.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/slide.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">3</div>
            <div class="hits">3</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">exports.asyncMap = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/./async-map&quot;)</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">exports.bindActor = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/./bind-actor&quot;)</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">exports.chain = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/./chain&quot;)</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/async-map.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/async-map.js</h2>
          <div class="stats high">
            <div class="percentage">8.0%</div>
            <div class="sloc">25</div>
            <div class="hits">2</div>
            <div class="misses">23</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">usage:</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">// do something to a list of things</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">asyncMap(myListOfStuff, function (thing, cb) { doSomething(thing.foo, cb) }, cb)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">// do more than one thing to each item</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">asyncMap(list, fooFn, barFn, cb)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">module.exports = asyncMap</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">function asyncMap () {</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">  var steps = Array.prototype.slice.call(arguments)</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">    , list = steps.shift() || []</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">    , cb_ = steps.pop()</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">  if (typeof cb_ !== &quot;function&quot;) throw new Error(</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    &quot;No callback provided to asyncMap&quot;)</td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">  if (!list) return cb_(null, [])</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">  if (!Array.isArray(list)) list = [list]</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">  var n = steps.length</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">    , data = [] // 2d array</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">    , errState = null</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">    , l = list.length</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">    , a = l * n</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">  if (!a) return cb_(null, [])</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">  function cb (er) {</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">    if (errState) return</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">    var argLen = arguments.length</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">    for (var i = 1; i &lt; argLen; i ++) if (arguments[i] !== undefined) {</td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">      data[i - 1] = (data[i - 1] || []).concat(arguments[i])</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">    // see if any new things have been added.</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">    if (list.length &gt; l) {</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">      var newList = list.slice(l)</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">      a += (list.length - l) * n</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">      l = list.length</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">      process.nextTick(function () {</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">        newList.forEach(function (ar) {</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">          steps.forEach(function (fn) { fn(ar, cb) })</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">        })</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">      })</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">    if (er || --a === 0) {</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">      errState = er</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">      cb_.apply(null, [errState].concat(data))</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">  // expect the supplied cb function to be called</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">  // &quot;n&quot; times for each thing in the array.</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">  list.forEach(function (ar) {</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">    steps.forEach(function (fn) { fn(ar, cb) })</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  })</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/bind-actor.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/bind-actor.js</h2>
          <div class="stats high">
            <div class="percentage">18.2%</div>
            <div class="sloc">11</div>
            <div class="hits">2</div>
            <div class="misses">9</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = bindActor</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">function bindActor () {</td></tr><tr class="miss"><td class="line">3</td><td class="hits">0</td><td class="source">  var args = </td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">        Array.prototype.slice.call</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">        (arguments) // jswtf.</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    , obj = null</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    , fn</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">  if (typeof args[0] === &quot;object&quot;) {</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">    obj = args.shift()</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">    fn = args.shift()</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">    if (typeof fn === &quot;string&quot;)</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">      fn = obj[ fn ]</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">  } else fn = args.shift()</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">  return function (cb) {</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">    fn.apply(obj, args.concat(cb)) }</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/chain.js">c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/chain.js</h2>
          <div class="stats high">
            <div class="percentage">26.7%</div>
            <div class="sloc">15</div>
            <div class="hits">4</div>
            <div class="misses">11</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = chain</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var bindActor = require(&quot;c:/noboxout/js-object-enhancements/node_modules/tap/node_modules/slide/lib/./bind-actor.js&quot;)</td></tr><tr class="hit"><td class="line">3</td><td class="hits">2</td><td class="source">chain.first = {} ; chain.last = {}</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">function chain (things, cb) {</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">  var res = []</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">  ;(function LOOP (i, len) {</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">    if (i &gt;= len) return cb(null,res)</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">    if (Array.isArray(things[i]))</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">      things[i] = bindActor.apply(null,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">        things[i].map(function(i){</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">          return (i===chain.first) ? res[0]</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">           : (i===chain.last)</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">             ? res[res.length - 1] : i }))</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">    if (!things[i]) return LOOP(i + 1, len)</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">    things[i](function (er, data) {</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">      if (er) return cb(er, res)</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">      if (data !== undefined) res = res.concat(data)</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">      LOOP(i + 1, len)</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    })</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  })(0, things.length) }</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-cov-html.js">c:/noboxout/js-object-enhancements/node_modules/tap/lib/tap-cov-html.js</h2>
          <div class="stats high">
            <div class="percentage">9.5%</div>
            <div class="sloc">21</div>
            <div class="hits">2</div>
            <div class="misses">19</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var fs = require(&apos;fs&apos;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    path = require(&apos;path&apos;),</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    asyncMap = require(&quot;slide&quot;).asyncMap,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    util = require(&apos;util&apos;);</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">var CovHtml = module.exports = function(cov_stats, cov_dir, cb) {</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">  var index = [];</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">  asyncMap(</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    Object.keys(cov_stats),</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    function(f, cb) {</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">      var st = cov_stats[f],</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">          missing_lines = st.missing.map(function(l) {</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">            return l.number;</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">          }),</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">          out = &apos;&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &apos; +</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">                &apos;&lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;title&gt;&apos; +</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">      f + &apos; (&apos; + st.loc + &apos;)&lt;/title&gt;\n&apos; +</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">      &apos;&lt;style type=&quot;text/css&quot;&gt;\n&apos; + </td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">      &apos;li {\n&apos; +</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">      &apos;  font-family: monospace;\n&apos; +</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">      &apos;  white-space: pre;\n&apos; +</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">      &apos;}\n&apos; +</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">      &apos;&lt;/style&gt;\n&apos; +</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">      &apos;&lt;/head&gt;\n&lt;body&gt;\n&apos; +</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">      &apos;&lt;h1&gt;&apos; + f + &apos; (&apos; + st.loc + &apos;)&apos; + &apos;&lt;/h1&gt;&apos; +</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">      &apos;&lt;h2&gt;Run: &apos; + (st.missing.length ? st.loc - st.missing.length : st.loc) + &apos;, Missing: &apos; +</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">      st.missing.length + &apos;, Percentage: &apos; + st.percentage + &apos;&lt;/h2&gt;&apos; +</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">      &apos;&lt;h2&gt;Source:&lt;/h2&gt;\n&apos; +</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">      &apos;&lt;ol&gt;\n&apos; + </td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">      st.lines.map(function(line) {</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">        var number = line.number,</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">            color = (missing_lines.indexOf(number) !== -1) ? &apos;#fcc&apos; : &apos;#cfc&apos;;</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">        return &apos;&lt;li id=&quot;L&apos; + line.number + &apos;&quot; style=&quot;background-color: &apos; + color +</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">               &apos;;&quot;&gt;&apos; + line.source.replace(/&lt;/g, &quot;&amp;lt;&quot;) + &apos;&lt;/li&gt;&apos;;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">      }).join(&apos;\n&apos;) + </td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">      &apos;&lt;/ol&gt;\n&apos; +</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">      &apos;&lt;h2&gt;Data&lt;/h2&gt;\n&apos;+</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">      &apos;&lt;pre&gt;&apos; + util.inspect(st, true, Infinity, false).replace(/&lt;/g, &quot;&amp;lt;&quot;) + &apos;&lt;/pre&gt;&lt;/body&gt;\n&lt;/html&gt;&apos;;</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">      fs.writeFile(</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">        cov_dir + &apos;/&apos; + </td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">        f.replace(process.cwd() + &apos;/&apos;, &apos;&apos;).replace(/\//g, &apos;+&apos;) + &apos;.html&apos;,</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">        out,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">        &apos;utf8&apos;,</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">        function(err) {</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">          if (err) {</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">            throw err;</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">          index.push(f);</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">          cb();</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">        });</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">    },</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    function(err) {</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">      if (err) {</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">        throw err;</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">      var out = &apos;&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &apos; +</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">          &apos;&lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;title&gt;Coverage Index&lt;/title&gt;\n&lt;/head&gt;\n&apos; +</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">          &apos;&lt;body&gt;\n&lt;h1&gt;Code Coverage Information&lt;/h1&gt;\n&lt;ul&gt;&apos; +</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">          index.map(function(fname) {</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">            return &apos;&lt;li&gt;&lt;a href=&quot;&apos; +</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">            fname.replace(process.cwd() + &apos;/&apos;, &apos;&apos;).replace(/\//g, &apos;+&apos;) + &apos;.html&apos; +</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">            &apos;&quot;&gt;&apos; + fname + &apos;&lt;/a&gt;&lt;/li&gt;&apos;;</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">          }).join(&apos;\n&apos;) + &apos;&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;&apos;;</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">      fs.writeFile(cov_dir + &apos;/index.html&apos;, out, &apos;utf8&apos;, function(err) {</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">        if (err) {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">          throw err;</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">        cb();</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">      });   </td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">  );</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/lib/serialize.js">c:/noboxout/js-object-enhancements/node_modules/ass/lib/serialize.js</h2>
          <div class="stats high">
            <div class="percentage">90.0%</div>
            <div class="sloc">10</div>
            <div class="hits">9</div>
            <div class="misses">1</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// extract coverage data from the _$jscoverage global, and serialize it into</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">// a simple json format.</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = function() {</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">  var jscoverage = global._$jscoverage;</td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">  var a = [];</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">  if (jscoverage) {</td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">    Object.keys(jscoverage).forEach(function(file) {</td></tr><tr class="hit"><td class="line">9</td><td class="hits">26</td><td class="source">      var o = {</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">        file: file,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">        source: jscoverage[file].source,</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">        hits: [ ]</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">      }</td></tr><tr class="hit"><td class="line">14</td><td class="hits">26</td><td class="source">      for (var i = 0; i &lt; o.source.length; i++) {</td></tr><tr class="hit"><td class="line">15</td><td class="hits">3905</td><td class="source">        o.hits.push(jscoverage[file][i]);</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">      }</td></tr><tr class="hit"><td class="line">17</td><td class="hits">25</td><td class="source">      a.push(o);</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">  return JSON.stringify(a, null, &quot;  &quot;);</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/lib/reporters/html.js">c:/noboxout/js-object-enhancements/node_modules/ass/lib/reporters/html.js</h2>
          <div class="stats high">
            <div class="percentage">87.2%</div>
            <div class="sloc">39</div>
            <div class="hits">34</div>
            <div class="misses">5</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var cheerio = require(&apos;cheerio&apos;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    fs = require(&apos;fs&apos;),</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    path = require(&apos;path&apos;);</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">// our html reporter</td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">module.exports = function(data) {</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  // let&apos;s write a looong function.</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  // parse html for our template</td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">  var $ = cheerio.load(fs.readFileSync(path.join(__dirname, &apos;..&apos;, &apos;..&apos;, &apos;resources&apos;, &apos;coverage-template.html&apos;)));</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">  // for each file, we&apos;ll make a files entry, and we&apos;ll collect cumulative</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">  // stats as we go</td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">  var gHits = 0, gMisses = 0;</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">  Object.keys(data).forEach(function(fileName) {</td></tr><tr class="hit"><td class="line">17</td><td class="hits">27</td><td class="source">    var f = $(&apos;#files .file.template&apos;).clone();</td></tr><tr class="hit"><td class="line">18</td><td class="hits">27</td><td class="source">    f.removeClass(&apos;template&apos;);</td></tr><tr class="hit"><td class="line">19</td><td class="hits">27</td><td class="source">    f.find(&apos;h2&apos;).attr(&apos;id&apos;, fileName).text(fileName);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">21</td><td class="hits">27</td><td class="source">    var hits = 0,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">      misses = 0;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">24</td><td class="hits">27</td><td class="source">    var srcTemplate = f.find(&apos;tr.template&apos;);</td></tr><tr class="hit"><td class="line">25</td><td class="hits">27</td><td class="source">    for (var i = 1; i &lt;= data[fileName].source.length; i++) {</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">      // and add the source line</td></tr><tr class="hit"><td class="line">27</td><td class="hits">3939</td><td class="source">      var s = srcTemplate.clone().removeClass(&apos;template&apos;);</td></tr><tr class="hit"><td class="line">28</td><td class="hits">3940</td><td class="source">      s.find(&apos;.line&apos;).text(i);</td></tr><tr class="hit"><td class="line">29</td><td class="hits">3941</td><td class="source">      s.find(&apos;.hits&apos;).text(data[fileName][i]);</td></tr><tr class="hit"><td class="line">30</td><td class="hits">3941</td><td class="source">      s.find(&apos;.source&apos;).text(data[fileName].source[i - 1]);</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">32</td><td class="hits">3943</td><td class="source">      if (data[fileName][i]) {</td></tr><tr class="hit"><td class="line">33</td><td class="hits">666</td><td class="source">        s.addClass(&apos;hit&apos;);</td></tr><tr class="hit"><td class="line">34</td><td class="hits">667</td><td class="source">        hits++;</td></tr><tr class="hit"><td class="line">35</td><td class="hits">3278</td><td class="source">      } else if (data[fileName][i] !== undefined) {</td></tr><tr class="hit"><td class="line">36</td><td class="hits">1306</td><td class="source">        s.addClass(&apos;miss&apos;);</td></tr><tr class="hit"><td class="line">37</td><td class="hits">1306</td><td class="source">        misses++;</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">40</td><td class="hits">3951</td><td class="source">      f.find(&apos;#source tbody&apos;).append(s);</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">43</td><td class="hits">26</td><td class="source">    var pct = (100.0 * hits / (hits + misses));</td></tr><tr class="hit"><td class="line">44</td><td class="hits">26</td><td class="source">    f.find(&apos;.stats .percentage&apos;).text(pct.toFixed(1) + &apos;%&apos;);</td></tr><tr class="hit"><td class="line">45</td><td class="hits">26</td><td class="source">    f.find(&apos;.stats .sloc&apos;).text(hits + misses);</td></tr><tr class="hit"><td class="line">46</td><td class="hits">26</td><td class="source">    f.find(&apos;.stats .hits&apos;).text(hits);</td></tr><tr class="hit"><td class="line">47</td><td class="hits">26</td><td class="source">    f.find(&apos;.stats .misses&apos;).text(misses);</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">49</td><td class="hits">26</td><td class="source">    $(&apos;#files&apos;).append(f);</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">    // and an entry in the menu</td></tr><tr class="hit"><td class="line">52</td><td class="hits">26</td><td class="source">    var m = $(&apos;#menu li.template&apos;).clone().removeClass(&apos;template&apos;);</td></tr><tr class="hit"><td class="line">53</td><td class="hits">26</td><td class="source">    m.find(&apos;a&apos;).attr(&apos;href&apos;, &apos;#&apos; + fileName).text(fileName);</td></tr><tr class="hit"><td class="line">54</td><td class="hits">26</td><td class="source">    m.find(&apos;.cov&apos;).text(pct.toFixed(0) + &apos;%&apos;);</td></tr><tr class="hit"><td class="line">55</td><td class="hits">26</td><td class="source">    $(&apos;#menu&apos;).append(m);</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">    // update global stats</td></tr><tr class="hit"><td class="line">58</td><td class="hits">26</td><td class="source">    gHits += hits;</td></tr><tr class="hit"><td class="line">59</td><td class="hits">26</td><td class="source">    gMisses += misses;</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">  // global stats</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">  $(&apos;#stats .percentage&apos;).text((100.0 * gHits / (gHits + gMisses)).toFixed(1) + &apos;%&apos;);</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">  $(&apos;#stats .sloc&apos;).text(gHits + gMisses);</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">  $(&apos;#stats .hits&apos;).text(gHits);</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">  $(&apos;#stats .misses&apos;).text(gMisses);</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">  return $.html();</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">2</div>
            <div class="hits">2</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"> * Export cheerio (with )</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">exports = module.exports = process.env.CHEERIO_COV</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">  ? require(&apos;./lib-cov/cheerio&apos;)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  : require(&apos;./lib/cheerio&apos;);</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">  Export the version</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">exports.version = require(&apos;./package&apos;).version;</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/cheerio.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/cheerio.js</h2>
          <div class="stats high">
            <div class="percentage">83.3%</div>
            <div class="sloc">42</div>
            <div class="hits">35</div>
            <div class="misses">7</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">  Module dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var path = require(&apos;path&apos;),</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    select = require(&apos;cheerio-select&apos;),</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    parse = require(&apos;./parse&apos;),</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    evaluate = parse.evaluate,</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    updateDOM = parse.update,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    _ = require(&apos;underscore&apos;);</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"> * The API</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">var api = [&apos;attributes&apos;, &apos;traversing&apos;, &apos;manipulation&apos;, &apos;css&apos;];</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"> * A simple way to check for HTML strings or ID strings</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">var quickExpr = /^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"> * Static Methods</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">1</td><td class="source">var $ = require(&apos;./static&apos;);</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"> * Instance of cheerio</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">1</td><td class="source">var Cheerio = module.exports = function(selector, context, root) {</td></tr><tr class="hit"><td class="line">35</td><td class="hits">63706</td><td class="source">  if (!(this instanceof Cheerio)) return new Cheerio(selector, context, root);</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">  // $(), $(null), $(undefined), $(false)</td></tr><tr class="hit"><td class="line">38</td><td class="hits">123298</td><td class="source">  if (!selector) return this;</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">40</td><td class="hits">4206</td><td class="source">  if (root) {</td></tr><tr class="hit"><td class="line">41</td><td class="hits">113</td><td class="source">    if (typeof root === &apos;string&apos;) root = parse(root);</td></tr><tr class="hit"><td class="line">42</td><td class="hits">113</td><td class="source">    this._root = this.make(root, this);</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">  // $($)</td></tr><tr class="hit"><td class="line">46</td><td class="hits">4212</td><td class="source">  if (selector.cheerio) return selector;</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">  // $(dom)</td></tr><tr class="hit"><td class="line">49</td><td class="hits">4215</td><td class="source">  if (selector.name || Array.isArray(selector))</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">    return this.make(selector, this);</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">  // $(&lt;html&gt;)</td></tr><tr class="hit"><td class="line">53</td><td class="hits">4219</td><td class="source">  if (typeof selector === &apos;string&apos; &amp;&amp; isHtml(selector)) {</td></tr><tr class="hit"><td class="line">54</td><td class="hits">4107</td><td class="source">    return this.make(parse(selector).children);</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">  // If we don&apos;t have a context, maybe we have a root, from loading</td></tr><tr class="hit"><td class="line">58</td><td class="hits">113</td><td class="source">  if (!context) {</td></tr><tr class="hit"><td class="line">59</td><td class="hits">113</td><td class="source">    context = this._root;</td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">  } else if (typeof context === &apos;string&apos;) {</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">    if (isHtml(context)) {</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">      // $(&apos;li&apos;, &apos;&lt;ul&gt;...&lt;/ul&gt;&apos;)</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">      context = parse(context);</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">      context = this.make(context, this);</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">      // $(&apos;li&apos;, &apos;ul&apos;)</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">      selector = [context, selector].join(&apos; &apos;);</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">      context = this._root;</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">  // If we still don&apos;t have a context, return</td></tr><tr class="hit"><td class="line">73</td><td class="hits">113</td><td class="source">  if (!context) return this;</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">  // #id, .class, tag</td></tr><tr class="hit"><td class="line">76</td><td class="hits">113</td><td class="source">  return context.find(selector);</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"> * Inherit from `static`</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">83</td><td class="hits">1</td><td class="source">Cheerio.__proto__ = require(&apos;./static&apos;);</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source"> * Set a signature of the object</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">89</td><td class="hits">1</td><td class="source">Cheerio.prototype.cheerio = &apos;[cheerio object]&apos;;</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source"> * Cheerio default options</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">95</td><td class="hits">1</td><td class="source">Cheerio.prototype.options = {</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">  ignoreWhitespace: false,</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">  xmlMode: false,</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source">  lowerCaseTags: false</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source"> * Make cheerio an array-like object</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">105</td><td class="hits">1</td><td class="source">Cheerio.prototype.length = 0;</td></tr><tr class="hit"><td class="line">106</td><td class="hits">1</td><td class="source">Cheerio.prototype.sort = [].splice;</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"> * Check if string is HTML</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">111</td><td class="hits">1</td><td class="source">var isHtml = function(str) {</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">  // Faster than running regex, if str starts with `&lt;` and ends with `&gt;`, assume it&apos;s HTML</td></tr><tr class="hit"><td class="line">113</td><td class="hits">8445</td><td class="source">  if (str.charAt(0) === &apos;&lt;&apos; &amp;&amp; str.charAt(str.length - 1) === &apos;&gt;&apos; &amp;&amp; str.length &gt;= 3) return true;</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">  // Run the regex</td></tr><tr class="hit"><td class="line">116</td><td class="hits">113</td><td class="source">  var match = quickExpr.exec(str);</td></tr><tr class="hit"><td class="line">117</td><td class="hits">113</td><td class="source">  return !!(match &amp;&amp; match[1]);</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source"> * Make a cheerio object</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">124</td><td class="hits">1</td><td class="source">Cheerio.prototype.make = function(dom, context) {</td></tr><tr class="hit"><td class="line">125</td><td class="hits">60878</td><td class="source">  if (dom.cheerio) return dom;</td></tr><tr class="hit"><td class="line">126</td><td class="hits">60894</td><td class="source">  dom = (Array.isArray(dom)) ? dom : [dom];</td></tr><tr class="hit"><td class="line">127</td><td class="hits">60910</td><td class="source">  return _.extend(context || new Cheerio(), dom, { length: dom.length });</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"> * Turn a cheerio object into an array</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">134</td><td class="hits">1</td><td class="source">Cheerio.prototype.toArray = function() {</td></tr><tr class="hit"><td class="line">135</td><td class="hits">4186</td><td class="source">  return [].slice.call(this, 0);</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source"> * Plug in the API</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">141</td><td class="hits">1</td><td class="source">api.forEach(function(mod) {</td></tr><tr class="hit"><td class="line">142</td><td class="hits">4</td><td class="source">  _.extend(Cheerio.prototype, require(&apos;./api/&apos; + mod));</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">4</div>
            <div class="hits">4</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">exports = module.exports = require(&apos;./lib/select&apos;);</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">  Export the version</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">exports.version = (function() {</td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">  var pkg = require(&apos;fs&apos;).readFileSync(__dirname + &apos;/package.json&apos;, &apos;utf8&apos;);</td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">  return JSON.parse(pkg).version;</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">})();</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/lib/select.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/lib/select.js</h2>
          <div class="stats high">
            <div class="percentage">92.9%</div>
            <div class="sloc">14</div>
            <div class="hits">13</div>
            <div class="misses">1</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"> * Module dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var CSSselect = require(&apos;CSSselect&apos;),</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">    isArray = Array.isArray;</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"> * Select function</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">exports = module.exports = function(query, dom) {</td></tr><tr class="hit"><td class="line">11</td><td class="hits">17005</td><td class="source">  dom = normalize(dom);</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">13</td><td class="hits">17013</td><td class="source">  return CSSselect.iterate(query, dom);</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"> * Normalize the dom</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">19</td><td class="hits">1</td><td class="source">var normalize = exports.normalize = function(dom) {</td></tr><tr class="hit"><td class="line">20</td><td class="hits">17041</td><td class="source">  dom = dom.cheerio ? dom.toArray() : dom;</td></tr><tr class="hit"><td class="line">21</td><td class="hits">17045</td><td class="source">  dom = isArray(dom) ? dom : [dom];</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">23</td><td class="hits">17053</td><td class="source">  var len = dom.length,</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">      out = [],</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">      elem;</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">27</td><td class="hits">17069</td><td class="source">  for(var i = 0; i &lt; len; i++) {</td></tr><tr class="hit"><td class="line">28</td><td class="hits">50917</td><td class="source">    elem = dom[i];</td></tr><tr class="hit"><td class="line">29</td><td class="hits">50929</td><td class="source">    if(elem.type === &apos;root&apos;) {</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">      out = out.concat(elem.children || []);</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="hit"><td class="line">32</td><td class="hits">50965</td><td class="source">      out.push(elem);</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">36</td><td class="hits">17105</td><td class="source">  return out;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">};</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/index.js</h2>
          <div class="stats high">
            <div class="percentage">88.0%</div>
            <div class="sloc">25</div>
            <div class="hits">22</div>
            <div class="misses">3</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">&quot;use strict&quot;;</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = CSSselect;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var Pseudos       = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/./lib/pseudos.js&quot;),</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    DomUtils      = require(&quot;domutils&quot;),</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    findOne       = DomUtils.findOne,</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    findAll       = DomUtils.findAll,</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    getChildren   = DomUtils.getChildren,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    removeSubsets = DomUtils.removeSubsets,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    falseFunc     = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/./lib/basefunctions.js&quot;).falseFunc,</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    compile       = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/./lib/compile.js&quot;);</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">function getSelectorFunc(searchFunc){</td></tr><tr class="hit"><td class="line">15</td><td class="hits">2</td><td class="source">	return function select(query, elems, options){</td></tr><tr class="hit"><td class="line">16</td><td class="hits">34370</td><td class="source">		if(typeof query !== &quot;function&quot;) query = compile(query, options);</td></tr><tr class="hit"><td class="line">17</td><td class="hits">17189</td><td class="source">		if(!Array.isArray(elems)) elems = getChildren(elems);</td></tr><tr class="hit"><td class="line">18</td><td class="hits">17193</td><td class="source">		else elems = removeSubsets(elems);</td></tr><tr class="hit"><td class="line">19</td><td class="hits">17197</td><td class="source">		return searchFunc(query, elems);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">23</td><td class="hits">1</td><td class="source">var selectAll = getSelectorFunc(function selectAll(query, elems){</td></tr><tr class="hit"><td class="line">24</td><td class="hits">17217</td><td class="source">	return (query === falseFunc || !elems || elems.length === 0) ? [] : findAll(query, elems);</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">27</td><td class="hits">1</td><td class="source">var selectOne = getSelectorFunc(function selectOne(query, elems){</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">	return (query === falseFunc || !elems || elems.length === 0) ? null : findOne(query, elems);</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">31</td><td class="hits">1</td><td class="source">function is(elem, query, options){</td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">	return (typeof query === &quot;function&quot; ? query : compile(query, options))(elem);</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">	the exported interface</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">38</td><td class="hits">1</td><td class="source">function CSSselect(query, elems, options){</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">	return selectAll(query, elems, options);</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">42</td><td class="hits">1</td><td class="source">CSSselect.compile = compile;</td></tr><tr class="hit"><td class="line">43</td><td class="hits">1</td><td class="source">CSSselect.filters = Pseudos.filters;</td></tr><tr class="hit"><td class="line">44</td><td class="hits">1</td><td class="source">CSSselect.pseudos = Pseudos.pseudos;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">1</td><td class="source">CSSselect.selectAll = selectAll;</td></tr><tr class="hit"><td class="line">47</td><td class="hits">1</td><td class="source">CSSselect.selectOne = selectOne;</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">49</td><td class="hits">1</td><td class="source">CSSselect.is = is;</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">//legacy methods (might be removed)</td></tr><tr class="hit"><td class="line">52</td><td class="hits">1</td><td class="source">CSSselect.parse = compile;</td></tr><tr class="hit"><td class="line">53</td><td class="hits">1</td><td class="source">CSSselect.iterate = selectAll;</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/pseudos.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/pseudos.js</h2>
          <div class="stats high">
            <div class="percentage">7.4%</div>
            <div class="sloc">136</div>
            <div class="hits">10</div>
            <div class="misses">126</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">	pseudo selectors</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">	</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	---</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	they are available in two forms:</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	* filters called when the selector </td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	  is compiled and return a function</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">	  that needs to return next()</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">	* pseudos get called on execution</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	  they need to return a boolean</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">var DomUtils    = require(&quot;domutils&quot;),</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">    isTag       = DomUtils.isTag,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">    getText     = DomUtils.getText,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">    getParent   = DomUtils.getParent,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">    getChildren = DomUtils.getChildren,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    getSiblings = DomUtils.getSiblings,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">    hasAttrib   = DomUtils.hasAttrib,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">    getName     = DomUtils.getName,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">    getAttribute= DomUtils.getAttributeValue,</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">    getNCheck   = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./nth-check.js&quot;),</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">    checkAttrib = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./attributes.js&quot;).rules.equals,</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">    BaseFuncs   = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./basefunctions.js&quot;),</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">    trueFunc    = BaseFuncs.trueFunc,</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">    falseFunc   = BaseFuncs.falseFunc;</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">//helper methods</td></tr><tr class="hit"><td class="line">30</td><td class="hits">1</td><td class="source">function getFirstElement(elems){</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">	for(var i = 0; elems &amp;&amp; i &lt; elems.length; i++){</td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">		if(isTag(elems[i])) return elems[i];</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">36</td><td class="hits">1</td><td class="source">function getAttribFunc(name, value){</td></tr><tr class="hit"><td class="line">37</td><td class="hits">7</td><td class="source">	var data = {name: name, value: value};</td></tr><tr class="hit"><td class="line">38</td><td class="hits">7</td><td class="source">	return function attribFunc(next){</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">		return checkAttrib(next, data);</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">43</td><td class="hits">1</td><td class="source">function getChildFunc(next){</td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">	return function(elem){</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">		return !!getParent(elem) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">49</td><td class="hits">1</td><td class="source">var filters = {</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">	contains: function(next, text){</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">		if(</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">			(text.charAt(0) === &quot;\&quot;&quot; || text.charAt(0) === &quot;&apos;&quot;) &amp;&amp;</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">			text.charAt(0) === text.substr(-1)</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">		){</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">			text = text.slice(1, -1);</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">		return function contains(elem){</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">			return getText(elem).indexOf(text) &gt;= 0 &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">	//location specific methods</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">	//first- and last-child methods return as soon as they find another element</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">	&quot;first-child&quot;: function(next){</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">		return function firstChild(elem){</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">			return getFirstElement(getSiblings(elem)) === elem &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">	&quot;last-child&quot;: function(next){</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">		return function lastChild(elem){</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">			for(var i = siblings.length - 1; i &gt;= 0; i--){</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">				if(siblings[i] === elem) return next(elem);</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])) break;</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">			return false;</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">	&quot;first-of-type&quot;: function(next){</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">		return function firstOfType(elem){</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">			for(var i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) return next(elem);</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">					if(getName(siblings[i]) === getName(elem)) break;</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">			return false;</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source">	&quot;last-of-type&quot;: function(next){</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">		return function lastOfType(elem){</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">			for(var i = siblings.length-1; i &gt;= 0; i--){</td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) return next(elem);</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">					if(getName(siblings[i]) === getName(elem)) break;</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">			return false;</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">	&quot;only-of-type&quot;: function(next){</td></tr><tr class="miss"><td class="line">110</td><td class="hits">0</td><td class="source">		return function onlyOfType(elem){</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">			for(var i = 0, j = siblings.length; i &lt; j; i++){</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) continue;</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">					if(getName(siblings[i]) === getName(elem)) return false;</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">			return next(elem);</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">	&quot;only-child&quot;: function(next){</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">		return function onlyChild(elem){</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">127</td><td class="hits">0</td><td class="source">			for(var i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i]) &amp;&amp; siblings[i] !== elem) return false;</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">			return next(elem);</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">	&quot;nth-child&quot;: function(next, rule){</td></tr><tr class="miss"><td class="line">135</td><td class="hits">0</td><td class="source">		var func = getNCheck(rule);</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">		if(func === falseFunc) return func;</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">		if(func === trueFunc)  return getChildFunc(next);</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">		return function nthChild(elem){</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">			for(var i = 0, pos = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">					else pos++;</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">			return func(pos) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source">	&quot;nth-last-child&quot;: function(next, rule){</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">		var func = getNCheck(rule);</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">		if(func === falseFunc) return func;</td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">		if(func === trueFunc)  return getChildFunc(next);</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">		return function nthLastChild(elem){</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">			for(var pos = 0, i = siblings.length - 1; i &gt;= 0; i--){</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">164</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">					else pos++;</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">			return func(pos) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">172</td><td class="hits"></td><td class="source">	&quot;nth-of-type&quot;: function(next, rule){</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">		var func = getNCheck(rule);</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">		if(func === falseFunc) return func;</td></tr><tr class="miss"><td class="line">176</td><td class="hits">0</td><td class="source">		if(func === trueFunc)  return getChildFunc(next);</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">178</td><td class="hits">0</td><td class="source">		return function nthOfType(elem){</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">181</td><td class="hits">0</td><td class="source">			for(var pos = 0, i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">184</td><td class="hits">0</td><td class="source">					if(getName(siblings[i]) === getName(elem)) pos++;</td></tr><tr class=""><td class="line">185</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">188</td><td class="hits">0</td><td class="source">			return func(pos) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">	&quot;nth-last-of-type&quot;: function(next, rule){</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">		var func = getNCheck(rule);</td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">		if(func === falseFunc) return func;</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">		if(func === trueFunc)  return getChildFunc(next);</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">		return function nthLastOfType(elem){</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">			for(var pos = 0, i = siblings.length - 1; i &gt;= 0; i--){</td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">				if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">				if(getName(siblings[i]) === getName(elem)) pos++;</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">205</td><td class="hits">0</td><td class="source">			return func(pos) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">208</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">	//jQuery extensions (others follow as pseudos)</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source">	checkbox: getAttribFunc(&quot;type&quot;, &quot;checkbox&quot;),</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">	file: getAttribFunc(&quot;type&quot;, &quot;file&quot;),</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">	password: getAttribFunc(&quot;type&quot;, &quot;password&quot;),</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source">	radio: getAttribFunc(&quot;type&quot;, &quot;radio&quot;),</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">	reset: getAttribFunc(&quot;type&quot;, &quot;reset&quot;),</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">	image: getAttribFunc(&quot;type&quot;, &quot;image&quot;),</td></tr><tr class=""><td class="line">216</td><td class="hits"></td><td class="source">	submit: getAttribFunc(&quot;type&quot;, &quot;submit&quot;)</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source">//while filters are precompiled, pseudos get called when they are needed</td></tr><tr class="hit"><td class="line">220</td><td class="hits">1</td><td class="source">var pseudos = {</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">	root: function(elem){</td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">		return !getParent(elem);</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">	empty: function(elem){</td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">		return !getChildren(elem).some(function(elem){</td></tr><tr class="miss"><td class="line">226</td><td class="hits">0</td><td class="source">			return isTag(elem) || elem.type === &quot;text&quot;;</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source">		});</td></tr><tr class=""><td class="line">228</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source">	//forms</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">	//to consider: :target, :enabled</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">	selected: function(elem){</td></tr><tr class="miss"><td class="line">233</td><td class="hits">0</td><td class="source">		if(hasAttrib(elem, &quot;selected&quot;)) return true;</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">		else if(getName(elem) !== &quot;option&quot;) return false;</td></tr><tr class=""><td class="line">235</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source">		//the first &lt;option&gt; in a &lt;select&gt; is also selected</td></tr><tr class="miss"><td class="line">237</td><td class="hits">0</td><td class="source">		var parent = getParent(elem);</td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">		if(!parent || getName(parent) !== &quot;select&quot;) return false;</td></tr><tr class=""><td class="line">240</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">241</td><td class="hits">0</td><td class="source">		var siblings = getChildren(parent),</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">			sawElem  = false;</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">244</td><td class="hits">0</td><td class="source">		for(var i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">245</td><td class="hits">0</td><td class="source">			if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">				if(siblings[i] === elem){</td></tr><tr class="miss"><td class="line">247</td><td class="hits">0</td><td class="source">					sawElem = true;</td></tr><tr class="miss"><td class="line">248</td><td class="hits">0</td><td class="source">				} else if(!sawElem){</td></tr><tr class="miss"><td class="line">249</td><td class="hits">0</td><td class="source">					return false;</td></tr><tr class="miss"><td class="line">250</td><td class="hits">0</td><td class="source">				} else if(hasAttrib(siblings[i], &quot;selected&quot;)){</td></tr><tr class="miss"><td class="line">251</td><td class="hits">0</td><td class="source">					return false;</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">256</td><td class="hits">0</td><td class="source">		return sawElem;</td></tr><tr class=""><td class="line">257</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source">	disabled: function(elem){</td></tr><tr class="miss"><td class="line">259</td><td class="hits">0</td><td class="source">		return hasAttrib(elem, &quot;disabled&quot;);</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">261</td><td class="hits"></td><td class="source">	enabled: function(elem){</td></tr><tr class="miss"><td class="line">262</td><td class="hits">0</td><td class="source">		return !hasAttrib(elem, &quot;disabled&quot;);</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source">	checked: function(elem){</td></tr><tr class="miss"><td class="line">265</td><td class="hits">0</td><td class="source">		return hasAttrib(elem, &quot;checked&quot;) || pseudos.selected(elem);</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">268</td><td class="hits"></td><td class="source">	//jQuery extensions</td></tr><tr class=""><td class="line">269</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">	//:parent is the inverse of :empty</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source">	parent: function(elem){</td></tr><tr class="miss"><td class="line">272</td><td class="hits">0</td><td class="source">		return !pseudos.empty(elem);</td></tr><tr class=""><td class="line">273</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source">	header: function(elem){</td></tr><tr class="miss"><td class="line">275</td><td class="hits">0</td><td class="source">		var name = getName(elem);</td></tr><tr class="miss"><td class="line">276</td><td class="hits">0</td><td class="source">		return name === &quot;h1&quot; ||</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">		       name === &quot;h2&quot; ||</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source">		       name === &quot;h3&quot; ||</td></tr><tr class=""><td class="line">279</td><td class="hits"></td><td class="source">		       name === &quot;h4&quot; ||</td></tr><tr class=""><td class="line">280</td><td class="hits"></td><td class="source">		       name === &quot;h5&quot; ||</td></tr><tr class=""><td class="line">281</td><td class="hits"></td><td class="source">		       name === &quot;h6&quot;;</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">283</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source">	button: function(elem){</td></tr><tr class="miss"><td class="line">285</td><td class="hits">0</td><td class="source">		var name = getName(elem);</td></tr><tr class="miss"><td class="line">286</td><td class="hits">0</td><td class="source">		return name === &quot;button&quot; ||</td></tr><tr class=""><td class="line">287</td><td class="hits"></td><td class="source">		       name === &quot;input&quot; &amp;&amp;</td></tr><tr class=""><td class="line">288</td><td class="hits"></td><td class="source">		       getAttribute(elem, &quot;type&quot;) === &quot;button&quot;;</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">290</td><td class="hits"></td><td class="source">	input: function(elem){</td></tr><tr class="miss"><td class="line">291</td><td class="hits">0</td><td class="source">		var name = getName(elem);</td></tr><tr class="miss"><td class="line">292</td><td class="hits">0</td><td class="source">		return name === &quot;input&quot; ||</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">		       name === &quot;textarea&quot; ||</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source">		       name === &quot;select&quot; ||</td></tr><tr class=""><td class="line">295</td><td class="hits"></td><td class="source">		       name === &quot;button&quot;;</td></tr><tr class=""><td class="line">296</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">297</td><td class="hits"></td><td class="source">	text: function(elem){</td></tr><tr class="miss"><td class="line">298</td><td class="hits">0</td><td class="source">		var attr;</td></tr><tr class="miss"><td class="line">299</td><td class="hits">0</td><td class="source">		return getName(elem) === &quot;input&quot; &amp;&amp; (</td></tr><tr class=""><td class="line">300</td><td class="hits"></td><td class="source">			!(attr = getAttribute(elem, &quot;type&quot;)) ||</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">			attr.toLowerCase() === &quot;text&quot;</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">		);</td></tr><tr class=""><td class="line">303</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">305</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">306</td><td class="hits">1</td><td class="source">function verifyArgs(func, name, subselect){</td></tr><tr class="miss"><td class="line">307</td><td class="hits">0</td><td class="source">	if(subselect === null){</td></tr><tr class="miss"><td class="line">308</td><td class="hits">0</td><td class="source">		if(func.length &gt; 1){</td></tr><tr class="miss"><td class="line">309</td><td class="hits">0</td><td class="source">			throw new SyntaxError(&quot;pseudo-selector :&quot; + name + &quot; requires an argument&quot;);</td></tr><tr class=""><td class="line">310</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">311</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">312</td><td class="hits">0</td><td class="source">		if(func.length === 1){</td></tr><tr class="miss"><td class="line">313</td><td class="hits">0</td><td class="source">			throw new SyntaxError(&quot;pseudo-selector :&quot; + name + &quot; doesn&apos;t have any arguments&quot;);</td></tr><tr class=""><td class="line">314</td><td class="hits"></td><td class="source">		}	</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">317</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">318</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">319</td><td class="hits"></td><td class="source">	compile: function(next, data){</td></tr><tr class="miss"><td class="line">320</td><td class="hits">0</td><td class="source">		var name = data.name,</td></tr><tr class=""><td class="line">321</td><td class="hits"></td><td class="source">			subselect = data.data;</td></tr><tr class=""><td class="line">322</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">323</td><td class="hits">0</td><td class="source">		if(typeof filters[name] === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">324</td><td class="hits">0</td><td class="source">			verifyArgs(filters[name], name,  subselect);</td></tr><tr class="miss"><td class="line">325</td><td class="hits">0</td><td class="source">			return filters[name](next, subselect);</td></tr><tr class="miss"><td class="line">326</td><td class="hits">0</td><td class="source">		} else if(typeof pseudos[name] === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">327</td><td class="hits">0</td><td class="source">			var func = pseudos[name];</td></tr><tr class="miss"><td class="line">328</td><td class="hits">0</td><td class="source">			verifyArgs(func, name, subselect);</td></tr><tr class="miss"><td class="line">329</td><td class="hits">0</td><td class="source">			return function pseudoArgs(elem){</td></tr><tr class="miss"><td class="line">330</td><td class="hits">0</td><td class="source">				return func(elem, subselect) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">333</td><td class="hits">0</td><td class="source">			throw new SyntaxError(&quot;unmatched pseudo-class :&quot; + name);</td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source">	filters: filters,</td></tr><tr class=""><td class="line">337</td><td class="hits"></td><td class="source">	pseudos: pseudos</td></tr><tr class=""><td class="line">338</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">339</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">5</div>
            <div class="hits">5</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var DomUtils = module.exports;</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">[</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	&quot;stringify&quot;, &quot;traversal&quot;, &quot;manipulation&quot;, &quot;querying&quot;, &quot;legacy&quot;, &quot;helpers&quot;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">].forEach(function(name){</td></tr><tr class="hit"><td class="line">6</td><td class="hits">6</td><td class="source">	var ext = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/./lib/&quot; + name);</td></tr><tr class="hit"><td class="line">7</td><td class="hits">6</td><td class="source">	Object.keys(ext).forEach(function(key){</td></tr><tr class="hit"><td class="line">8</td><td class="hits">26</td><td class="source">		DomUtils[key] = ext[key].bind(DomUtils);</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">	});</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/stringify.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/stringify.js</h2>
          <div class="stats high">
            <div class="percentage">23.3%</div>
            <div class="sloc">30</div>
            <div class="hits">7</div>
            <div class="misses">23</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var ElementType = require(&quot;domelementtype&quot;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    isTag = ElementType.isTag;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	getInnerHTML: getInnerHTML,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	getOuterHTML: getOuterHTML,</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	getText: getText</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">function getInnerHTML(elem){</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">	return elem.children ? elem.children.map(getOuterHTML).join(&quot;&quot;) : &quot;&quot;;</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">//boolean attributes without a value (taken from MatthewMueller/cheerio)</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">var booleanAttribs = {</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	async: true,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	autofocus: true,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">	autoplay: true,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	checked: true,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">	controls: true,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">	defer: true,</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	disabled: true,</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">	hidden: true,</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	loop: true,</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">	multiple: true,</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">	open: true,</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">	readonly: true,</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">	required: true,</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">	scoped: true,</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	selected: true</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">1</td><td class="source">var emptyTags = {</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">	area: true,</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	base: true,</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">	basefont: true,</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">	br: true,</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	col: true,</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	frame: true,</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">	hr: true,</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">	img: true,</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">	input: true,</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">	isindex: true,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">	link: true,</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	meta: true,</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">	param: true,</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">	embed: true</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">52</td><td class="hits">1</td><td class="source">function getOuterHTML(elem){</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">	switch(elem.type){</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">	case ElementType.Text:</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">		return elem.data;</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">	case ElementType.Comment:</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">		return &quot;&lt;!--&quot; + elem.data + &quot;--&gt;&quot;;</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">	case ElementType.Directive:</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">		return &quot;&lt;&quot; + elem.data + &quot;&gt;&quot;;</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">	case ElementType.CDATA:</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">		return &quot;&lt;!CDATA &quot; + getInnerHTML(elem) + &quot;]]&gt;&quot;;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">	var ret = &quot;&lt;&quot; + elem.name;</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">	if(&quot;attribs&quot; in elem){</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">		for(var attr in elem.attribs){</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">			if(elem.attribs.hasOwnProperty(attr)){</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">				ret += &quot; &quot; + attr;</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">				var value = elem.attribs[attr];</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">				if(value == null){</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">					if( !(attr in booleanAttribs) ){</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">						ret += &quot;=\&quot;\&quot;&quot;;</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">					}</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">				} else {</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">					ret += &quot;=\&quot;&quot; + value + &quot;\&quot;&quot;;</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">	if (elem.name in emptyTags &amp;&amp; elem.children.length === 0) {</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">		return ret + &quot; /&gt;&quot;;</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">		return ret + &quot;&gt;&quot; + getInnerHTML(elem) + &quot;&lt;/&quot; + elem.name + &quot;&gt;&quot;;</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">88</td><td class="hits">1</td><td class="source">function getText(elem){</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">	if(Array.isArray(elem)) return elem.map(getText).join(&quot;&quot;);</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">	if(isTag(elem) || elem.type === ElementType.CDATA) return getText(elem.children);</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">	if(elem.type === ElementType.Text) return elem.data;</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">	return &quot;&quot;;</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">}</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/node_modules/domelementtype/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/node_modules/domelementtype/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">2</div>
            <div class="hits">2</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">//Types of elements found in the DOM</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">	Text: &quot;text&quot;, //Text</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	Directive: &quot;directive&quot;, //&lt;? ... ?&gt;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	Comment: &quot;comment&quot;, //&lt;!-- ... --&gt;</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	Script: &quot;script&quot;, //&lt;script&gt; tags</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	Style: &quot;style&quot;, //&lt;style&gt; tags</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	Tag: &quot;tag&quot;, //Any tag</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">	CDATA: &quot;cdata&quot;, //&lt;![CDATA[ ... ]]&gt;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	isTag: function(elem){</td></tr><tr class="hit"><td class="line">12</td><td class="hits">7259060</td><td class="source">		return elem.type === &quot;tag&quot; || elem.type === &quot;script&quot; || elem.type === &quot;style&quot;;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">};</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/traversal.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/traversal.js</h2>
          <div class="stats high">
            <div class="percentage">76.9%</div>
            <div class="sloc">13</div>
            <div class="hits">10</div>
            <div class="misses">3</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var getChildren = exports.getChildren = function(elem){</td></tr><tr class="hit"><td class="line">2</td><td class="hits">7389197</td><td class="source">	return elem.children;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var getParent = exports.getParent = function(elem){</td></tr><tr class="hit"><td class="line">6</td><td class="hits">33324</td><td class="source">	return elem.parent;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">9</td><td class="hits">1</td><td class="source">exports.getSiblings = function(elem){</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">	var parent = getParent(elem);</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">	return parent ? getChildren(parent) : [elem];</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">exports.getAttributeValue = function(elem, name){</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1399356</td><td class="source">	return elem.attribs &amp;&amp; elem.attribs[name];</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">exports.hasAttrib = function(elem, name){</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">	return hasOwnProperty.call(elem.attribs, name);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">exports.getName = function(elem){</td></tr><tr class="hit"><td class="line">23</td><td class="hits">3146804</td><td class="source">	return elem.name;</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/manipulation.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/manipulation.js</h2>
          <div class="stats high">
            <div class="percentage">10.9%</div>
            <div class="sloc">46</div>
            <div class="hits">5</div>
            <div class="misses">41</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">exports.removeElement = function(elem){</td></tr><tr class="miss"><td class="line">2</td><td class="hits">0</td><td class="source">	if(elem.prev) elem.prev.next = elem.next;</td></tr><tr class="miss"><td class="line">3</td><td class="hits">0</td><td class="source">	if(elem.next) elem.next.prev = elem.prev;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">	if(elem.parent){</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">		var childs = elem.parent.children;</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">		childs.splice(childs.lastIndexOf(elem), 1);</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">exports.replaceElement = function(elem, replacement){</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">	var prev = replacement.prev = elem.prev;</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">	if(prev){</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">		prev.next = replacement;</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">	var next = replacement.next = elem.next;</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">	if(next){</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">		next.prev = replacement;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">	var parent = replacement.parent = elem.parent;</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">	if(parent){</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">		var childs = parent.children;</td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">		childs[childs.lastIndexOf(elem)] = replacement;</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">29</td><td class="hits">1</td><td class="source">exports.appendChild = function(elem, child){</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">	child.parent = elem;</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">	if(elem.children.push(child) !== 1){</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">		var sibling = elem.children[elem.children.length - 2];</td></tr><tr class="miss"><td class="line">34</td><td class="hits">0</td><td class="source">		sibling.next = child;</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">		child.prev = sibling;</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">		child.next = null;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">40</td><td class="hits">1</td><td class="source">exports.append = function(elem, next){</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">	var parent = elem.parent,</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">		currNext = elem.next;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">	next.next = currNext;</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">	next.prev = elem;</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">	elem.next = next;</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">	if(currNext){</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">		currNext.prev = next;</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">		if(parent){</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">			var childs = parent.children;</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">			childs.splice(childs.lastIndexOf(currNext), 0, next);</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">	} else if(parent){</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">		parent.children.push(next);</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">59</td><td class="hits">1</td><td class="source">exports.prepend = function(elem, prev){</td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">	var parent = elem.parent;</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">	if(parent){</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">		var childs = parent.children;</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">		childs.splice(childs.lastIndexOf(elem), 0, prev);</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">	if(elem.prev){</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">		elem.prev.next = prev;</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">	}</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">	prev.prev = elem.prev;</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">	prev.next = elem;</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">	elem.prev = prev;</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/querying.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/querying.js</h2>
          <div class="stats high">
            <div class="percentage">26.7%</div>
            <div class="sloc">45</div>
            <div class="hits">12</div>
            <div class="misses">33</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">exports.find = function(test, arr, recurse, limit){</td></tr><tr class="miss"><td class="line">2</td><td class="hits">0</td><td class="source">	var result = [], childs;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">4</td><td class="hits">0</td><td class="source">	for(var i = 0, j = arr.length; i &lt; j; i++){</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">		if(test(arr[i])){</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">			result.push(arr[i]);</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">			if(--limit &lt;= 0) break;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">		childs = this.getChildren(arr[i]);</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">		if(recurse &amp;&amp; childs &amp;&amp; childs.length &gt; 0){</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">			childs = this.find(test, childs, recurse, limit);</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">			result = result.concat(childs);</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">			limit -= childs.length;</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">			if(limit &lt;= 0) break;</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">	return result;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">22</td><td class="hits">1</td><td class="source">exports.findOneChild = function(test, arr){</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">	for(var i = 0, l = arr.length; i &lt; l; i++){</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">		if(test(arr[i])) return arr[i];</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">	return null;</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">30</td><td class="hits">1</td><td class="source">exports.findOne = function(test, arr){</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">	var elem = null;</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">	for(var i = 0, l = arr.length; i &lt; l &amp;&amp; !elem; i++){</td></tr><tr class="miss"><td class="line">34</td><td class="hits">0</td><td class="source">		if(test(arr[i])){</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">			elem = arr[i];</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">		} else if(arr[i].children &amp;&amp; arr[i].children.length &gt; 0){</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">			elem = this.findOne(test, arr[i].children);</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">	return elem;</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">44</td><td class="hits">1</td><td class="source">exports.findAll = function(test, elems){</td></tr><tr class="hit"><td class="line">45</td><td class="hits">4070110</td><td class="source">	var result = [];</td></tr><tr class="hit"><td class="line">46</td><td class="hits">4070285</td><td class="source">	for(var i = 0, j = elems.length; i &lt; j; i++){</td></tr><tr class="hit"><td class="line">47</td><td class="hits">7707592</td><td class="source">		if(test(elems[i])) result.push(elems[i]);</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">49</td><td class="hits">7688459</td><td class="source">		var childs = this.getChildren(elems[i]);</td></tr><tr class="hit"><td class="line">50</td><td class="hits">7688821</td><td class="source">		if(childs &amp;&amp; childs.length){</td></tr><tr class="hit"><td class="line">51</td><td class="hits">4051364</td><td class="source">			result = result.concat(this.findAll(test, childs));</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">54</td><td class="hits">4071820</td><td class="source">	return result;</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">57</td><td class="hits">1</td><td class="source">exports.filter = function(test, element, recurse, limit){</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">	if(!Array.isArray(element)) element = [element];</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">	if(typeof limit !== &quot;number&quot; || !isFinite(limit)){</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">		if(recurse === false){</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">			return element.filter(test);</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">			return this.findAll(test, element);</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">	} else if(limit === 1){</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">		if(recurse === false){</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">			element = this.findOneChild(test, element);</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">			element = this.findOne(test, element);</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">		return element ? [element] : [];</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">		return this.find(test, element, recurse !== false, limit);</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/legacy.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/legacy.js</h2>
          <div class="stats high">
            <div class="percentage">21.3%</div>
            <div class="sloc">47</div>
            <div class="hits">10</div>
            <div class="misses">37</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var ElementType = require(&quot;domelementtype&quot;);</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var isTag = exports.isTag = ElementType.isTag;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">exports.testElement = function(options, element){</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">	for(var key in options){</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">		if(!options.hasOwnProperty(key));</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">		else if(key === &quot;tag_name&quot;){</td></tr><tr class="miss"><td class="line">8</td><td class="hits">0</td><td class="source">			if(!isTag(element) || !options.tag_name(element.name)){</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">				return false;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">		} else if(key === &quot;tag_type&quot;){</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">			if(!options.tag_type(element.type)) return false;</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">		} else if(key === &quot;tag_contains&quot;){</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">			if(isTag(element) || !options.tag_contains(element.data)){</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">				return false;</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">		} else if(!element.attribs || !options[key](element.attribs[key])){</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">			return false;</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	}</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">	return true;</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">24</td><td class="hits">1</td><td class="source">var Checks = {</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	tag_name: function(name){</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">		if(typeof name === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">			return function(elem){ return isTag(elem) &amp;&amp; name(elem.name); };</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">		} else if(name === &quot;*&quot;){</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">			return isTag;</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">			return function(elem){ return isTag(elem) &amp;&amp; elem.name === name; };</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">	tag_type: function(type){</td></tr><tr class="miss"><td class="line">35</td><td class="hits">0</td><td class="source">		if(typeof type === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">			return function(elem){ return type(elem.type); };</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">			return function(elem){ return elem.type === type; };</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	tag_contains: function(data){</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">		if(typeof data === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">			return function(elem){ return !isTag(elem) &amp;&amp; data(elem.data); };</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">			return function(elem){ return !isTag(elem) &amp;&amp; elem.data === data; };</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">1</td><td class="source">function getAttribCheck(attrib, value){</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">	if(typeof value === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">		return function(elem){ return elem.attribs &amp;&amp; value(elem.attribs[attrib]); };</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">		return function(elem){ return elem.attribs &amp;&amp; elem.attribs[attrib] === value; };</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">58</td><td class="hits">1</td><td class="source">function combineFuncs(a, b){</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">	return function(elem){</td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">		return a(elem) || b(elem);</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">64</td><td class="hits">1</td><td class="source">exports.getElements = function(options, element, recurse, limit){</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">	var funcs = Object.keys(options).map(function(key){</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">		var value = options[key];</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">		return key in Checks ? Checks[key](value) : getAttribCheck(key, value);</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">	});</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">	return funcs.length === 0 ? [] : this.filter(</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">		funcs.reduce(combineFuncs),</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">		element, recurse, limit</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">	);</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">76</td><td class="hits">1</td><td class="source">exports.getElementById = function(id, element, recurse){</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">	if(!Array.isArray(element)) element = [element];</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">	return this.findOne(getAttribCheck(&quot;id&quot;, id), element, recurse !== false);</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">81</td><td class="hits">1</td><td class="source">exports.getElementsByTagName = function(name, element, recurse, limit){</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">	return this.filter(Checks.tag_name(name), element, recurse, limit);</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">85</td><td class="hits">1</td><td class="source">exports.getElementsByTagType = function(type, element, recurse, limit){</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">	return this.filter(Checks.tag_type(type), element, recurse, limit);</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/helpers.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/domutils/lib/helpers.js</h2>
          <div class="stats high">
            <div class="percentage">80.0%</div>
            <div class="sloc">15</div>
            <div class="hits">12</div>
            <div class="misses">3</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">// removeSubsets</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">// Given an array of nodes, remove any member that is contained by another.</td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">exports.removeSubsets = function(nodes) {</td></tr><tr class="hit"><td class="line">4</td><td class="hits">20349</td><td class="source">	var idx = nodes.length, node, ancestor, replace;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	// Check if each node (or one of its ancestors) is already contained in the</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	// array.</td></tr><tr class="hit"><td class="line">8</td><td class="hits">20365</td><td class="source">	while (--idx &gt; -1) {</td></tr><tr class="hit"><td class="line">9</td><td class="hits">60705</td><td class="source">		node = ancestor = nodes[idx];</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">		// Temporarily remove the node under consideration</td></tr><tr class="hit"><td class="line">12</td><td class="hits">60741</td><td class="source">		nodes[idx] = null;</td></tr><tr class="hit"><td class="line">13</td><td class="hits">60753</td><td class="source">		replace = true;</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">15</td><td class="hits">60777</td><td class="source">		while (ancestor) {</td></tr><tr class="hit"><td class="line">16</td><td class="hits">182206</td><td class="source">			if (nodes.indexOf(ancestor) &gt; -1) {</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">				replace = false;</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">				nodes.splice(idx, 1);</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">				break;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">21</td><td class="hits">182386</td><td class="source">			ancestor = ancestor.parent;</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">		// If the node has been found to be unique, re-insert it.</td></tr><tr class="hit"><td class="line">25</td><td class="hits">60897</td><td class="source">		if (replace) {</td></tr><tr class="hit"><td class="line">26</td><td class="hits">60909</td><td class="source">			nodes[idx] = node;</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">30</td><td class="hits">20453</td><td class="source">	return nodes;</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/nth-check.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/nth-check.js</h2>
          <div class="stats high">
            <div class="percentage">18.9%</div>
            <div class="sloc">37</div>
            <div class="hits">7</div>
            <div class="misses">30</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var BaseFuncs = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./basefunctions.js&quot;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    trueFunc  = BaseFuncs.trueFunc,</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    falseFunc = BaseFuncs.falseFunc;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">module.exports = function nthCheck(formula){</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">	return compile(parse(formula));</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">9</td><td class="hits">1</td><td class="source">module.exports.parse = parse;</td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">module.exports.compile = compile;</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">//following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">//[ [&apos;-&apos;|&apos;+&apos;]? INTEGER? {N} [ S* [&apos;-&apos;|&apos;+&apos;] S* INTEGER ]?</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">var re_nthElement = /^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	parses a nth-check formula, returns an array of two numbers</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">20</td><td class="hits">1</td><td class="source">function parse(formula){</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">	formula = formula.trim().toLowerCase();</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">	if(formula === &quot;even&quot;){</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">		return [2, 0];</td></tr><tr class="miss"><td class="line">25</td><td class="hits">0</td><td class="source">	} else if(formula === &quot;odd&quot;){</td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">		return [2, 1];</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">		var parsed = formula.match(re_nthElement);</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">		if(!parsed){</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">			throw new SyntaxError(&quot;n-th rule couldn&apos;t be parsed (&apos;&quot; + formula + &quot;&apos;)&quot;);</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">34</td><td class="hits">0</td><td class="source">		var a;</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">		if(parsed[1]){</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">			a = parseInt(parsed[1], 10);</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">			if(!a){</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">				if(parsed[1].charAt(0) === &quot;-&quot;) a = -1;</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">				else a = 1;</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">		} else a = 0;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">		return [</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">			a,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">			parsed[3] ? parseInt((parsed[2] || &quot;&quot;) + parsed[3], 10) : 0</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">		];</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">	returns a function that checks if an elements index matches the given rule</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">	highly optimized to return the fastest solution</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">55</td><td class="hits">1</td><td class="source">function compile(parsed){</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">	var a = parsed[0],</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">	    b = parsed[1] - 1;</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">	//when b &lt;= 0, a*n won&apos;t be possible for any matches when a &lt; 0</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">	//besides, the specification says that no element is matched when a and b are 0</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">	if(b &lt; 0 &amp;&amp; a &lt;= 0) return falseFunc;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">	//when a is in the range -1..1, it matches any element (so only b is checked)</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">	if(a ===-1) return function(pos){ return pos &lt;= b; };</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">	if(a === 0) return function(pos){ return pos === b; };</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">	//when b &lt;= 0 and a === 1, they match any element</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">	if(a === 1) return b &lt; 0 ? trueFunc : function(pos){ return pos &gt;= b; };</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">	//when a &gt; 0, modulo can be used to check if there is a match</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">	var bMod = b % a;</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">	if(bMod &lt; 0) bMod += a;</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">	if(a &gt; 1){</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">		return function(pos){</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">			return pos &gt;= b &amp;&amp; pos % a === bMod;</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">	a *= -1; //make `a` positive</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">	return function(pos){</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">		return pos &lt;= b &amp;&amp; pos % a === bMod;</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">}</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/basefunctions.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/basefunctions.js</h2>
          <div class="stats high">
            <div class="percentage">66.7%</div>
            <div class="sloc">3</div>
            <div class="hits">2</div>
            <div class="misses">1</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">	trueFunc: function trueFunc(){</td></tr><tr class="hit"><td class="line">3</td><td class="hits">20833</td><td class="source">		return true;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	falseFunc: function falseFunc(){</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">		return false;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">};</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/attributes.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/attributes.js</h2>
          <div class="stats high">
            <div class="percentage">20.8%</div>
            <div class="sloc">77</div>
            <div class="hits">16</div>
            <div class="misses">61</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var DomUtils  = require(&quot;domutils&quot;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    hasAttrib = DomUtils.hasAttrib,</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    getAttributeValue = DomUtils.getAttributeValue,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    falseFunc = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./basefunctions.js&quot;).falseFunc;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">//https://github.com/slevithan/XRegExp/blob/master/src/xregexp.js#L469</td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">var reChars = /[-[\]{}()*+?.,\\^$|#\s]/g;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">	attribute selectors</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">var attributeRules = {</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	equals: function(next, data){</td></tr><tr class="hit"><td class="line">16</td><td class="hits">5275</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">		    value = data.value;</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">19</td><td class="hits">5278</td><td class="source">		if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">			value = value.toLowerCase();</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">23</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">24</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp; attr.toLowerCase() === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">5287</td><td class="source">		return function(elem){</td></tr><tr class="hit"><td class="line">29</td><td class="hits">1118114</td><td class="source">			return getAttributeValue(elem, name) === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">	hyphen: function(next, data){</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">		    value = data.value,</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">		    len = value.length;</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">		if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">			value = value.toLowerCase();</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">41</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">						(attr.length === len || attr.charAt(len) === &quot;-&quot;) &amp;&amp;</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">						attr.substr(0, len).toLowerCase() === value &amp;&amp;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">						next(elem);</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">			var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">			return attr != null &amp;&amp;</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">					attr.substr(0, len) === value &amp;&amp;</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">					(attr.length === len || attr.charAt(len) === &quot;-&quot;) &amp;&amp;</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">					next(elem);</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">	element: function(next, data){</td></tr><tr class="hit"><td class="line">58</td><td class="hits">15996</td><td class="source">		var name = data.name,</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">		    value = data.value;</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">61</td><td class="hits">16005</td><td class="source">		if(/\s/.test(value)){</td></tr><tr class="miss"><td class="line">62</td><td class="hits">0</td><td class="source">			return falseFunc;</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">16017</td><td class="source">		value = value.replace(reChars, &quot;\\$&amp;&quot;);</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">67</td><td class="hits">16023</td><td class="source">		var pattern = &quot;(?:^|\\s)&quot; + value + &quot;(?:$|\\s)&quot;,</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">		    flags = data.ignoreCase ? &quot;i&quot; : &quot;&quot;,</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">		    regex = new RegExp(pattern, flags);</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">71</td><td class="hits">16035</td><td class="source">		return function(elem){</td></tr><tr class="hit"><td class="line">72</td><td class="hits">725993</td><td class="source">			var attr = getAttributeValue(elem, name);</td></tr><tr class="hit"><td class="line">73</td><td class="hits">726002</td><td class="source">			return attr != null &amp;&amp; regex.test(attr) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">	exists: function(next, data){</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">		var name = data.name;</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">			return hasAttrib(elem, name) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">	start: function(next, data){</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">		    value = data.value,</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">		    len = value.length;</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">		if(len === 0){</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">			return falseFunc;</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">		</td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">		if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">			value = value.toLowerCase();</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp; attr.substr(0, len).toLowerCase() === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">			var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">102</td><td class="hits">0</td><td class="source">			return attr != null &amp;&amp; attr.substr(0, len) === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">	end: function(next, data){</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">		    value = data.value,</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">		    len   = -value.length;</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">110</td><td class="hits">0</td><td class="source">		if(len === 0){</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">			return falseFunc;</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">		if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">			value = value.toLowerCase();</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp; attr.substr(len).toLowerCase() === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">			var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">			return attr != null &amp;&amp; attr.substr(len) === value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">	any: function(next, data){</td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">		    value = data.value;</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">		if(value === &quot;&quot;){</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">			return falseFunc;</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">		if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">			var regex = new RegExp(value.replace(reChars, &quot;\\$&amp;&quot;), &quot;i&quot;);</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp; regex.test(attr) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">			var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">			return attr != null &amp;&amp; attr.indexOf(value) &gt;= 0 &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">	not: function(next, data){</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">		var name  = data.name,</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">		    value = data.value;</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">		if(value === &quot;&quot;){</td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">				return !!getAttributeValue(elem, name) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">			};</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">		} else if(data.ignoreCase){</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">			value = value.toLowerCase();</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">			return function(elem){</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">				var attr = getAttributeValue(elem, name);</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">				return attr != null &amp;&amp; attr.toLowerCase() !== value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">			};</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">		return function(elem){</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">			return getAttributeValue(elem, name) !== value &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">172</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">173</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source">	compile: function(next, data){</td></tr><tr class="hit"><td class="line">175</td><td class="hits">21781</td><td class="source">		return attributeRules[data.action](next, data);</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source">	rules: attributeRules</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">179</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/compile.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/compile.js</h2>
          <div class="stats high">
            <div class="percentage">56.3%</div>
            <div class="sloc">32</div>
            <div class="hits">18</div>
            <div class="misses">14</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">	compiles a selector to an executable function</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">module.exports = compile;</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">var parse       = require(&quot;CSSwhat&quot;),</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    DomUtils    = require(&quot;domutils&quot;),</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    isTag       = DomUtils.isTag,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    Rules       = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./general.js&quot;),</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    sortRules   = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./sort.js&quot;),</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    BaseFuncs   = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./basefunctions.js&quot;),</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">    trueFunc    = BaseFuncs.trueFunc,</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">    falseFunc   = BaseFuncs.falseFunc;</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">16</td><td class="hits">1</td><td class="source">function compile(selector, options){</td></tr><tr class="hit"><td class="line">17</td><td class="hits">21661</td><td class="source">	var next = parse(selector, options)</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">		.map(compileRules)</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">		.reduce(reduceRules, falseFunc);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">21</td><td class="hits">21677</td><td class="source">	return function(elem){</td></tr><tr class="hit"><td class="line">22</td><td class="hits">8721326</td><td class="source">		return isTag(elem) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">function compileRules(arr){</td></tr><tr class="hit"><td class="line">27</td><td class="hits">21701</td><td class="source">	if(arr.length === 0) return falseFunc;</td></tr><tr class="hit"><td class="line">28</td><td class="hits">21705</td><td class="source">	return sortRules(arr).reduce(function(func, rule){</td></tr><tr class="hit"><td class="line">29</td><td class="hits">32961</td><td class="source">		if(func === falseFunc) return func;</td></tr><tr class="hit"><td class="line">30</td><td class="hits">32967</td><td class="source">		return Rules[rule.type](func, rule);</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	}, trueFunc);</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">1</td><td class="source">function reduceRules(a, b){</td></tr><tr class="hit"><td class="line">35</td><td class="hits">21733</td><td class="source">	if(b === falseFunc || a === trueFunc){</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">		return a;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">38</td><td class="hits">21745</td><td class="source">	if(a === falseFunc || b === trueFunc){</td></tr><tr class="hit"><td class="line">39</td><td class="hits">21749</td><td class="source">		return b;</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">	return function combine(elem){</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">		return a(elem) || b(elem);</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">	};	</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">//:not and :has have to compile selectors</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">//doing this in lib/pseudos.js would lead to circular dependencies,</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">//so we add them here</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">51</td><td class="hits">1</td><td class="source">var Pseudos     = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./pseudos.js&quot;),</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">    filters     = Pseudos.filters,</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">    isParent    = Pseudos.pseudos.parent,</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">    findOne     = DomUtils.findOne,</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    getChildren = DomUtils.getChildren;</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">57</td><td class="hits">1</td><td class="source">filters.not = function(next, select){</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">	var func = compile(select);</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">60</td><td class="hits">0</td><td class="source">	if(func === falseFunc) return next;</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">	if(func === trueFunc)  return falseFunc;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">	return function(elem){</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">		return !func(elem) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">68</td><td class="hits">1</td><td class="source">filters.has = function(next, selector){</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">	var func = compile(selector);</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">	if(func === falseFunc) return falseFunc;</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">	if(func === trueFunc)  return function(elem){</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">			return isParent(elem) &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">	return function has(elem){</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">		return next(elem) &amp;&amp; findOne(func, getChildren(elem)) !== null;</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/CSSwhat/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/node_modules/CSSwhat/index.js</h2>
          <div class="stats high">
            <div class="percentage">52.9%</div>
            <div class="sloc">68</div>
            <div class="hits">36</div>
            <div class="misses">32</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">&quot;use strict&quot;;</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = parse;</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var re_ws = /^\s/,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    re_name = /^(?:\\.|[\w\-\u00c0-\uFFFF])+/,</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    re_cleanSelector = /([^\\])\s*([&gt;~+,]|$)\s*/g,</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    re_combinators = /^\s*[^\\]\s*[&gt;~+,]|$\s*/g,</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    re_escape = /\\([\da-f]{1,6}\s?|(\s)|.)/ig,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    re_comma = /^\s*,\s*/,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">    //modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    re_attr = /^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:([&apos;&quot;])(.*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">var actionTypes = {</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">	&quot;undefined&quot;: &quot;exists&quot;,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	&quot;&quot;:  &quot;equals&quot;,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	&quot;~&quot;: &quot;element&quot;,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">	&quot;^&quot;: &quot;start&quot;,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	&quot;$&quot;: &quot;end&quot;,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">	&quot;*&quot;: &quot;any&quot;,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">	&quot;!&quot;: &quot;not&quot;,</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	&quot;|&quot;: &quot;hyphen&quot;</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">var simpleSelectors = {</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">	&quot;&gt;&quot;: &quot;child&quot;,</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">	&quot;&lt;&quot;: &quot;parent&quot;,</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">	&quot;~&quot;: &quot;sibling&quot;,</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	&quot;+&quot;: &quot;adjacent&quot;,</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">	&quot;*&quot;: &quot;universal&quot;</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">var attribSelectors = {</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	&quot;#&quot;: [&quot;id&quot;, &quot;equals&quot;],</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">	&quot;.&quot;: [&quot;class&quot;, &quot;element&quot;]</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">//unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L139</td></tr><tr class="hit"><td class="line">42</td><td class="hits">1</td><td class="source">function funescape( _, escaped, escapedWhitespace ) {</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">	var high = &quot;0x&quot; + escaped - 0x10000;</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">	// NaN means non-codepoint</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">	// Support: Firefox</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">	// Workaround erroneous numeric interpretation of +&quot;0x&quot;</td></tr><tr class="miss"><td class="line">47</td><td class="hits">0</td><td class="source">	return high !== high || escapedWhitespace ?</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">		escaped :</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">		// BMP codepoint</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">		high &lt; 0 ?</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">			String.fromCharCode( high + 0x10000 ) :</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">			// Supplemental Plane codepoint (surrogate pair)</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">			String.fromCharCode( high &gt;&gt; 10 | 0xD800, high &amp; 0x3FF | 0xDC00 );</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">56</td><td class="hits">1</td><td class="source">function unescapeCSS(str){</td></tr><tr class="hit"><td class="line">57</td><td class="hits">27963</td><td class="source">	return str.replace(re_escape, funescape);</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">60</td><td class="hits">1</td><td class="source">function getClosingPos(selector){</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">	var pos = 1, counter = 1, len = selector.length;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">	for(; counter &gt; 0 &amp;&amp; pos &lt; len; pos++){</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">		if(selector.charAt(pos) === &quot;(&quot;) counter++;</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">		else if(selector.charAt(pos) === &quot;)&quot;) counter--;</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">	return pos;</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">71</td><td class="hits">1</td><td class="source">function parse(selector, options){</td></tr><tr class="hit"><td class="line">72</td><td class="hits">22213</td><td class="source">	selector = (selector + &quot;&quot;).trimLeft().replace(re_cleanSelector, &quot;$1$2&quot;);</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">74</td><td class="hits">22221</td><td class="source">	var subselects = [],</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">	    tokens = [],</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">	    data, firstChar, name;</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">	</td></tr><tr class="hit"><td class="line">78</td><td class="hits">22237</td><td class="source">	function getName(){</td></tr><tr class="hit"><td class="line">79</td><td class="hits">28073</td><td class="source">		var sub = selector.match(re_name)[0];</td></tr><tr class="hit"><td class="line">80</td><td class="hits">28078</td><td class="source">		selector = selector.substr(sub.length);</td></tr><tr class="hit"><td class="line">81</td><td class="hits">28083</td><td class="source">		return unescapeCSS(sub);</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">84</td><td class="hits">22261</td><td class="source">	function getLCName(){</td></tr><tr class="hit"><td class="line">85</td><td class="hits">5612</td><td class="source">		var name = getName();</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">87</td><td class="hits">5614</td><td class="source">		if(!options || !options.xmlMode){</td></tr><tr class="hit"><td class="line">88</td><td class="hits">5615</td><td class="source">			name = name.toLowerCase();</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">91</td><td class="hits">5618</td><td class="source">		return name;</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">94</td><td class="hits">22301</td><td class="source">	while(selector !== &quot;&quot;){</td></tr><tr class="hit"><td class="line">95</td><td class="hits">33864</td><td class="source">		if(re_name.test(selector)){</td></tr><tr class="hit"><td class="line">96</td><td class="hits">5623</td><td class="source">			tokens.push({type: &quot;tag&quot;, name: getLCName()});</td></tr><tr class="hit"><td class="line">97</td><td class="hits">28252</td><td class="source">		} else if(re_ws.test(selector)){</td></tr><tr class="hit"><td class="line">98</td><td class="hits">5714</td><td class="source">			tokens.push({type: &quot;descendant&quot;});</td></tr><tr class="hit"><td class="line">99</td><td class="hits">5715</td><td class="source">			selector = selector.trimLeft();</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="hit"><td class="line">101</td><td class="hits">22555</td><td class="source">			firstChar = selector.charAt(0);</td></tr><tr class="hit"><td class="line">102</td><td class="hits">22559</td><td class="source">			selector = selector.substr(1);</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">22567</td><td class="source">			if(firstChar in simpleSelectors){</td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">				tokens.push({type: simpleSelectors[firstChar]});</td></tr><tr class="hit"><td class="line">106</td><td class="hits">22575</td><td class="source">			} else if(firstChar in attribSelectors){</td></tr><tr class="hit"><td class="line">107</td><td class="hits">22579</td><td class="source">				tokens.push({</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">					type: &quot;attribute&quot;,</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">					name: attribSelectors[firstChar][0],</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">					action: attribSelectors[firstChar][1],</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">					value: getName(),</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">					ignoreCase: false</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">				});</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">			} else if(firstChar === &quot;[&quot;){</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">				data = selector.match(re_attr);</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">				if(!data){</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">					throw new SyntaxError(&quot;Malformed attribute selector: &quot; + selector);</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source">				}</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">				selector = selector.substr(data[0].length);</td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">				name = unescapeCSS(data[1]);</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">				if(!options || !options.xmlMode){</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">					name = name.toLowerCase();</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">				tokens.push({</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">					type: &quot;attribute&quot;,</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">					name: name,</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">					action: actionTypes[data[2]],</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">					value: unescapeCSS(data[4] || data[5] || &quot;&quot;),</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">					ignoreCase: !!data[6]</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">				});</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">				</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">			} else if(firstChar === &quot;:&quot;){</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">				//if(selector.charAt(0) === &quot;:&quot;){} //TODO pseudo-element</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">				name = getLCName();</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">				data = null;</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">				</td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">				if(selector.charAt(0) === &quot;(&quot;){</td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">					var pos = getClosingPos(selector);</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">					data = selector.substr(1, pos - 2);</td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">					selector = selector.substr(pos);</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">				</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">				tokens.push({type: &quot;pseudo&quot;, name: name, data: data});</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">			} else if(firstChar === &quot;,&quot;){</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">				if(tokens.length === 0){</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">					throw new SyntaxError(&quot;empty sub-selector&quot;);</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">				}</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">				subselects.push(tokens);</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">				tokens = [];</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source">				//otherwise, the parser needs to throw or it would enter an infinite loop</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">				throw new SyntaxError(&quot;Unmatched selector: &quot; + firstChar + selector);</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">	</td></tr><tr class="hit"><td class="line">159</td><td class="hits">22561</td><td class="source">	if(subselects.length &gt; 0 &amp;&amp; tokens.length === 0){</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">		throw new SyntaxError(&quot;empty sub-selector&quot;);</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">162</td><td class="hits">22573</td><td class="source">	subselects.push(tokens);</td></tr><tr class="hit"><td class="line">163</td><td class="hits">22577</td><td class="source">	return subselects;</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">}</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/general.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/general.js</h2>
          <div class="stats high">
            <div class="percentage">33.3%</div>
            <div class="sloc">30</div>
            <div class="hits">10</div>
            <div class="misses">20</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var DomUtils    = require(&quot;domutils&quot;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    isTag       = DomUtils.isTag,</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    getParent   = DomUtils.getParent,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    getChildren = DomUtils.getChildren,</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">    getSiblings = DomUtils.getSiblings,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    getName     = DomUtils.getName;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">	all available rules</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">	attribute: require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./attributes.js&quot;).compile,</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	pseudo: require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/./pseudos.js&quot;).compile,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	//tags</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	tag: function(next, data){</td></tr><tr class="hit"><td class="line">19</td><td class="hits">5714</td><td class="source">		var name = data.name;</td></tr><tr class="hit"><td class="line">20</td><td class="hits">5715</td><td class="source">		return function tag(elem){</td></tr><tr class="hit"><td class="line">21</td><td class="hits">3557627</td><td class="source">			return getName(elem) === name &amp;&amp; next(elem);</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	//traversal</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">	descendant: function(next){</td></tr><tr class="hit"><td class="line">27</td><td class="hits">5813</td><td class="source">		return function descendant(elem){</td></tr><tr class="hit"><td class="line">28</td><td class="hits">11370</td><td class="source">			var found = false;</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">30</td><td class="hits">11372</td><td class="source">			while(!found &amp;&amp; (elem = getParent(elem))){</td></tr><tr class="hit"><td class="line">31</td><td class="hits">33597</td><td class="source">				found = next(elem);</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">11376</td><td class="source">			return found;</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	parent: function(next){</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">		return function parent(elem){</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">			return getChildren(elem).some(next);</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">	child: function(next){</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">		return function child(elem){</td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">			var parent = getParent(elem);</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">			return !!parent &amp;&amp; next(parent);</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">	sibling: function(next){</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">		return function sibling(elem){</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem);</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">			for(var i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">					if(next(siblings[i])) return true;</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">			return false;</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">	adjacent: function(next){</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">		return function adjacent(elem){</td></tr><tr class="miss"><td class="line">64</td><td class="hits">0</td><td class="source">			var siblings = getSiblings(elem),</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">			    lastElement;</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">			for(var i = 0; i &lt; siblings.length; i++){</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">				if(isTag(siblings[i])){</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">					if(siblings[i] === elem) break;</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">					lastElement = siblings[i];</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">			return !!lastElement &amp;&amp; next(lastElement);</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">		};</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">	universal: function(next){</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">		return next;</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">};</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/sort.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/cheerio-select/node_modules/CSSselect/lib/sort.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">11</div>
            <div class="hits">11</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = sortByProcedure;</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	sort the parts of the passed selector,</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	as there is potential for optimization</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	(some types of selectors are faster than others)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">9</td><td class="hits">1</td><td class="source">var procedure = {</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	universal: 5, //should be last so that it can be ignored</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">	tag: 3, //very quick test</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">	attribute: 1, //can be faster than class</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">	pseudo: 0, //can be pretty expensive (especially :has)</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">	//everything else shouldn&apos;t be moved</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	descendant: -1,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	child: -1,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">	sibling: -1,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	adjacent: -1</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">23</td><td class="hits">1</td><td class="source">function sortByProcedure(arr){</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">	//TODO sort individual attribute selectors</td></tr><tr class="hit"><td class="line">25</td><td class="hits">23025</td><td class="source">	for(var i = 1; i &lt; arr.length; i++){</td></tr><tr class="hit"><td class="line">26</td><td class="hits">11939</td><td class="source">		var procNew = procedure[arr[i].type];</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">11943</td><td class="source">		if(procNew !== -1){</td></tr><tr class="hit"><td class="line">29</td><td class="hits">6044</td><td class="source">			for(var j = i - 1; j &gt;= 0 &amp;&amp; procNew &lt; procedure[arr[j].type]; j--){</td></tr><tr class="hit"><td class="line">30</td><td class="hits">95</td><td class="source">				var tmp = arr[j + 1];</td></tr><tr class="hit"><td class="line">31</td><td class="hits">95</td><td class="source">				arr[j + 1] = arr[j];</td></tr><tr class="hit"><td class="line">32</td><td class="hits">95</td><td class="source">				arr[j] = tmp;</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">36</td><td class="hits">23069</td><td class="source">	return arr;</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">}</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/parse.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/parse.js</h2>
          <div class="stats high">
            <div class="percentage">87.2%</div>
            <div class="sloc">47</div>
            <div class="hits">41</div>
            <div class="misses">6</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">  Module Dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var htmlparser = require(&apos;htmlparser2&apos;),</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">    _ = require(&apos;underscore&apos;),</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    isTag = require(&apos;./utils&apos;).isTag,</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    camelCase = require(&apos;./utils&apos;).camelCase;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">  Parser</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">exports = module.exports = function(content, options) {</td></tr><tr class="hit"><td class="line">13</td><td class="hits">5738</td><td class="source">  var dom = evaluate(content, options);</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">  // Generic root element</td></tr><tr class="hit"><td class="line">16</td><td class="hits">5741</td><td class="source">  var root = {</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">    type: &apos;root&apos;,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">    name: &apos;root&apos;,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    parent: null,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">    prev: null,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">    next: null,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">    children: []</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">  // Update the dom using the root</td></tr><tr class="hit"><td class="line">26</td><td class="hits">5751</td><td class="source">  update(dom, root);</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">5753</td><td class="source">  return root;</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">31</td><td class="hits">1</td><td class="source">var evaluate = exports.evaluate = function(content, options) {</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  // options = options || $.fn.options;</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">5759</td><td class="source">  var handler = new htmlparser.DomHandler(options),</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">      parser = new htmlparser.Parser(handler, options);</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">37</td><td class="hits">5762</td><td class="source">  parser.write(content);</td></tr><tr class="hit"><td class="line">38</td><td class="hits">5763</td><td class="source">  parser.done();</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">40</td><td class="hits">5765</td><td class="source">  return connect(handler.dom);</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">43</td><td class="hits">1</td><td class="source">var connect = exports.connect = function(dom, parent) {</td></tr><tr class="hit"><td class="line">44</td><td class="hits">29615</td><td class="source">  parent = parent || null;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">29625</td><td class="source">  var prevElem = null;</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">48</td><td class="hits">29635</td><td class="source">  _.each(dom, function(elem) {</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">25001</td><td class="source">    if (isTag(elem.type)) {</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">      // If tag and no attributes, add empty object</td></tr><tr class="hit"><td class="line">52</td><td class="hits">23878</td><td class="source">      if (elem.attribs === undefined) {</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">        elem.attribs = {};</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">        // If there are already attributes, add them to the data list.</td></tr><tr class="hit"><td class="line">56</td><td class="hits">23894</td><td class="source">        elem.data = parseData(elem);</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    // Set parent</td></tr><tr class="hit"><td class="line">61</td><td class="hits">25045</td><td class="source">    elem.parent = parent;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">    // Previous Sibling</td></tr><tr class="hit"><td class="line">64</td><td class="hits">25057</td><td class="source">    elem.prev = prevElem;</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">    // Next sibling</td></tr><tr class="hit"><td class="line">67</td><td class="hits">25069</td><td class="source">    elem.next = null;</td></tr><tr class="hit"><td class="line">68</td><td class="hits">38047</td><td class="source">    if (prevElem) prevElem.next = elem;</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">    // Run through the children</td></tr><tr class="hit"><td class="line">71</td><td class="hits">25085</td><td class="source">    if (elem.children)</td></tr><tr class="hit"><td class="line">72</td><td class="hits">23958</td><td class="source">      connect(elem.children, elem);</td></tr><tr class="hit"><td class="line">73</td><td class="hits">1131</td><td class="source">    else if (isTag(elem.type))</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">      elem.children = [];</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">    // Get ready for next element</td></tr><tr class="hit"><td class="line">77</td><td class="hits">25109</td><td class="source">    prevElem = elem;</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">80</td><td class="hits">29795</td><td class="source">  return dom;</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">  Update the dom structure, for one changed layer</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">  * Much faster than reconnecting</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">88</td><td class="hits">1</td><td class="source">var update = exports.update = function(arr, parent) {</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">  // normalize</td></tr><tr class="hit"><td class="line">90</td><td class="hits">40585</td><td class="source">  if (!Array.isArray(arr)) arr = [arr];</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">  // Update neighbors</td></tr><tr class="hit"><td class="line">93</td><td class="hits">26119</td><td class="source">  for (var i = 0; i &lt; arr.length; i++) {</td></tr><tr class="hit"><td class="line">94</td><td class="hits">760689</td><td class="source">    arr[i].prev = arr[i - 1] || null;</td></tr><tr class="hit"><td class="line">95</td><td class="hits">760790</td><td class="source">    arr[i].next = arr[i + 1] || null;</td></tr><tr class="hit"><td class="line">96</td><td class="hits">760892</td><td class="source">    arr[i].parent = parent || null;</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">  // Update parent</td></tr><tr class="hit"><td class="line">100</td><td class="hits">26151</td><td class="source">  parent.children = arr;</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">102</td><td class="hits">26160</td><td class="source">  return parent;</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source"> * Extract data by using element attributes.</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source"> * @param  {Object} elem Element</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source"> * @return {Object}      `element.data` object</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">110</td><td class="hits">1</td><td class="source">var parseData = exports.parseData = function(elem) {</td></tr><tr class="hit"><td class="line">111</td><td class="hits">48228</td><td class="source">  if (elem.data === undefined) elem.data = {};</td></tr><tr class="hit"><td class="line">112</td><td class="hits">24118</td><td class="source">  var value;</td></tr><tr class="hit"><td class="line">113</td><td class="hits">24122</td><td class="source">  for (var key in elem.attribs) {</td></tr><tr class="hit"><td class="line">114</td><td class="hits">23770</td><td class="source">    if (key.substr(0, 5) === &apos;data-&apos;) {</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">      value = elem.attribs[key];</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">      key = key.slice(5);</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">      key = camelCase(key);</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">      elem.data[key] = value;</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">  }</td></tr><tr class="hit"><td class="line">121</td><td class="hits">24154</td><td class="source">  return elem.data;</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">// module.exports = $.extend(exports);</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/index.js</h2>
          <div class="stats high">
            <div class="percentage">25.9%</div>
            <div class="sloc">27</div>
            <div class="hits">7</div>
            <div class="misses">20</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">function defineProp(name, value){</td></tr><tr class="hit"><td class="line">2</td><td class="hits">2</td><td class="source">	delete module.exports[name];</td></tr><tr class="hit"><td class="line">3</td><td class="hits">2</td><td class="source">	module.exports[name] = value;</td></tr><tr class="hit"><td class="line">4</td><td class="hits">2</td><td class="source">	return value;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	parseDOM: function (html) {</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">		var handler = new module.exports.DomHandler();</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">		var parser = new module.exports.Parser(handler);</td></tr><tr class="miss"><td class="line">11</td><td class="hits">0</td><td class="source">		parser.parseComplete(html);</td></tr><tr class="miss"><td class="line">12</td><td class="hits">0</td><td class="source">		return handler.dom;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">	parseFeed: function (feed) {</td></tr><tr class="miss"><td class="line">15</td><td class="hits">0</td><td class="source">		var handler = new module.exports.FeedHandler();</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">		var parser = new module.exports.Parser(handler);</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">		parser.parseComplete(feed);</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">		return handler.dom;</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	get Parser(){</td></tr><tr class="hit"><td class="line">21</td><td class="hits">1</td><td class="source">		return defineProp(&quot;Parser&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./Parser.js&quot;));</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	get DomHandler(){</td></tr><tr class="hit"><td class="line">24</td><td class="hits">1</td><td class="source">		return defineProp(&quot;DomHandler&quot;, require(&quot;domhandler&quot;));</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">	get FeedHandler(){</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">		return defineProp(&quot;FeedHandler&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./FeedHandler.js&quot;));</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">	get Tokenizer(){</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">		return defineProp(&quot;Tokenizer&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./Tokenizer.js&quot;));</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">	get ElementType(){</td></tr><tr class="miss"><td class="line">33</td><td class="hits">0</td><td class="source">		return defineProp(&quot;ElementType&quot;, require(&quot;domelementtype&quot;));</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">	get Stream(){</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">		return defineProp(&quot;Stream&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./Stream.js&quot;));</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">	get WritableStream(){</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">		return defineProp(&quot;WritableStream&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./WritableStream.js&quot;));</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	get ProxyHandler(){</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">		return defineProp(&quot;ProxyHandler&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./ProxyHandler.js&quot;));</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">	get DomUtils(){</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">		return defineProp(&quot;DomUtils&quot;, require(&quot;domutils&quot;));</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	get CollectingHandler(){</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">		return defineProp(&quot;CollectingHandler&quot;, require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./CollectingHandler.js&quot;));</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">	// For legacy support</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">	get DefaultHandler(){</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">		return defineProp(&quot;DefaultHandler&quot;, this.DomHandler);</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">	get RssHandler(){</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">		return defineProp(&quot;RssHandler&quot;, this.FeedHandler);</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">	createDomStream: function(cb, options, elementCb){</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">		var handler = new module.exports.DomHandler(cb, options, elementCb);</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">		return new module.exports.Parser(handler, options);</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">	// List of all events that the parser emits</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">	EVENTS: { /* Format: eventname: number of arguments */</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">		attribute: 2,</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">		cdatastart: 0,</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">		cdataend: 0,</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">		text: 1,</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">		processinginstruction: 2,</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">		comment: 1,</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">		commentend: 0,</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">		closetag: 1,</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">		opentag: 2,</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">		opentagname: 1,</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">		error: 1,</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">		end: 0</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/underscore/underscore.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/underscore/underscore.js</h2>
          <div class="stats high">
            <div class="percentage">31.1%</div>
            <div class="sloc">578</div>
            <div class="hits">180</div>
            <div class="misses">398</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">//     Underscore.js 1.4.4</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">//     http://underscorejs.org</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">//     Underscore may be freely distributed under the MIT license.</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">(function() {</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  // Baseline setup</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  // --------------</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">  // Establish the root object, `window` in the browser, or `global` on the server.</td></tr><tr class="hit"><td class="line">12</td><td class="hits">1</td><td class="source">  var root = this;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">  // Save the previous value of the `_` variable.</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">  var previousUnderscore = root._;</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">  // Establish the object that gets returned to break out of a loop iteration.</td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">  var breaker = {};</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  // Save bytes in the minified (but not gzipped) version:</td></tr><tr class="hit"><td class="line">21</td><td class="hits">1</td><td class="source">  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">  // Create quick reference variables for speed access to core prototypes.</td></tr><tr class="hit"><td class="line">24</td><td class="hits">1</td><td class="source">  var push             = ArrayProto.push,</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">      slice            = ArrayProto.slice,</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">      concat           = ArrayProto.concat,</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">      toString         = ObjProto.toString,</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">      hasOwnProperty   = ObjProto.hasOwnProperty;</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  // All **ECMAScript 5** native function implementations that we hope to use</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">  // are declared here.</td></tr><tr class="hit"><td class="line">32</td><td class="hits">1</td><td class="source">  var</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">    nativeForEach      = ArrayProto.forEach,</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">    nativeMap          = ArrayProto.map,</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    nativeReduce       = ArrayProto.reduce,</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">    nativeReduceRight  = ArrayProto.reduceRight,</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">    nativeFilter       = ArrayProto.filter,</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">    nativeEvery        = ArrayProto.every,</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">    nativeSome         = ArrayProto.some,</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    nativeIndexOf      = ArrayProto.indexOf,</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">    nativeLastIndexOf  = ArrayProto.lastIndexOf,</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">    nativeIsArray      = Array.isArray,</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">    nativeKeys         = Object.keys,</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">    nativeBind         = FuncProto.bind;</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">  // Create a safe reference to the Underscore object for use below.</td></tr><tr class="hit"><td class="line">47</td><td class="hits">1</td><td class="source">  var _ = function(obj) {</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">    if (obj instanceof _) return obj;</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">    if (!(this instanceof _)) return new _(obj);</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">    this._wrapped = obj;</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">  // Export the Underscore object for **Node.js**, with</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">  // backwards-compatibility for the old `require()` API. If we&apos;re in</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  // the browser, add `_` as a global object via a string identifier,</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  // for Closure Compiler &quot;advanced&quot; mode.</td></tr><tr class="hit"><td class="line">57</td><td class="hits">1</td><td class="source">  if (typeof exports !== &apos;undefined&apos;) {</td></tr><tr class="hit"><td class="line">58</td><td class="hits">1</td><td class="source">    if (typeof module !== &apos;undefined&apos; &amp;&amp; module.exports) {</td></tr><tr class="hit"><td class="line">59</td><td class="hits">1</td><td class="source">      exports = module.exports = _;</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">61</td><td class="hits">1</td><td class="source">    exports._ = _;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">    root._ = _;</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">  // Current version.</td></tr><tr class="hit"><td class="line">67</td><td class="hits">1</td><td class="source">  _.VERSION = &apos;1.4.4&apos;;</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">  // Collection Functions</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">  // --------------------</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">  // The cornerstone, an `each` implementation, aka `forEach`.</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">  // Handles objects with the built-in `forEach`, arrays, and raw objects.</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `forEach` if available.</td></tr><tr class="hit"><td class="line">75</td><td class="hits">1</td><td class="source">  var each = _.each = _.forEach = function(obj, iterator, context) {</td></tr><tr class="hit"><td class="line">76</td><td class="hits">209322</td><td class="source">    if (obj == null) return;</td></tr><tr class="hit"><td class="line">77</td><td class="hits">209358</td><td class="source">    if (nativeForEach &amp;&amp; obj.forEach === nativeForEach) {</td></tr><tr class="hit"><td class="line">78</td><td class="hits">179157</td><td class="source">      obj.forEach(iterator, context);</td></tr><tr class="hit"><td class="line">79</td><td class="hits">30242</td><td class="source">    } else if (obj.length === +obj.length) {</td></tr><tr class="hit"><td class="line">80</td><td class="hits">30247</td><td class="source">      for (var i = 0, l = obj.length; i &lt; l; i++) {</td></tr><tr class="hit"><td class="line">81</td><td class="hits">30252</td><td class="source">        if (iterator.call(context, obj[i], i, obj) === breaker) return;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">      for (var key in obj) {</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">        if (_.has(obj, key)) {</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">          if (iterator.call(context, obj[key], key, obj) === breaker) return;</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">  // Return the results of applying the iterator to each element.</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `map` if available.</td></tr><tr class="hit"><td class="line">94</td><td class="hits">1</td><td class="source">  _.map = _.collect = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">    var results = [];</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">    if (obj == null) return results;</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">    if (nativeMap &amp;&amp; obj.map === nativeMap) return obj.map(iterator, context);</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">      results[results.length] = iterator.call(context, value, index, list);</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">    return results;</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">  var reduceError = &apos;Reduce of empty array with no initial value&apos;;</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">  // **Reduce** builds up a single result from a list of values, aka `inject`,</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">  // or `foldl`. Delegates to **ECMAScript 5**&apos;s native `reduce` if available.</td></tr><tr class="hit"><td class="line">108</td><td class="hits">1</td><td class="source">  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {</td></tr><tr class="hit"><td class="line">109</td><td class="hits">24353</td><td class="source">    var initial = arguments.length &gt; 2;</td></tr><tr class="hit"><td class="line">110</td><td class="hits">24357</td><td class="source">    if (obj == null) obj = [];</td></tr><tr class="hit"><td class="line">111</td><td class="hits">24361</td><td class="source">    if (nativeReduce &amp;&amp; obj.reduce === nativeReduce) {</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">      if (context) iterator = _.bind(iterator, context);</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">115</td><td class="hits">24377</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="hit"><td class="line">116</td><td class="hits">24381</td><td class="source">      if (!initial) {</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">        memo = value;</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">        initial = true;</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="hit"><td class="line">120</td><td class="hits">24397</td><td class="source">        memo = iterator.call(context, memo, value, index, list);</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">    });</td></tr><tr class="hit"><td class="line">123</td><td class="hits">24409</td><td class="source">    if (!initial) throw new TypeError(reduceError);</td></tr><tr class="hit"><td class="line">124</td><td class="hits">24413</td><td class="source">    return memo;</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">  // The right-associative version of reduce, also known as `foldr`.</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `reduceRight` if available.</td></tr><tr class="hit"><td class="line">129</td><td class="hits">1</td><td class="source">  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">    var initial = arguments.length &gt; 2;</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">    if (obj == null) obj = [];</td></tr><tr class="miss"><td class="line">132</td><td class="hits">0</td><td class="source">    if (nativeReduceRight &amp;&amp; obj.reduceRight === nativeReduceRight) {</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">      if (context) iterator = _.bind(iterator, context);</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">    var length = obj.length;</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">    if (length !== +length) {</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">      var keys = _.keys(obj);</td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">      length = keys.length;</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">      index = keys ? keys[--length] : --length;</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">      if (!initial) {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">        memo = obj[index];</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">        initial = true;</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">        memo = iterator.call(context, memo, obj[index], index, list);</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">    if (!initial) throw new TypeError(reduceError);</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">    return memo;</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source">  // Return the first value which passes a truth test. Aliased as `detect`.</td></tr><tr class="hit"><td class="line">155</td><td class="hits">1</td><td class="source">  _.find = _.detect = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">156</td><td class="hits">0</td><td class="source">    var result;</td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">    any(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">      if (iterator.call(context, value, index, list)) {</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">        result = value;</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">        return true;</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">    return result;</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source">  // Return all the elements that pass a truth test.</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `filter` if available.</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source">  // Aliased as `select`.</td></tr><tr class="hit"><td class="line">169</td><td class="hits">1</td><td class="source">  _.filter = _.select = function(obj, iterator, context) {</td></tr><tr class="hit"><td class="line">170</td><td class="hits">30697</td><td class="source">    var results = [];</td></tr><tr class="hit"><td class="line">171</td><td class="hits">30702</td><td class="source">    if (obj == null) return results;</td></tr><tr class="hit"><td class="line">172</td><td class="hits">61414</td><td class="source">    if (nativeFilter &amp;&amp; obj.filter === nativeFilter) return obj.filter(iterator, context);</td></tr><tr class="miss"><td class="line">173</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">      if (iterator.call(context, value, index, list)) results[results.length] = value;</td></tr><tr class=""><td class="line">175</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">176</td><td class="hits">0</td><td class="source">    return results;</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">179</td><td class="hits"></td><td class="source">  // Return all the elements for which a truth test fails.</td></tr><tr class="hit"><td class="line">180</td><td class="hits">1</td><td class="source">  _.reject = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">181</td><td class="hits">0</td><td class="source">    return _.filter(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">      return !iterator.call(context, value, index, list);</td></tr><tr class=""><td class="line">183</td><td class="hits"></td><td class="source">    }, context);</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">185</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">  // Determine whether all of the elements match a truth test.</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `every` if available.</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">  // Aliased as `all`.</td></tr><tr class="hit"><td class="line">189</td><td class="hits">1</td><td class="source">  _.every = _.all = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">    iterator || (iterator = _.identity);</td></tr><tr class="miss"><td class="line">191</td><td class="hits">0</td><td class="source">    var result = true;</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">    if (obj == null) return result;</td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">    if (nativeEvery &amp;&amp; obj.every === nativeEvery) return obj.every(iterator, context);</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">      if (!(result = result &amp;&amp; iterator.call(context, value, index, list))) return breaker;</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">    return !!result;</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source">  // Determine if at least one element in the object matches a truth test.</td></tr><tr class=""><td class="line">201</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `some` if available.</td></tr><tr class=""><td class="line">202</td><td class="hits"></td><td class="source">  // Aliased as `any`.</td></tr><tr class="hit"><td class="line">203</td><td class="hits">1</td><td class="source">  var any = _.some = _.any = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">    iterator || (iterator = _.identity);</td></tr><tr class="miss"><td class="line">205</td><td class="hits">0</td><td class="source">    var result = false;</td></tr><tr class="miss"><td class="line">206</td><td class="hits">0</td><td class="source">    if (obj == null) return result;</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">    if (nativeSome &amp;&amp; obj.some === nativeSome) return obj.some(iterator, context);</td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">      if (result || (result = iterator.call(context, value, index, list))) return breaker;</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">211</td><td class="hits">0</td><td class="source">    return !!result;</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">  // Determine if the array or object contains a given value (using `===`).</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">  // Aliased as `include`.</td></tr><tr class="hit"><td class="line">216</td><td class="hits">1</td><td class="source">  _.contains = _.include = function(obj, target) {</td></tr><tr class="hit"><td class="line">217</td><td class="hits">30983</td><td class="source">    if (obj == null) return false;</td></tr><tr class="hit"><td class="line">218</td><td class="hits">61976</td><td class="source">    if (nativeIndexOf &amp;&amp; obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;</td></tr><tr class="miss"><td class="line">219</td><td class="hits">0</td><td class="source">    return any(obj, function(value) {</td></tr><tr class="miss"><td class="line">220</td><td class="hits">0</td><td class="source">      return value === target;</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">222</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">  // Invoke a method (with arguments) on every item in a collection.</td></tr><tr class="hit"><td class="line">225</td><td class="hits">1</td><td class="source">  _.invoke = function(obj, method) {</td></tr><tr class="miss"><td class="line">226</td><td class="hits">0</td><td class="source">    var args = slice.call(arguments, 2);</td></tr><tr class="miss"><td class="line">227</td><td class="hits">0</td><td class="source">    var isFunc = _.isFunction(method);</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">    return _.map(obj, function(value) {</td></tr><tr class="miss"><td class="line">229</td><td class="hits">0</td><td class="source">      return (isFunc ? method : value[method]).apply(value, args);</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">  // Convenience version of a common use case of `map`: fetching a property.</td></tr><tr class="hit"><td class="line">234</td><td class="hits">1</td><td class="source">  _.pluck = function(obj, key) {</td></tr><tr class="miss"><td class="line">235</td><td class="hits">0</td><td class="source">    return _.map(obj, function(value){ return value[key]; });</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">237</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source">  // Convenience version of a common use case of `filter`: selecting only objects</td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">  // containing specific `key:value` pairs.</td></tr><tr class="hit"><td class="line">240</td><td class="hits">1</td><td class="source">  _.where = function(obj, attrs, first) {</td></tr><tr class="miss"><td class="line">241</td><td class="hits">0</td><td class="source">    if (_.isEmpty(attrs)) return first ? null : [];</td></tr><tr class="miss"><td class="line">242</td><td class="hits">0</td><td class="source">    return _[first ? &apos;find&apos; : &apos;filter&apos;](obj, function(value) {</td></tr><tr class="miss"><td class="line">243</td><td class="hits">0</td><td class="source">      for (var key in attrs) {</td></tr><tr class="miss"><td class="line">244</td><td class="hits">0</td><td class="source">        if (attrs[key] !== value[key]) return false;</td></tr><tr class=""><td class="line">245</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">      return true;</td></tr><tr class=""><td class="line">247</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">  // Convenience version of a common use case of `find`: getting the first object</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">  // containing specific `key:value` pairs.</td></tr><tr class="hit"><td class="line">252</td><td class="hits">1</td><td class="source">  _.findWhere = function(obj, attrs) {</td></tr><tr class="miss"><td class="line">253</td><td class="hits">0</td><td class="source">    return _.where(obj, attrs, true);</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">256</td><td class="hits"></td><td class="source">  // Return the maximum element or (element-based computation).</td></tr><tr class=""><td class="line">257</td><td class="hits"></td><td class="source">  // Can&apos;t optimize arrays of integers longer than 65,535 elements.</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source">  // See: https://bugs.webkit.org/show_bug.cgi?id=80797</td></tr><tr class="hit"><td class="line">259</td><td class="hits">1</td><td class="source">  _.max = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">260</td><td class="hits">0</td><td class="source">    if (!iterator &amp;&amp; _.isArray(obj) &amp;&amp; obj[0] === +obj[0] &amp;&amp; obj.length &lt; 65535) {</td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">      return Math.max.apply(Math, obj);</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">263</td><td class="hits">0</td><td class="source">    if (!iterator &amp;&amp; _.isEmpty(obj)) return -Infinity;</td></tr><tr class="miss"><td class="line">264</td><td class="hits">0</td><td class="source">    var result = {computed : -Infinity, value: -Infinity};</td></tr><tr class="miss"><td class="line">265</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">266</td><td class="hits">0</td><td class="source">      var computed = iterator ? iterator.call(context, value, index, list) : value;</td></tr><tr class="miss"><td class="line">267</td><td class="hits">0</td><td class="source">      computed &gt;= result.computed &amp;&amp; (result = {value : value, computed : computed});</td></tr><tr class=""><td class="line">268</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">269</td><td class="hits">0</td><td class="source">    return result.value;</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">272</td><td class="hits"></td><td class="source">  // Return the minimum element (or element-based computation).</td></tr><tr class="hit"><td class="line">273</td><td class="hits">1</td><td class="source">  _.min = function(obj, iterator, context) {</td></tr><tr class="miss"><td class="line">274</td><td class="hits">0</td><td class="source">    if (!iterator &amp;&amp; _.isArray(obj) &amp;&amp; obj[0] === +obj[0] &amp;&amp; obj.length &lt; 65535) {</td></tr><tr class="miss"><td class="line">275</td><td class="hits">0</td><td class="source">      return Math.min.apply(Math, obj);</td></tr><tr class=""><td class="line">276</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">277</td><td class="hits">0</td><td class="source">    if (!iterator &amp;&amp; _.isEmpty(obj)) return Infinity;</td></tr><tr class="miss"><td class="line">278</td><td class="hits">0</td><td class="source">    var result = {computed : Infinity, value: Infinity};</td></tr><tr class="miss"><td class="line">279</td><td class="hits">0</td><td class="source">    each(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">280</td><td class="hits">0</td><td class="source">      var computed = iterator ? iterator.call(context, value, index, list) : value;</td></tr><tr class="miss"><td class="line">281</td><td class="hits">0</td><td class="source">      computed &lt; result.computed &amp;&amp; (result = {value : value, computed : computed});</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">283</td><td class="hits">0</td><td class="source">    return result.value;</td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">285</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">286</td><td class="hits"></td><td class="source">  // Shuffle an array.</td></tr><tr class="hit"><td class="line">287</td><td class="hits">1</td><td class="source">  _.shuffle = function(obj) {</td></tr><tr class="miss"><td class="line">288</td><td class="hits">0</td><td class="source">    var rand;</td></tr><tr class="miss"><td class="line">289</td><td class="hits">0</td><td class="source">    var index = 0;</td></tr><tr class="miss"><td class="line">290</td><td class="hits">0</td><td class="source">    var shuffled = [];</td></tr><tr class="miss"><td class="line">291</td><td class="hits">0</td><td class="source">    each(obj, function(value) {</td></tr><tr class="miss"><td class="line">292</td><td class="hits">0</td><td class="source">      rand = _.random(index++);</td></tr><tr class="miss"><td class="line">293</td><td class="hits">0</td><td class="source">      shuffled[index - 1] = shuffled[rand];</td></tr><tr class="miss"><td class="line">294</td><td class="hits">0</td><td class="source">      shuffled[rand] = value;</td></tr><tr class=""><td class="line">295</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">296</td><td class="hits">0</td><td class="source">    return shuffled;</td></tr><tr class=""><td class="line">297</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">299</td><td class="hits"></td><td class="source">  // An internal function to generate lookup iterators.</td></tr><tr class="hit"><td class="line">300</td><td class="hits">1</td><td class="source">  var lookupIterator = function(value) {</td></tr><tr class="miss"><td class="line">301</td><td class="hits">0</td><td class="source">    return _.isFunction(value) ? value : function(obj){ return obj[value]; };</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">303</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source">  // Sort the object&apos;s values by a criterion produced by an iterator.</td></tr><tr class="hit"><td class="line">305</td><td class="hits">1</td><td class="source">  _.sortBy = function(obj, value, context) {</td></tr><tr class="miss"><td class="line">306</td><td class="hits">0</td><td class="source">    var iterator = lookupIterator(value);</td></tr><tr class="miss"><td class="line">307</td><td class="hits">0</td><td class="source">    return _.pluck(_.map(obj, function(value, index, list) {</td></tr><tr class="miss"><td class="line">308</td><td class="hits">0</td><td class="source">      return {</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source">        value : value,</td></tr><tr class=""><td class="line">310</td><td class="hits"></td><td class="source">        index : index,</td></tr><tr class=""><td class="line">311</td><td class="hits"></td><td class="source">        criteria : iterator.call(context, value, index, list)</td></tr><tr class=""><td class="line">312</td><td class="hits"></td><td class="source">      };</td></tr><tr class=""><td class="line">313</td><td class="hits"></td><td class="source">    }).sort(function(left, right) {</td></tr><tr class="miss"><td class="line">314</td><td class="hits">0</td><td class="source">      var a = left.criteria;</td></tr><tr class="miss"><td class="line">315</td><td class="hits">0</td><td class="source">      var b = right.criteria;</td></tr><tr class="miss"><td class="line">316</td><td class="hits">0</td><td class="source">      if (a !== b) {</td></tr><tr class="miss"><td class="line">317</td><td class="hits">0</td><td class="source">        if (a &gt; b || a === void 0) return 1;</td></tr><tr class="miss"><td class="line">318</td><td class="hits">0</td><td class="source">        if (a &lt; b || b === void 0) return -1;</td></tr><tr class=""><td class="line">319</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">320</td><td class="hits">0</td><td class="source">      return left.index &lt; right.index ? -1 : 1;</td></tr><tr class=""><td class="line">321</td><td class="hits"></td><td class="source">    }), &apos;value&apos;);</td></tr><tr class=""><td class="line">322</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">324</td><td class="hits"></td><td class="source">  // An internal function used for aggregate &quot;group by&quot; operations.</td></tr><tr class="hit"><td class="line">325</td><td class="hits">1</td><td class="source">  var group = function(obj, value, context, behavior) {</td></tr><tr class="miss"><td class="line">326</td><td class="hits">0</td><td class="source">    var result = {};</td></tr><tr class="miss"><td class="line">327</td><td class="hits">0</td><td class="source">    var iterator = lookupIterator(value || _.identity);</td></tr><tr class="miss"><td class="line">328</td><td class="hits">0</td><td class="source">    each(obj, function(value, index) {</td></tr><tr class="miss"><td class="line">329</td><td class="hits">0</td><td class="source">      var key = iterator.call(context, value, index, obj);</td></tr><tr class="miss"><td class="line">330</td><td class="hits">0</td><td class="source">      behavior(result, key, value);</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">332</td><td class="hits">0</td><td class="source">    return result;</td></tr><tr class=""><td class="line">333</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">  // Groups the object&apos;s values by a criterion. Pass either a string attribute</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source">  // to group by, or a function that returns the criterion.</td></tr><tr class="hit"><td class="line">337</td><td class="hits">1</td><td class="source">  _.groupBy = function(obj, value, context) {</td></tr><tr class="miss"><td class="line">338</td><td class="hits">0</td><td class="source">    return group(obj, value, context, function(result, key, value) {</td></tr><tr class="miss"><td class="line">339</td><td class="hits">0</td><td class="source">      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);</td></tr><tr class=""><td class="line">340</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">341</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source">  // Counts instances of an object that group by a certain criterion. Pass</td></tr><tr class=""><td class="line">344</td><td class="hits"></td><td class="source">  // either a string attribute to count by, or a function that returns the</td></tr><tr class=""><td class="line">345</td><td class="hits"></td><td class="source">  // criterion.</td></tr><tr class="hit"><td class="line">346</td><td class="hits">1</td><td class="source">  _.countBy = function(obj, value, context) {</td></tr><tr class="miss"><td class="line">347</td><td class="hits">0</td><td class="source">    return group(obj, value, context, function(result, key) {</td></tr><tr class="miss"><td class="line">348</td><td class="hits">0</td><td class="source">      if (!_.has(result, key)) result[key] = 0;</td></tr><tr class="miss"><td class="line">349</td><td class="hits">0</td><td class="source">      result[key]++;</td></tr><tr class=""><td class="line">350</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">351</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">352</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">353</td><td class="hits"></td><td class="source">  // Use a comparator function to figure out the smallest index at which</td></tr><tr class=""><td class="line">354</td><td class="hits"></td><td class="source">  // an object should be inserted so as to maintain order. Uses binary search.</td></tr><tr class="hit"><td class="line">355</td><td class="hits">1</td><td class="source">  _.sortedIndex = function(array, obj, iterator, context) {</td></tr><tr class="miss"><td class="line">356</td><td class="hits">0</td><td class="source">    iterator = iterator == null ? _.identity : lookupIterator(iterator);</td></tr><tr class="miss"><td class="line">357</td><td class="hits">0</td><td class="source">    var value = iterator.call(context, obj);</td></tr><tr class="miss"><td class="line">358</td><td class="hits">0</td><td class="source">    var low = 0, high = array.length;</td></tr><tr class="miss"><td class="line">359</td><td class="hits">0</td><td class="source">    while (low &lt; high) {</td></tr><tr class="miss"><td class="line">360</td><td class="hits">0</td><td class="source">      var mid = (low + high) &gt;&gt;&gt; 1;</td></tr><tr class="miss"><td class="line">361</td><td class="hits">0</td><td class="source">      iterator.call(context, array[mid]) &lt; value ? low = mid + 1 : high = mid;</td></tr><tr class=""><td class="line">362</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">363</td><td class="hits">0</td><td class="source">    return low;</td></tr><tr class=""><td class="line">364</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">365</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">366</td><td class="hits"></td><td class="source">  // Safely convert anything iterable into a real, live array.</td></tr><tr class="hit"><td class="line">367</td><td class="hits">1</td><td class="source">  _.toArray = function(obj) {</td></tr><tr class="miss"><td class="line">368</td><td class="hits">0</td><td class="source">    if (!obj) return [];</td></tr><tr class="miss"><td class="line">369</td><td class="hits">0</td><td class="source">    if (_.isArray(obj)) return slice.call(obj);</td></tr><tr class="miss"><td class="line">370</td><td class="hits">0</td><td class="source">    if (obj.length === +obj.length) return _.map(obj, _.identity);</td></tr><tr class="miss"><td class="line">371</td><td class="hits">0</td><td class="source">    return _.values(obj);</td></tr><tr class=""><td class="line">372</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">373</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">374</td><td class="hits"></td><td class="source">  // Return the number of elements in an object.</td></tr><tr class="hit"><td class="line">375</td><td class="hits">1</td><td class="source">  _.size = function(obj) {</td></tr><tr class="hit"><td class="line">376</td><td class="hits">25988</td><td class="source">    if (obj == null) return 0;</td></tr><tr class="hit"><td class="line">377</td><td class="hits">25992</td><td class="source">    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;</td></tr><tr class=""><td class="line">378</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">379</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">380</td><td class="hits"></td><td class="source">  // Array Functions</td></tr><tr class=""><td class="line">381</td><td class="hits"></td><td class="source">  // ---------------</td></tr><tr class=""><td class="line">382</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">383</td><td class="hits"></td><td class="source">  // Get the first element of an array. Passing **n** will return the first N</td></tr><tr class=""><td class="line">384</td><td class="hits"></td><td class="source">  // values in the array. Aliased as `head` and `take`. The **guard** check</td></tr><tr class=""><td class="line">385</td><td class="hits"></td><td class="source">  // allows it to work with `_.map`.</td></tr><tr class="hit"><td class="line">386</td><td class="hits">1</td><td class="source">  _.first = _.head = _.take = function(array, n, guard) {</td></tr><tr class="miss"><td class="line">387</td><td class="hits">0</td><td class="source">    if (array == null) return void 0;</td></tr><tr class="miss"><td class="line">388</td><td class="hits">0</td><td class="source">    return (n != null) &amp;&amp; !guard ? slice.call(array, 0, n) : array[0];</td></tr><tr class=""><td class="line">389</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">390</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">391</td><td class="hits"></td><td class="source">  // Returns everything but the last entry of the array. Especially useful on</td></tr><tr class=""><td class="line">392</td><td class="hits"></td><td class="source">  // the arguments object. Passing **n** will return all the values in</td></tr><tr class=""><td class="line">393</td><td class="hits"></td><td class="source">  // the array, excluding the last N. The **guard** check allows it to work with</td></tr><tr class=""><td class="line">394</td><td class="hits"></td><td class="source">  // `_.map`.</td></tr><tr class="hit"><td class="line">395</td><td class="hits">1</td><td class="source">  _.initial = function(array, n, guard) {</td></tr><tr class="miss"><td class="line">396</td><td class="hits">0</td><td class="source">    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));</td></tr><tr class=""><td class="line">397</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">398</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">399</td><td class="hits"></td><td class="source">  // Get the last element of an array. Passing **n** will return the last N</td></tr><tr class=""><td class="line">400</td><td class="hits"></td><td class="source">  // values in the array. The **guard** check allows it to work with `_.map`.</td></tr><tr class="hit"><td class="line">401</td><td class="hits">1</td><td class="source">  _.last = function(array, n, guard) {</td></tr><tr class="miss"><td class="line">402</td><td class="hits">0</td><td class="source">    if (array == null) return void 0;</td></tr><tr class="miss"><td class="line">403</td><td class="hits">0</td><td class="source">    if ((n != null) &amp;&amp; !guard) {</td></tr><tr class="miss"><td class="line">404</td><td class="hits">0</td><td class="source">      return slice.call(array, Math.max(array.length - n, 0));</td></tr><tr class=""><td class="line">405</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="miss"><td class="line">406</td><td class="hits">0</td><td class="source">      return array[array.length - 1];</td></tr><tr class=""><td class="line">407</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">408</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">409</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">410</td><td class="hits"></td><td class="source">  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.</td></tr><tr class=""><td class="line">411</td><td class="hits"></td><td class="source">  // Especially useful on the arguments object. Passing an **n** will return</td></tr><tr class=""><td class="line">412</td><td class="hits"></td><td class="source">  // the rest N values in the array. The **guard**</td></tr><tr class=""><td class="line">413</td><td class="hits"></td><td class="source">  // check allows it to work with `_.map`.</td></tr><tr class="hit"><td class="line">414</td><td class="hits">1</td><td class="source">  _.rest = _.tail = _.drop = function(array, n, guard) {</td></tr><tr class="miss"><td class="line">415</td><td class="hits">0</td><td class="source">    return slice.call(array, (n == null) || guard ? 1 : n);</td></tr><tr class=""><td class="line">416</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">417</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">418</td><td class="hits"></td><td class="source">  // Trim out all falsy values from an array.</td></tr><tr class="hit"><td class="line">419</td><td class="hits">1</td><td class="source">  _.compact = function(array) {</td></tr><tr class="miss"><td class="line">420</td><td class="hits">0</td><td class="source">    return _.filter(array, _.identity);</td></tr><tr class=""><td class="line">421</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">422</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">423</td><td class="hits"></td><td class="source">  // Internal implementation of a recursive `flatten` function.</td></tr><tr class="hit"><td class="line">424</td><td class="hits">1</td><td class="source">  var flatten = function(input, shallow, output) {</td></tr><tr class="hit"><td class="line">425</td><td class="hits">12706</td><td class="source">    each(input, function(value) {</td></tr><tr class="hit"><td class="line">426</td><td class="hits">12708</td><td class="source">      if (_.isArray(value)) {</td></tr><tr class="hit"><td class="line">427</td><td class="hits">6355</td><td class="source">        shallow ? push.apply(output, value) : flatten(value, shallow, output);</td></tr><tr class=""><td class="line">428</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="hit"><td class="line">429</td><td class="hits">6357</td><td class="source">        output.push(value);</td></tr><tr class=""><td class="line">430</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">431</td><td class="hits"></td><td class="source">    });</td></tr><tr class="hit"><td class="line">432</td><td class="hits">12720</td><td class="source">    return output;</td></tr><tr class=""><td class="line">433</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">434</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">435</td><td class="hits"></td><td class="source">  // Return a completely flattened version of an array.</td></tr><tr class="hit"><td class="line">436</td><td class="hits">1</td><td class="source">  _.flatten = function(array, shallow) {</td></tr><tr class="hit"><td class="line">437</td><td class="hits">6365</td><td class="source">    return flatten(array, shallow, []);</td></tr><tr class=""><td class="line">438</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">439</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">440</td><td class="hits"></td><td class="source">  // Return a version of the array that does not contain the specified value(s).</td></tr><tr class="hit"><td class="line">441</td><td class="hits">1</td><td class="source">  _.without = function(array) {</td></tr><tr class="miss"><td class="line">442</td><td class="hits">0</td><td class="source">    return _.difference(array, slice.call(arguments, 1));</td></tr><tr class=""><td class="line">443</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">444</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">445</td><td class="hits"></td><td class="source">  // Produce a duplicate-free version of the array. If the array has already</td></tr><tr class=""><td class="line">446</td><td class="hits"></td><td class="source">  // been sorted, you have the option of using a faster algorithm.</td></tr><tr class=""><td class="line">447</td><td class="hits"></td><td class="source">  // Aliased as `unique`.</td></tr><tr class="hit"><td class="line">448</td><td class="hits">1</td><td class="source">  _.uniq = _.unique = function(array, isSorted, iterator, context) {</td></tr><tr class="hit"><td class="line">449</td><td class="hits">25713</td><td class="source">    if (_.isFunction(isSorted)) {</td></tr><tr class="miss"><td class="line">450</td><td class="hits">0</td><td class="source">      context = iterator;</td></tr><tr class="miss"><td class="line">451</td><td class="hits">0</td><td class="source">      iterator = isSorted;</td></tr><tr class="miss"><td class="line">452</td><td class="hits">0</td><td class="source">      isSorted = false;</td></tr><tr class=""><td class="line">453</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">454</td><td class="hits">25733</td><td class="source">    var initial = iterator ? _.map(array, iterator, context) : array;</td></tr><tr class="hit"><td class="line">455</td><td class="hits">25737</td><td class="source">    var results = [];</td></tr><tr class="hit"><td class="line">456</td><td class="hits">25741</td><td class="source">    var seen = [];</td></tr><tr class="hit"><td class="line">457</td><td class="hits">25745</td><td class="source">    each(initial, function(value, index) {</td></tr><tr class="hit"><td class="line">458</td><td class="hits">25749</td><td class="source">      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {</td></tr><tr class="hit"><td class="line">459</td><td class="hits">25753</td><td class="source">        seen.push(value);</td></tr><tr class="hit"><td class="line">460</td><td class="hits">25757</td><td class="source">        results.push(array[index]);</td></tr><tr class=""><td class="line">461</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">462</td><td class="hits"></td><td class="source">    });</td></tr><tr class="hit"><td class="line">463</td><td class="hits">25769</td><td class="source">    return results;</td></tr><tr class=""><td class="line">464</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">465</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">466</td><td class="hits"></td><td class="source">  // Produce an array that contains the union: each distinct element from all of</td></tr><tr class=""><td class="line">467</td><td class="hits"></td><td class="source">  // the passed-in arrays.</td></tr><tr class="hit"><td class="line">468</td><td class="hits">1</td><td class="source">  _.union = function() {</td></tr><tr class="miss"><td class="line">469</td><td class="hits">0</td><td class="source">    return _.uniq(concat.apply(ArrayProto, arguments));</td></tr><tr class=""><td class="line">470</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">471</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">472</td><td class="hits"></td><td class="source">  // Produce an array that contains every item shared between all the</td></tr><tr class=""><td class="line">473</td><td class="hits"></td><td class="source">  // passed-in arrays.</td></tr><tr class="hit"><td class="line">474</td><td class="hits">1</td><td class="source">  _.intersection = function(array) {</td></tr><tr class="miss"><td class="line">475</td><td class="hits">0</td><td class="source">    var rest = slice.call(arguments, 1);</td></tr><tr class="miss"><td class="line">476</td><td class="hits">0</td><td class="source">    return _.filter(_.uniq(array), function(item) {</td></tr><tr class="miss"><td class="line">477</td><td class="hits">0</td><td class="source">      return _.every(rest, function(other) {</td></tr><tr class="miss"><td class="line">478</td><td class="hits">0</td><td class="source">        return _.indexOf(other, item) &gt;= 0;</td></tr><tr class=""><td class="line">479</td><td class="hits"></td><td class="source">      });</td></tr><tr class=""><td class="line">480</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">481</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">482</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">483</td><td class="hits"></td><td class="source">  // Take the difference between one array and a number of other arrays.</td></tr><tr class=""><td class="line">484</td><td class="hits"></td><td class="source">  // Only the elements present in just the first array will remain.</td></tr><tr class="hit"><td class="line">485</td><td class="hits">1</td><td class="source">  _.difference = function(array) {</td></tr><tr class="hit"><td class="line">486</td><td class="hits">6416</td><td class="source">    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));</td></tr><tr class="hit"><td class="line">487</td><td class="hits">12885</td><td class="source">    return _.filter(array, function(value){ return !_.contains(rest, value); });</td></tr><tr class=""><td class="line">488</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">489</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">490</td><td class="hits"></td><td class="source">  // Zip together multiple lists into a single array -- elements that share</td></tr><tr class=""><td class="line">491</td><td class="hits"></td><td class="source">  // an index go together.</td></tr><tr class="hit"><td class="line">492</td><td class="hits">1</td><td class="source">  _.zip = function() {</td></tr><tr class="miss"><td class="line">493</td><td class="hits">0</td><td class="source">    var args = slice.call(arguments);</td></tr><tr class="miss"><td class="line">494</td><td class="hits">0</td><td class="source">    var length = _.max(_.pluck(args, &apos;length&apos;));</td></tr><tr class="miss"><td class="line">495</td><td class="hits">0</td><td class="source">    var results = new Array(length);</td></tr><tr class="miss"><td class="line">496</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; length; i++) {</td></tr><tr class="miss"><td class="line">497</td><td class="hits">0</td><td class="source">      results[i] = _.pluck(args, &quot;&quot; + i);</td></tr><tr class=""><td class="line">498</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">499</td><td class="hits">0</td><td class="source">    return results;</td></tr><tr class=""><td class="line">500</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">501</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">502</td><td class="hits"></td><td class="source">  // Converts lists into objects. Pass either a single array of `[key, value]`</td></tr><tr class=""><td class="line">503</td><td class="hits"></td><td class="source">  // pairs, or two parallel arrays of the same length -- one of keys, and one of</td></tr><tr class=""><td class="line">504</td><td class="hits"></td><td class="source">  // the corresponding values.</td></tr><tr class="hit"><td class="line">505</td><td class="hits">1</td><td class="source">  _.object = function(list, values) {</td></tr><tr class="miss"><td class="line">506</td><td class="hits">0</td><td class="source">    if (list == null) return {};</td></tr><tr class="miss"><td class="line">507</td><td class="hits">0</td><td class="source">    var result = {};</td></tr><tr class="miss"><td class="line">508</td><td class="hits">0</td><td class="source">    for (var i = 0, l = list.length; i &lt; l; i++) {</td></tr><tr class="miss"><td class="line">509</td><td class="hits">0</td><td class="source">      if (values) {</td></tr><tr class="miss"><td class="line">510</td><td class="hits">0</td><td class="source">        result[list[i]] = values[i];</td></tr><tr class=""><td class="line">511</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="miss"><td class="line">512</td><td class="hits">0</td><td class="source">        result[list[i][0]] = list[i][1];</td></tr><tr class=""><td class="line">513</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">514</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">515</td><td class="hits">0</td><td class="source">    return result;</td></tr><tr class=""><td class="line">516</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">517</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">518</td><td class="hits"></td><td class="source">  // If the browser doesn&apos;t supply us with indexOf (I&apos;m looking at you, **MSIE**),</td></tr><tr class=""><td class="line">519</td><td class="hits"></td><td class="source">  // we need this function. Return the position of the first occurrence of an</td></tr><tr class=""><td class="line">520</td><td class="hits"></td><td class="source">  // item in an array, or -1 if the item is not included in the array.</td></tr><tr class=""><td class="line">521</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `indexOf` if available.</td></tr><tr class=""><td class="line">522</td><td class="hits"></td><td class="source">  // If the array is large and already in sort order, pass `true`</td></tr><tr class=""><td class="line">523</td><td class="hits"></td><td class="source">  // for **isSorted** to use binary search.</td></tr><tr class="hit"><td class="line">524</td><td class="hits">1</td><td class="source">  _.indexOf = function(array, item, isSorted) {</td></tr><tr class="miss"><td class="line">525</td><td class="hits">0</td><td class="source">    if (array == null) return -1;</td></tr><tr class="miss"><td class="line">526</td><td class="hits">0</td><td class="source">    var i = 0, l = array.length;</td></tr><tr class="miss"><td class="line">527</td><td class="hits">0</td><td class="source">    if (isSorted) {</td></tr><tr class="miss"><td class="line">528</td><td class="hits">0</td><td class="source">      if (typeof isSorted == &apos;number&apos;) {</td></tr><tr class="miss"><td class="line">529</td><td class="hits">0</td><td class="source">        i = (isSorted &lt; 0 ? Math.max(0, l + isSorted) : isSorted);</td></tr><tr class=""><td class="line">530</td><td class="hits"></td><td class="source">      } else {</td></tr><tr class="miss"><td class="line">531</td><td class="hits">0</td><td class="source">        i = _.sortedIndex(array, item);</td></tr><tr class="miss"><td class="line">532</td><td class="hits">0</td><td class="source">        return array[i] === item ? i : -1;</td></tr><tr class=""><td class="line">533</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">534</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">535</td><td class="hits">0</td><td class="source">    if (nativeIndexOf &amp;&amp; array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);</td></tr><tr class="miss"><td class="line">536</td><td class="hits">0</td><td class="source">    for (; i &lt; l; i++) if (array[i] === item) return i;</td></tr><tr class="miss"><td class="line">537</td><td class="hits">0</td><td class="source">    return -1;</td></tr><tr class=""><td class="line">538</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">539</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">540</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `lastIndexOf` if available.</td></tr><tr class="hit"><td class="line">541</td><td class="hits">1</td><td class="source">  _.lastIndexOf = function(array, item, from) {</td></tr><tr class="miss"><td class="line">542</td><td class="hits">0</td><td class="source">    if (array == null) return -1;</td></tr><tr class="miss"><td class="line">543</td><td class="hits">0</td><td class="source">    var hasIndex = from != null;</td></tr><tr class="miss"><td class="line">544</td><td class="hits">0</td><td class="source">    if (nativeLastIndexOf &amp;&amp; array.lastIndexOf === nativeLastIndexOf) {</td></tr><tr class="miss"><td class="line">545</td><td class="hits">0</td><td class="source">      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);</td></tr><tr class=""><td class="line">546</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">547</td><td class="hits">0</td><td class="source">    var i = (hasIndex ? from : array.length);</td></tr><tr class="miss"><td class="line">548</td><td class="hits">0</td><td class="source">    while (i--) if (array[i] === item) return i;</td></tr><tr class="miss"><td class="line">549</td><td class="hits">0</td><td class="source">    return -1;</td></tr><tr class=""><td class="line">550</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">551</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">552</td><td class="hits"></td><td class="source">  // Generate an integer Array containing an arithmetic progression. A port of</td></tr><tr class=""><td class="line">553</td><td class="hits"></td><td class="source">  // the native Python `range()` function. See</td></tr><tr class=""><td class="line">554</td><td class="hits"></td><td class="source">  // [the Python documentation](http://docs.python.org/library/functions.html#range).</td></tr><tr class="hit"><td class="line">555</td><td class="hits">1</td><td class="source">  _.range = function(start, stop, step) {</td></tr><tr class="miss"><td class="line">556</td><td class="hits">0</td><td class="source">    if (arguments.length &lt;= 1) {</td></tr><tr class="miss"><td class="line">557</td><td class="hits">0</td><td class="source">      stop = start || 0;</td></tr><tr class="miss"><td class="line">558</td><td class="hits">0</td><td class="source">      start = 0;</td></tr><tr class=""><td class="line">559</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">560</td><td class="hits">0</td><td class="source">    step = arguments[2] || 1;</td></tr><tr class=""><td class="line">561</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">562</td><td class="hits">0</td><td class="source">    var len = Math.max(Math.ceil((stop - start) / step), 0);</td></tr><tr class="miss"><td class="line">563</td><td class="hits">0</td><td class="source">    var idx = 0;</td></tr><tr class="miss"><td class="line">564</td><td class="hits">0</td><td class="source">    var range = new Array(len);</td></tr><tr class=""><td class="line">565</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">566</td><td class="hits">0</td><td class="source">    while(idx &lt; len) {</td></tr><tr class="miss"><td class="line">567</td><td class="hits">0</td><td class="source">      range[idx++] = start;</td></tr><tr class="miss"><td class="line">568</td><td class="hits">0</td><td class="source">      start += step;</td></tr><tr class=""><td class="line">569</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">570</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">571</td><td class="hits">0</td><td class="source">    return range;</td></tr><tr class=""><td class="line">572</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">573</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">574</td><td class="hits"></td><td class="source">  // Function (ahem) Functions</td></tr><tr class=""><td class="line">575</td><td class="hits"></td><td class="source">  // ------------------</td></tr><tr class=""><td class="line">576</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">577</td><td class="hits"></td><td class="source">  // Create a function bound to a given object (assigning `this`, and arguments,</td></tr><tr class=""><td class="line">578</td><td class="hits"></td><td class="source">  // optionally). Delegates to **ECMAScript 5**&apos;s native `Function.bind` if</td></tr><tr class=""><td class="line">579</td><td class="hits"></td><td class="source">  // available.</td></tr><tr class="hit"><td class="line">580</td><td class="hits">1</td><td class="source">  _.bind = function(func, context) {</td></tr><tr class="miss"><td class="line">581</td><td class="hits">0</td><td class="source">    if (func.bind === nativeBind &amp;&amp; nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));</td></tr><tr class="miss"><td class="line">582</td><td class="hits">0</td><td class="source">    var args = slice.call(arguments, 2);</td></tr><tr class="miss"><td class="line">583</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">584</td><td class="hits">0</td><td class="source">      return func.apply(context, args.concat(slice.call(arguments)));</td></tr><tr class=""><td class="line">585</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">586</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">587</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">588</td><td class="hits"></td><td class="source">  // Partially apply a function by creating a version that has had some of its</td></tr><tr class=""><td class="line">589</td><td class="hits"></td><td class="source">  // arguments pre-filled, without changing its dynamic `this` context.</td></tr><tr class="hit"><td class="line">590</td><td class="hits">1</td><td class="source">  _.partial = function(func) {</td></tr><tr class="miss"><td class="line">591</td><td class="hits">0</td><td class="source">    var args = slice.call(arguments, 1);</td></tr><tr class="miss"><td class="line">592</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">593</td><td class="hits">0</td><td class="source">      return func.apply(this, args.concat(slice.call(arguments)));</td></tr><tr class=""><td class="line">594</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">595</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">596</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">597</td><td class="hits"></td><td class="source">  // Bind all of an object&apos;s methods to that object. Useful for ensuring that</td></tr><tr class=""><td class="line">598</td><td class="hits"></td><td class="source">  // all callbacks defined on an object belong to it.</td></tr><tr class="hit"><td class="line">599</td><td class="hits">1</td><td class="source">  _.bindAll = function(obj) {</td></tr><tr class="miss"><td class="line">600</td><td class="hits">0</td><td class="source">    var funcs = slice.call(arguments, 1);</td></tr><tr class="miss"><td class="line">601</td><td class="hits">0</td><td class="source">    if (funcs.length === 0) funcs = _.functions(obj);</td></tr><tr class="miss"><td class="line">602</td><td class="hits">0</td><td class="source">    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });</td></tr><tr class="miss"><td class="line">603</td><td class="hits">0</td><td class="source">    return obj;</td></tr><tr class=""><td class="line">604</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">605</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">606</td><td class="hits"></td><td class="source">  // Memoize an expensive function by storing its results.</td></tr><tr class="hit"><td class="line">607</td><td class="hits">1</td><td class="source">  _.memoize = function(func, hasher) {</td></tr><tr class="miss"><td class="line">608</td><td class="hits">0</td><td class="source">    var memo = {};</td></tr><tr class="miss"><td class="line">609</td><td class="hits">0</td><td class="source">    hasher || (hasher = _.identity);</td></tr><tr class="miss"><td class="line">610</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">611</td><td class="hits">0</td><td class="source">      var key = hasher.apply(this, arguments);</td></tr><tr class="miss"><td class="line">612</td><td class="hits">0</td><td class="source">      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));</td></tr><tr class=""><td class="line">613</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">614</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">615</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">616</td><td class="hits"></td><td class="source">  // Delays a function for the given number of milliseconds, and then calls</td></tr><tr class=""><td class="line">617</td><td class="hits"></td><td class="source">  // it with the arguments supplied.</td></tr><tr class="hit"><td class="line">618</td><td class="hits">1</td><td class="source">  _.delay = function(func, wait) {</td></tr><tr class="miss"><td class="line">619</td><td class="hits">0</td><td class="source">    var args = slice.call(arguments, 2);</td></tr><tr class="miss"><td class="line">620</td><td class="hits">0</td><td class="source">    return setTimeout(function(){ return func.apply(null, args); }, wait);</td></tr><tr class=""><td class="line">621</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">622</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">623</td><td class="hits"></td><td class="source">  // Defers a function, scheduling it to run after the current call stack has</td></tr><tr class=""><td class="line">624</td><td class="hits"></td><td class="source">  // cleared.</td></tr><tr class="hit"><td class="line">625</td><td class="hits">1</td><td class="source">  _.defer = function(func) {</td></tr><tr class="miss"><td class="line">626</td><td class="hits">0</td><td class="source">    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));</td></tr><tr class=""><td class="line">627</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">628</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">629</td><td class="hits"></td><td class="source">  // Returns a function, that, when invoked, will only be triggered at most once</td></tr><tr class=""><td class="line">630</td><td class="hits"></td><td class="source">  // during a given window of time.</td></tr><tr class="hit"><td class="line">631</td><td class="hits">1</td><td class="source">  _.throttle = function(func, wait) {</td></tr><tr class="miss"><td class="line">632</td><td class="hits">0</td><td class="source">    var context, args, timeout, result;</td></tr><tr class="miss"><td class="line">633</td><td class="hits">0</td><td class="source">    var previous = 0;</td></tr><tr class="miss"><td class="line">634</td><td class="hits">0</td><td class="source">    var later = function() {</td></tr><tr class="miss"><td class="line">635</td><td class="hits">0</td><td class="source">      previous = new Date;</td></tr><tr class="miss"><td class="line">636</td><td class="hits">0</td><td class="source">      timeout = null;</td></tr><tr class="miss"><td class="line">637</td><td class="hits">0</td><td class="source">      result = func.apply(context, args);</td></tr><tr class=""><td class="line">638</td><td class="hits"></td><td class="source">    };</td></tr><tr class="miss"><td class="line">639</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">640</td><td class="hits">0</td><td class="source">      var now = new Date;</td></tr><tr class="miss"><td class="line">641</td><td class="hits">0</td><td class="source">      var remaining = wait - (now - previous);</td></tr><tr class="miss"><td class="line">642</td><td class="hits">0</td><td class="source">      context = this;</td></tr><tr class="miss"><td class="line">643</td><td class="hits">0</td><td class="source">      args = arguments;</td></tr><tr class="miss"><td class="line">644</td><td class="hits">0</td><td class="source">      if (remaining &lt;= 0) {</td></tr><tr class="miss"><td class="line">645</td><td class="hits">0</td><td class="source">        clearTimeout(timeout);</td></tr><tr class="miss"><td class="line">646</td><td class="hits">0</td><td class="source">        timeout = null;</td></tr><tr class="miss"><td class="line">647</td><td class="hits">0</td><td class="source">        previous = now;</td></tr><tr class="miss"><td class="line">648</td><td class="hits">0</td><td class="source">        result = func.apply(context, args);</td></tr><tr class="miss"><td class="line">649</td><td class="hits">0</td><td class="source">      } else if (!timeout) {</td></tr><tr class="miss"><td class="line">650</td><td class="hits">0</td><td class="source">        timeout = setTimeout(later, remaining);</td></tr><tr class=""><td class="line">651</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">652</td><td class="hits">0</td><td class="source">      return result;</td></tr><tr class=""><td class="line">653</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">654</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">655</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">656</td><td class="hits"></td><td class="source">  // Returns a function, that, as long as it continues to be invoked, will not</td></tr><tr class=""><td class="line">657</td><td class="hits"></td><td class="source">  // be triggered. The function will be called after it stops being called for</td></tr><tr class=""><td class="line">658</td><td class="hits"></td><td class="source">  // N milliseconds. If `immediate` is passed, trigger the function on the</td></tr><tr class=""><td class="line">659</td><td class="hits"></td><td class="source">  // leading edge, instead of the trailing.</td></tr><tr class="hit"><td class="line">660</td><td class="hits">1</td><td class="source">  _.debounce = function(func, wait, immediate) {</td></tr><tr class="miss"><td class="line">661</td><td class="hits">0</td><td class="source">    var timeout, result;</td></tr><tr class="miss"><td class="line">662</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">663</td><td class="hits">0</td><td class="source">      var context = this, args = arguments;</td></tr><tr class="miss"><td class="line">664</td><td class="hits">0</td><td class="source">      var later = function() {</td></tr><tr class="miss"><td class="line">665</td><td class="hits">0</td><td class="source">        timeout = null;</td></tr><tr class="miss"><td class="line">666</td><td class="hits">0</td><td class="source">        if (!immediate) result = func.apply(context, args);</td></tr><tr class=""><td class="line">667</td><td class="hits"></td><td class="source">      };</td></tr><tr class="miss"><td class="line">668</td><td class="hits">0</td><td class="source">      var callNow = immediate &amp;&amp; !timeout;</td></tr><tr class="miss"><td class="line">669</td><td class="hits">0</td><td class="source">      clearTimeout(timeout);</td></tr><tr class="miss"><td class="line">670</td><td class="hits">0</td><td class="source">      timeout = setTimeout(later, wait);</td></tr><tr class="miss"><td class="line">671</td><td class="hits">0</td><td class="source">      if (callNow) result = func.apply(context, args);</td></tr><tr class="miss"><td class="line">672</td><td class="hits">0</td><td class="source">      return result;</td></tr><tr class=""><td class="line">673</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">674</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">675</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">676</td><td class="hits"></td><td class="source">  // Returns a function that will be executed at most one time, no matter how</td></tr><tr class=""><td class="line">677</td><td class="hits"></td><td class="source">  // often you call it. Useful for lazy initialization.</td></tr><tr class="hit"><td class="line">678</td><td class="hits">1</td><td class="source">  _.once = function(func) {</td></tr><tr class="miss"><td class="line">679</td><td class="hits">0</td><td class="source">    var ran = false, memo;</td></tr><tr class="miss"><td class="line">680</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">681</td><td class="hits">0</td><td class="source">      if (ran) return memo;</td></tr><tr class="miss"><td class="line">682</td><td class="hits">0</td><td class="source">      ran = true;</td></tr><tr class="miss"><td class="line">683</td><td class="hits">0</td><td class="source">      memo = func.apply(this, arguments);</td></tr><tr class="miss"><td class="line">684</td><td class="hits">0</td><td class="source">      func = null;</td></tr><tr class="miss"><td class="line">685</td><td class="hits">0</td><td class="source">      return memo;</td></tr><tr class=""><td class="line">686</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">687</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">688</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">689</td><td class="hits"></td><td class="source">  // Returns the first function passed as an argument to the second,</td></tr><tr class=""><td class="line">690</td><td class="hits"></td><td class="source">  // allowing you to adjust arguments, run code before and after, and</td></tr><tr class=""><td class="line">691</td><td class="hits"></td><td class="source">  // conditionally execute the original function.</td></tr><tr class="hit"><td class="line">692</td><td class="hits">1</td><td class="source">  _.wrap = function(func, wrapper) {</td></tr><tr class="miss"><td class="line">693</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">694</td><td class="hits">0</td><td class="source">      var args = [func];</td></tr><tr class="miss"><td class="line">695</td><td class="hits">0</td><td class="source">      push.apply(args, arguments);</td></tr><tr class="miss"><td class="line">696</td><td class="hits">0</td><td class="source">      return wrapper.apply(this, args);</td></tr><tr class=""><td class="line">697</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">698</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">699</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">700</td><td class="hits"></td><td class="source">  // Returns a function that is the composition of a list of functions, each</td></tr><tr class=""><td class="line">701</td><td class="hits"></td><td class="source">  // consuming the return value of the function that follows.</td></tr><tr class="hit"><td class="line">702</td><td class="hits">1</td><td class="source">  _.compose = function() {</td></tr><tr class="miss"><td class="line">703</td><td class="hits">0</td><td class="source">    var funcs = arguments;</td></tr><tr class="miss"><td class="line">704</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">705</td><td class="hits">0</td><td class="source">      var args = arguments;</td></tr><tr class="miss"><td class="line">706</td><td class="hits">0</td><td class="source">      for (var i = funcs.length - 1; i &gt;= 0; i--) {</td></tr><tr class="miss"><td class="line">707</td><td class="hits">0</td><td class="source">        args = [funcs[i].apply(this, args)];</td></tr><tr class=""><td class="line">708</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">709</td><td class="hits">0</td><td class="source">      return args[0];</td></tr><tr class=""><td class="line">710</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">711</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">712</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">713</td><td class="hits"></td><td class="source">  // Returns a function that will only be executed after being called N times.</td></tr><tr class="hit"><td class="line">714</td><td class="hits">1</td><td class="source">  _.after = function(times, func) {</td></tr><tr class="miss"><td class="line">715</td><td class="hits">0</td><td class="source">    if (times &lt;= 0) return func();</td></tr><tr class="miss"><td class="line">716</td><td class="hits">0</td><td class="source">    return function() {</td></tr><tr class="miss"><td class="line">717</td><td class="hits">0</td><td class="source">      if (--times &lt; 1) {</td></tr><tr class="miss"><td class="line">718</td><td class="hits">0</td><td class="source">        return func.apply(this, arguments);</td></tr><tr class=""><td class="line">719</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">720</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">721</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">722</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">723</td><td class="hits"></td><td class="source">  // Object Functions</td></tr><tr class=""><td class="line">724</td><td class="hits"></td><td class="source">  // ----------------</td></tr><tr class=""><td class="line">725</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">726</td><td class="hits"></td><td class="source">  // Retrieve the names of an object&apos;s properties.</td></tr><tr class=""><td class="line">727</td><td class="hits"></td><td class="source">  // Delegates to **ECMAScript 5**&apos;s native `Object.keys`</td></tr><tr class="hit"><td class="line">728</td><td class="hits">1</td><td class="source">  _.keys = nativeKeys || function(obj) {</td></tr><tr class="miss"><td class="line">729</td><td class="hits">0</td><td class="source">    if (obj !== Object(obj)) throw new TypeError(&apos;Invalid object&apos;);</td></tr><tr class="miss"><td class="line">730</td><td class="hits">0</td><td class="source">    var keys = [];</td></tr><tr class="miss"><td class="line">731</td><td class="hits">0</td><td class="source">    for (var key in obj) if (_.has(obj, key)) keys[keys.length] = key;</td></tr><tr class="miss"><td class="line">732</td><td class="hits">0</td><td class="source">    return keys;</td></tr><tr class=""><td class="line">733</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">734</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">735</td><td class="hits"></td><td class="source">  // Retrieve the values of an object&apos;s properties.</td></tr><tr class="hit"><td class="line">736</td><td class="hits">1</td><td class="source">  _.values = function(obj) {</td></tr><tr class="miss"><td class="line">737</td><td class="hits">0</td><td class="source">    var values = [];</td></tr><tr class="miss"><td class="line">738</td><td class="hits">0</td><td class="source">    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);</td></tr><tr class="miss"><td class="line">739</td><td class="hits">0</td><td class="source">    return values;</td></tr><tr class=""><td class="line">740</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">741</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">742</td><td class="hits"></td><td class="source">  // Convert an object into a list of `[key, value]` pairs.</td></tr><tr class="hit"><td class="line">743</td><td class="hits">1</td><td class="source">  _.pairs = function(obj) {</td></tr><tr class="miss"><td class="line">744</td><td class="hits">0</td><td class="source">    var pairs = [];</td></tr><tr class="miss"><td class="line">745</td><td class="hits">0</td><td class="source">    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);</td></tr><tr class="miss"><td class="line">746</td><td class="hits">0</td><td class="source">    return pairs;</td></tr><tr class=""><td class="line">747</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">748</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">749</td><td class="hits"></td><td class="source">  // Invert the keys and values of an object. The values must be serializable.</td></tr><tr class="hit"><td class="line">750</td><td class="hits">1</td><td class="source">  _.invert = function(obj) {</td></tr><tr class="hit"><td class="line">751</td><td class="hits">1</td><td class="source">    var result = {};</td></tr><tr class="hit"><td class="line">752</td><td class="hits">13</td><td class="source">    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;</td></tr><tr class="hit"><td class="line">753</td><td class="hits">1</td><td class="source">    return result;</td></tr><tr class=""><td class="line">754</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">755</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">756</td><td class="hits"></td><td class="source">  // Return a sorted list of the function names available on the object.</td></tr><tr class=""><td class="line">757</td><td class="hits"></td><td class="source">  // Aliased as `methods`</td></tr><tr class="hit"><td class="line">758</td><td class="hits">1</td><td class="source">  _.functions = _.methods = function(obj) {</td></tr><tr class="hit"><td class="line">759</td><td class="hits">1</td><td class="source">    var names = [];</td></tr><tr class="hit"><td class="line">760</td><td class="hits">1</td><td class="source">    for (var key in obj) {</td></tr><tr class="hit"><td class="line">761</td><td class="hits">216</td><td class="source">      if (_.isFunction(obj[key])) names.push(key);</td></tr><tr class=""><td class="line">762</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">763</td><td class="hits">1</td><td class="source">    return names.sort();</td></tr><tr class=""><td class="line">764</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">765</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">766</td><td class="hits"></td><td class="source">  // Extend a given object with all the properties in passed-in object(s).</td></tr><tr class="hit"><td class="line">767</td><td class="hits">1</td><td class="source">  _.extend = function(obj) {</td></tr><tr class="hit"><td class="line">768</td><td class="hits">97338</td><td class="source">    each(slice.call(arguments, 1), function(source) {</td></tr><tr class="hit"><td class="line">769</td><td class="hits">194703</td><td class="source">      if (source) {</td></tr><tr class="hit"><td class="line">770</td><td class="hits">194735</td><td class="source">        for (var prop in source) {</td></tr><tr class="hit"><td class="line">771</td><td class="hits">248305</td><td class="source">          obj[prop] = source[prop];</td></tr><tr class=""><td class="line">772</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">773</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">774</td><td class="hits"></td><td class="source">    });</td></tr><tr class="hit"><td class="line">775</td><td class="hits">97441</td><td class="source">    return obj;</td></tr><tr class=""><td class="line">776</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">777</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">778</td><td class="hits"></td><td class="source">  // Return a copy of the object only containing the whitelisted properties.</td></tr><tr class="hit"><td class="line">779</td><td class="hits">1</td><td class="source">  _.pick = function(obj) {</td></tr><tr class="miss"><td class="line">780</td><td class="hits">0</td><td class="source">    var copy = {};</td></tr><tr class="miss"><td class="line">781</td><td class="hits">0</td><td class="source">    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));</td></tr><tr class="miss"><td class="line">782</td><td class="hits">0</td><td class="source">    each(keys, function(key) {</td></tr><tr class="miss"><td class="line">783</td><td class="hits">0</td><td class="source">      if (key in obj) copy[key] = obj[key];</td></tr><tr class=""><td class="line">784</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">785</td><td class="hits">0</td><td class="source">    return copy;</td></tr><tr class=""><td class="line">786</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">787</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">788</td><td class="hits"></td><td class="source">   // Return a copy of the object without the blacklisted properties.</td></tr><tr class="hit"><td class="line">789</td><td class="hits">1</td><td class="source">  _.omit = function(obj) {</td></tr><tr class="miss"><td class="line">790</td><td class="hits">0</td><td class="source">    var copy = {};</td></tr><tr class="miss"><td class="line">791</td><td class="hits">0</td><td class="source">    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));</td></tr><tr class="miss"><td class="line">792</td><td class="hits">0</td><td class="source">    for (var key in obj) {</td></tr><tr class="miss"><td class="line">793</td><td class="hits">0</td><td class="source">      if (!_.contains(keys, key)) copy[key] = obj[key];</td></tr><tr class=""><td class="line">794</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">795</td><td class="hits">0</td><td class="source">    return copy;</td></tr><tr class=""><td class="line">796</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">797</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">798</td><td class="hits"></td><td class="source">  // Fill in a given object with default properties.</td></tr><tr class="hit"><td class="line">799</td><td class="hits">1</td><td class="source">  _.defaults = function(obj) {</td></tr><tr class="miss"><td class="line">800</td><td class="hits">0</td><td class="source">    each(slice.call(arguments, 1), function(source) {</td></tr><tr class="miss"><td class="line">801</td><td class="hits">0</td><td class="source">      if (source) {</td></tr><tr class="miss"><td class="line">802</td><td class="hits">0</td><td class="source">        for (var prop in source) {</td></tr><tr class="miss"><td class="line">803</td><td class="hits">0</td><td class="source">          if (obj[prop] == null) obj[prop] = source[prop];</td></tr><tr class=""><td class="line">804</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">805</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">806</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">807</td><td class="hits">0</td><td class="source">    return obj;</td></tr><tr class=""><td class="line">808</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">809</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">810</td><td class="hits"></td><td class="source">  // Create a (shallow-cloned) duplicate of an object.</td></tr><tr class="hit"><td class="line">811</td><td class="hits">1</td><td class="source">  _.clone = function(obj) {</td></tr><tr class="miss"><td class="line">812</td><td class="hits">0</td><td class="source">    if (!_.isObject(obj)) return obj;</td></tr><tr class="miss"><td class="line">813</td><td class="hits">0</td><td class="source">    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);</td></tr><tr class=""><td class="line">814</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">815</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">816</td><td class="hits"></td><td class="source">  // Invokes interceptor with the obj, and then returns obj.</td></tr><tr class=""><td class="line">817</td><td class="hits"></td><td class="source">  // The primary purpose of this method is to &quot;tap into&quot; a method chain, in</td></tr><tr class=""><td class="line">818</td><td class="hits"></td><td class="source">  // order to perform operations on intermediate results within the chain.</td></tr><tr class="hit"><td class="line">819</td><td class="hits">1</td><td class="source">  _.tap = function(obj, interceptor) {</td></tr><tr class="miss"><td class="line">820</td><td class="hits">0</td><td class="source">    interceptor(obj);</td></tr><tr class="miss"><td class="line">821</td><td class="hits">0</td><td class="source">    return obj;</td></tr><tr class=""><td class="line">822</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">823</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">824</td><td class="hits"></td><td class="source">  // Internal recursive comparison function for `isEqual`.</td></tr><tr class="hit"><td class="line">825</td><td class="hits">1</td><td class="source">  var eq = function(a, b, aStack, bStack) {</td></tr><tr class=""><td class="line">826</td><td class="hits"></td><td class="source">    // Identical objects are equal. `0 === -0`, but they aren&apos;t identical.</td></tr><tr class=""><td class="line">827</td><td class="hits"></td><td class="source">    // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.</td></tr><tr class="miss"><td class="line">828</td><td class="hits">0</td><td class="source">    if (a === b) return a !== 0 || 1 / a == 1 / b;</td></tr><tr class=""><td class="line">829</td><td class="hits"></td><td class="source">    // A strict comparison is necessary because `null == undefined`.</td></tr><tr class="miss"><td class="line">830</td><td class="hits">0</td><td class="source">    if (a == null || b == null) return a === b;</td></tr><tr class=""><td class="line">831</td><td class="hits"></td><td class="source">    // Unwrap any wrapped objects.</td></tr><tr class="miss"><td class="line">832</td><td class="hits">0</td><td class="source">    if (a instanceof _) a = a._wrapped;</td></tr><tr class="miss"><td class="line">833</td><td class="hits">0</td><td class="source">    if (b instanceof _) b = b._wrapped;</td></tr><tr class=""><td class="line">834</td><td class="hits"></td><td class="source">    // Compare `[[Class]]` names.</td></tr><tr class="miss"><td class="line">835</td><td class="hits">0</td><td class="source">    var className = toString.call(a);</td></tr><tr class="miss"><td class="line">836</td><td class="hits">0</td><td class="source">    if (className != toString.call(b)) return false;</td></tr><tr class="miss"><td class="line">837</td><td class="hits">0</td><td class="source">    switch (className) {</td></tr><tr class=""><td class="line">838</td><td class="hits"></td><td class="source">      // Strings, numbers, dates, and booleans are compared by value.</td></tr><tr class=""><td class="line">839</td><td class="hits"></td><td class="source">      case &apos;[object String]&apos;:</td></tr><tr class=""><td class="line">840</td><td class="hits"></td><td class="source">        // Primitives and their corresponding object wrappers are equivalent; thus, `&quot;5&quot;` is</td></tr><tr class=""><td class="line">841</td><td class="hits"></td><td class="source">        // equivalent to `new String(&quot;5&quot;)`.</td></tr><tr class="miss"><td class="line">842</td><td class="hits">0</td><td class="source">        return a == String(b);</td></tr><tr class=""><td class="line">843</td><td class="hits"></td><td class="source">      case &apos;[object Number]&apos;:</td></tr><tr class=""><td class="line">844</td><td class="hits"></td><td class="source">        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for</td></tr><tr class=""><td class="line">845</td><td class="hits"></td><td class="source">        // other numeric values.</td></tr><tr class="miss"><td class="line">846</td><td class="hits">0</td><td class="source">        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);</td></tr><tr class=""><td class="line">847</td><td class="hits"></td><td class="source">      case &apos;[object Date]&apos;:</td></tr><tr class=""><td class="line">848</td><td class="hits"></td><td class="source">      case &apos;[object Boolean]&apos;:</td></tr><tr class=""><td class="line">849</td><td class="hits"></td><td class="source">        // Coerce dates and booleans to numeric primitive values. Dates are compared by their</td></tr><tr class=""><td class="line">850</td><td class="hits"></td><td class="source">        // millisecond representations. Note that invalid dates with millisecond representations</td></tr><tr class=""><td class="line">851</td><td class="hits"></td><td class="source">        // of `NaN` are not equivalent.</td></tr><tr class="miss"><td class="line">852</td><td class="hits">0</td><td class="source">        return +a == +b;</td></tr><tr class=""><td class="line">853</td><td class="hits"></td><td class="source">      // RegExps are compared by their source patterns and flags.</td></tr><tr class=""><td class="line">854</td><td class="hits"></td><td class="source">      case &apos;[object RegExp]&apos;:</td></tr><tr class="miss"><td class="line">855</td><td class="hits">0</td><td class="source">        return a.source == b.source &amp;&amp;</td></tr><tr class=""><td class="line">856</td><td class="hits"></td><td class="source">               a.global == b.global &amp;&amp;</td></tr><tr class=""><td class="line">857</td><td class="hits"></td><td class="source">               a.multiline == b.multiline &amp;&amp;</td></tr><tr class=""><td class="line">858</td><td class="hits"></td><td class="source">               a.ignoreCase == b.ignoreCase;</td></tr><tr class=""><td class="line">859</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">860</td><td class="hits">0</td><td class="source">    if (typeof a != &apos;object&apos; || typeof b != &apos;object&apos;) return false;</td></tr><tr class=""><td class="line">861</td><td class="hits"></td><td class="source">    // Assume equality for cyclic structures. The algorithm for detecting cyclic</td></tr><tr class=""><td class="line">862</td><td class="hits"></td><td class="source">    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.</td></tr><tr class="miss"><td class="line">863</td><td class="hits">0</td><td class="source">    var length = aStack.length;</td></tr><tr class="miss"><td class="line">864</td><td class="hits">0</td><td class="source">    while (length--) {</td></tr><tr class=""><td class="line">865</td><td class="hits"></td><td class="source">      // Linear search. Performance is inversely proportional to the number of</td></tr><tr class=""><td class="line">866</td><td class="hits"></td><td class="source">      // unique nested structures.</td></tr><tr class="miss"><td class="line">867</td><td class="hits">0</td><td class="source">      if (aStack[length] == a) return bStack[length] == b;</td></tr><tr class=""><td class="line">868</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">869</td><td class="hits"></td><td class="source">    // Add the first object to the stack of traversed objects.</td></tr><tr class="miss"><td class="line">870</td><td class="hits">0</td><td class="source">    aStack.push(a);</td></tr><tr class="miss"><td class="line">871</td><td class="hits">0</td><td class="source">    bStack.push(b);</td></tr><tr class="miss"><td class="line">872</td><td class="hits">0</td><td class="source">    var size = 0, result = true;</td></tr><tr class=""><td class="line">873</td><td class="hits"></td><td class="source">    // Recursively compare objects and arrays.</td></tr><tr class="miss"><td class="line">874</td><td class="hits">0</td><td class="source">    if (className == &apos;[object Array]&apos;) {</td></tr><tr class=""><td class="line">875</td><td class="hits"></td><td class="source">      // Compare array lengths to determine if a deep comparison is necessary.</td></tr><tr class="miss"><td class="line">876</td><td class="hits">0</td><td class="source">      size = a.length;</td></tr><tr class="miss"><td class="line">877</td><td class="hits">0</td><td class="source">      result = size == b.length;</td></tr><tr class="miss"><td class="line">878</td><td class="hits">0</td><td class="source">      if (result) {</td></tr><tr class=""><td class="line">879</td><td class="hits"></td><td class="source">        // Deep compare the contents, ignoring non-numeric properties.</td></tr><tr class="miss"><td class="line">880</td><td class="hits">0</td><td class="source">        while (size--) {</td></tr><tr class="miss"><td class="line">881</td><td class="hits">0</td><td class="source">          if (!(result = eq(a[size], b[size], aStack, bStack))) break;</td></tr><tr class=""><td class="line">882</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">883</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">884</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class=""><td class="line">885</td><td class="hits"></td><td class="source">      // Objects with different constructors are not equivalent, but `Object`s</td></tr><tr class=""><td class="line">886</td><td class="hits"></td><td class="source">      // from different frames are.</td></tr><tr class="miss"><td class="line">887</td><td class="hits">0</td><td class="source">      var aCtor = a.constructor, bCtor = b.constructor;</td></tr><tr class="miss"><td class="line">888</td><td class="hits">0</td><td class="source">      if (aCtor !== bCtor &amp;&amp; !(_.isFunction(aCtor) &amp;&amp; (aCtor instanceof aCtor) &amp;&amp;</td></tr><tr class=""><td class="line">889</td><td class="hits"></td><td class="source">                               _.isFunction(bCtor) &amp;&amp; (bCtor instanceof bCtor))) {</td></tr><tr class="miss"><td class="line">890</td><td class="hits">0</td><td class="source">        return false;</td></tr><tr class=""><td class="line">891</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">892</td><td class="hits"></td><td class="source">      // Deep compare objects.</td></tr><tr class="miss"><td class="line">893</td><td class="hits">0</td><td class="source">      for (var key in a) {</td></tr><tr class="miss"><td class="line">894</td><td class="hits">0</td><td class="source">        if (_.has(a, key)) {</td></tr><tr class=""><td class="line">895</td><td class="hits"></td><td class="source">          // Count the expected number of properties.</td></tr><tr class="miss"><td class="line">896</td><td class="hits">0</td><td class="source">          size++;</td></tr><tr class=""><td class="line">897</td><td class="hits"></td><td class="source">          // Deep compare each member.</td></tr><tr class="miss"><td class="line">898</td><td class="hits">0</td><td class="source">          if (!(result = _.has(b, key) &amp;&amp; eq(a[key], b[key], aStack, bStack))) break;</td></tr><tr class=""><td class="line">899</td><td class="hits"></td><td class="source">        }</td></tr><tr class=""><td class="line">900</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">901</td><td class="hits"></td><td class="source">      // Ensure that both objects contain the same number of properties.</td></tr><tr class="miss"><td class="line">902</td><td class="hits">0</td><td class="source">      if (result) {</td></tr><tr class="miss"><td class="line">903</td><td class="hits">0</td><td class="source">        for (key in b) {</td></tr><tr class="miss"><td class="line">904</td><td class="hits">0</td><td class="source">          if (_.has(b, key) &amp;&amp; !(size--)) break;</td></tr><tr class=""><td class="line">905</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">906</td><td class="hits">0</td><td class="source">        result = !size;</td></tr><tr class=""><td class="line">907</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">908</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">909</td><td class="hits"></td><td class="source">    // Remove the first object from the stack of traversed objects.</td></tr><tr class="miss"><td class="line">910</td><td class="hits">0</td><td class="source">    aStack.pop();</td></tr><tr class="miss"><td class="line">911</td><td class="hits">0</td><td class="source">    bStack.pop();</td></tr><tr class="miss"><td class="line">912</td><td class="hits">0</td><td class="source">    return result;</td></tr><tr class=""><td class="line">913</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">914</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">915</td><td class="hits"></td><td class="source">  // Perform a deep comparison to check if two objects are equal.</td></tr><tr class="hit"><td class="line">916</td><td class="hits">1</td><td class="source">  _.isEqual = function(a, b) {</td></tr><tr class="miss"><td class="line">917</td><td class="hits">0</td><td class="source">    return eq(a, b, [], []);</td></tr><tr class=""><td class="line">918</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">919</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">920</td><td class="hits"></td><td class="source">  // Is a given array, string, or object empty?</td></tr><tr class=""><td class="line">921</td><td class="hits"></td><td class="source">  // An &quot;empty&quot; object has no enumerable own-properties.</td></tr><tr class="hit"><td class="line">922</td><td class="hits">1</td><td class="source">  _.isEmpty = function(obj) {</td></tr><tr class="miss"><td class="line">923</td><td class="hits">0</td><td class="source">    if (obj == null) return true;</td></tr><tr class="miss"><td class="line">924</td><td class="hits">0</td><td class="source">    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;</td></tr><tr class="miss"><td class="line">925</td><td class="hits">0</td><td class="source">    for (var key in obj) if (_.has(obj, key)) return false;</td></tr><tr class="miss"><td class="line">926</td><td class="hits">0</td><td class="source">    return true;</td></tr><tr class=""><td class="line">927</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">928</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">929</td><td class="hits"></td><td class="source">  // Is a given value a DOM element?</td></tr><tr class="hit"><td class="line">930</td><td class="hits">1</td><td class="source">  _.isElement = function(obj) {</td></tr><tr class="miss"><td class="line">931</td><td class="hits">0</td><td class="source">    return !!(obj &amp;&amp; obj.nodeType === 1);</td></tr><tr class=""><td class="line">932</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">933</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">934</td><td class="hits"></td><td class="source">  // Is a given value an array?</td></tr><tr class=""><td class="line">935</td><td class="hits"></td><td class="source">  // Delegates to ECMA5&apos;s native Array.isArray</td></tr><tr class="hit"><td class="line">936</td><td class="hits">1</td><td class="source">  _.isArray = nativeIsArray || function(obj) {</td></tr><tr class="miss"><td class="line">937</td><td class="hits">0</td><td class="source">    return toString.call(obj) == &apos;[object Array]&apos;;</td></tr><tr class=""><td class="line">938</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">939</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">940</td><td class="hits"></td><td class="source">  // Is a given variable an object?</td></tr><tr class="hit"><td class="line">941</td><td class="hits">1</td><td class="source">  _.isObject = function(obj) {</td></tr><tr class="miss"><td class="line">942</td><td class="hits">0</td><td class="source">    return obj === Object(obj);</td></tr><tr class=""><td class="line">943</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">944</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">945</td><td class="hits"></td><td class="source">  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.</td></tr><tr class="hit"><td class="line">946</td><td class="hits">1</td><td class="source">  each([&apos;Arguments&apos;, &apos;Function&apos;, &apos;String&apos;, &apos;Number&apos;, &apos;Date&apos;, &apos;RegExp&apos;], function(name) {</td></tr><tr class="hit"><td class="line">947</td><td class="hits">6</td><td class="source">    _[&apos;is&apos; + name] = function(obj) {</td></tr><tr class="hit"><td class="line">948</td><td class="hits">3223</td><td class="source">      return toString.call(obj) == &apos;[object &apos; + name + &apos;]&apos;;</td></tr><tr class=""><td class="line">949</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">950</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">951</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">952</td><td class="hits"></td><td class="source">  // Define a fallback version of the method in browsers (ahem, IE), where</td></tr><tr class=""><td class="line">953</td><td class="hits"></td><td class="source">  // there isn&apos;t any inspectable &quot;Arguments&quot; type.</td></tr><tr class="hit"><td class="line">954</td><td class="hits">1</td><td class="source">  if (!_.isArguments(arguments)) {</td></tr><tr class="miss"><td class="line">955</td><td class="hits">0</td><td class="source">    _.isArguments = function(obj) {</td></tr><tr class="miss"><td class="line">956</td><td class="hits">0</td><td class="source">      return !!(obj &amp;&amp; _.has(obj, &apos;callee&apos;));</td></tr><tr class=""><td class="line">957</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">958</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">959</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">960</td><td class="hits"></td><td class="source">  // Optimize `isFunction` if appropriate.</td></tr><tr class="hit"><td class="line">961</td><td class="hits">1</td><td class="source">  if (typeof (/./) !== &apos;function&apos;) {</td></tr><tr class="hit"><td class="line">962</td><td class="hits">1</td><td class="source">    _.isFunction = function(obj) {</td></tr><tr class="hit"><td class="line">963</td><td class="hits">65381</td><td class="source">      return typeof obj === &apos;function&apos;;</td></tr><tr class=""><td class="line">964</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">965</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">966</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">967</td><td class="hits"></td><td class="source">  // Is a given object a finite number?</td></tr><tr class="hit"><td class="line">968</td><td class="hits">1</td><td class="source">  _.isFinite = function(obj) {</td></tr><tr class="miss"><td class="line">969</td><td class="hits">0</td><td class="source">    return isFinite(obj) &amp;&amp; !isNaN(parseFloat(obj));</td></tr><tr class=""><td class="line">970</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">971</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">972</td><td class="hits"></td><td class="source">  // Is the given value `NaN`? (NaN is the only number which does not equal itself).</td></tr><tr class="hit"><td class="line">973</td><td class="hits">1</td><td class="source">  _.isNaN = function(obj) {</td></tr><tr class="miss"><td class="line">974</td><td class="hits">0</td><td class="source">    return _.isNumber(obj) &amp;&amp; obj != +obj;</td></tr><tr class=""><td class="line">975</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">976</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">977</td><td class="hits"></td><td class="source">  // Is a given value a boolean?</td></tr><tr class="hit"><td class="line">978</td><td class="hits">1</td><td class="source">  _.isBoolean = function(obj) {</td></tr><tr class="miss"><td class="line">979</td><td class="hits">0</td><td class="source">    return obj === true || obj === false || toString.call(obj) == &apos;[object Boolean]&apos;;</td></tr><tr class=""><td class="line">980</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">981</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">982</td><td class="hits"></td><td class="source">  // Is a given value equal to null?</td></tr><tr class="hit"><td class="line">983</td><td class="hits">1</td><td class="source">  _.isNull = function(obj) {</td></tr><tr class="miss"><td class="line">984</td><td class="hits">0</td><td class="source">    return obj === null;</td></tr><tr class=""><td class="line">985</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">986</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">987</td><td class="hits"></td><td class="source">  // Is a given variable undefined?</td></tr><tr class="hit"><td class="line">988</td><td class="hits">1</td><td class="source">  _.isUndefined = function(obj) {</td></tr><tr class="miss"><td class="line">989</td><td class="hits">0</td><td class="source">    return obj === void 0;</td></tr><tr class=""><td class="line">990</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">991</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">992</td><td class="hits"></td><td class="source">  // Shortcut function for checking if an object has a given property directly</td></tr><tr class=""><td class="line">993</td><td class="hits"></td><td class="source">  // on itself (in other words, not on a prototype).</td></tr><tr class="hit"><td class="line">994</td><td class="hits">1</td><td class="source">  _.has = function(obj, key) {</td></tr><tr class="hit"><td class="line">995</td><td class="hits">6</td><td class="source">    return hasOwnProperty.call(obj, key);</td></tr><tr class=""><td class="line">996</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">997</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">998</td><td class="hits"></td><td class="source">  // Utility Functions</td></tr><tr class=""><td class="line">999</td><td class="hits"></td><td class="source">  // -----------------</td></tr><tr class=""><td class="line">1000</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1001</td><td class="hits"></td><td class="source">  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its</td></tr><tr class=""><td class="line">1002</td><td class="hits"></td><td class="source">  // previous owner. Returns a reference to the Underscore object.</td></tr><tr class="hit"><td class="line">1003</td><td class="hits">1</td><td class="source">  _.noConflict = function() {</td></tr><tr class="miss"><td class="line">1004</td><td class="hits">0</td><td class="source">    root._ = previousUnderscore;</td></tr><tr class="miss"><td class="line">1005</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">1006</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1007</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1008</td><td class="hits"></td><td class="source">  // Keep the identity function around for default iterators.</td></tr><tr class="hit"><td class="line">1009</td><td class="hits">1</td><td class="source">  _.identity = function(value) {</td></tr><tr class="miss"><td class="line">1010</td><td class="hits">0</td><td class="source">    return value;</td></tr><tr class=""><td class="line">1011</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1012</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1013</td><td class="hits"></td><td class="source">  // Run a function **n** times.</td></tr><tr class="hit"><td class="line">1014</td><td class="hits">1</td><td class="source">  _.times = function(n, iterator, context) {</td></tr><tr class="miss"><td class="line">1015</td><td class="hits">0</td><td class="source">    var accum = Array(n);</td></tr><tr class="miss"><td class="line">1016</td><td class="hits">0</td><td class="source">    for (var i = 0; i &lt; n; i++) accum[i] = iterator.call(context, i);</td></tr><tr class="miss"><td class="line">1017</td><td class="hits">0</td><td class="source">    return accum;</td></tr><tr class=""><td class="line">1018</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1019</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1020</td><td class="hits"></td><td class="source">  // Return a random integer between min and max (inclusive).</td></tr><tr class="hit"><td class="line">1021</td><td class="hits">1</td><td class="source">  _.random = function(min, max) {</td></tr><tr class="miss"><td class="line">1022</td><td class="hits">0</td><td class="source">    if (max == null) {</td></tr><tr class="miss"><td class="line">1023</td><td class="hits">0</td><td class="source">      max = min;</td></tr><tr class="miss"><td class="line">1024</td><td class="hits">0</td><td class="source">      min = 0;</td></tr><tr class=""><td class="line">1025</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">1026</td><td class="hits">0</td><td class="source">    return min + Math.floor(Math.random() * (max - min + 1));</td></tr><tr class=""><td class="line">1027</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1028</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1029</td><td class="hits"></td><td class="source">  // List of HTML entities for escaping.</td></tr><tr class="hit"><td class="line">1030</td><td class="hits">1</td><td class="source">  var entityMap = {</td></tr><tr class=""><td class="line">1031</td><td class="hits"></td><td class="source">    escape: {</td></tr><tr class=""><td class="line">1032</td><td class="hits"></td><td class="source">      &apos;&amp;&apos;: &apos;&amp;amp;&apos;,</td></tr><tr class=""><td class="line">1033</td><td class="hits"></td><td class="source">      &apos;&lt;&apos;: &apos;&amp;lt;&apos;,</td></tr><tr class=""><td class="line">1034</td><td class="hits"></td><td class="source">      &apos;&gt;&apos;: &apos;&amp;gt;&apos;,</td></tr><tr class=""><td class="line">1035</td><td class="hits"></td><td class="source">      &apos;&quot;&apos;: &apos;&amp;quot;&apos;,</td></tr><tr class=""><td class="line">1036</td><td class="hits"></td><td class="source">      &quot;&apos;&quot;: &apos;&amp;#x27;&apos;,</td></tr><tr class=""><td class="line">1037</td><td class="hits"></td><td class="source">      &apos;/&apos;: &apos;&amp;#x2F;&apos;</td></tr><tr class=""><td class="line">1038</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">1039</td><td class="hits"></td><td class="source">  };</td></tr><tr class="hit"><td class="line">1040</td><td class="hits">1</td><td class="source">  entityMap.unescape = _.invert(entityMap.escape);</td></tr><tr class=""><td class="line">1041</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1042</td><td class="hits"></td><td class="source">  // Regexes containing the keys and values listed immediately above.</td></tr><tr class="hit"><td class="line">1043</td><td class="hits">1</td><td class="source">  var entityRegexes = {</td></tr><tr class=""><td class="line">1044</td><td class="hits"></td><td class="source">    escape:   new RegExp(&apos;[&apos; + _.keys(entityMap.escape).join(&apos;&apos;) + &apos;]&apos;, &apos;g&apos;),</td></tr><tr class=""><td class="line">1045</td><td class="hits"></td><td class="source">    unescape: new RegExp(&apos;(&apos; + _.keys(entityMap.unescape).join(&apos;|&apos;) + &apos;)&apos;, &apos;g&apos;)</td></tr><tr class=""><td class="line">1046</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1047</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1048</td><td class="hits"></td><td class="source">  // Functions for escaping and unescaping strings to/from HTML interpolation.</td></tr><tr class="hit"><td class="line">1049</td><td class="hits">1</td><td class="source">  _.each([&apos;escape&apos;, &apos;unescape&apos;], function(method) {</td></tr><tr class="hit"><td class="line">1050</td><td class="hits">2</td><td class="source">    _[method] = function(string) {</td></tr><tr class="miss"><td class="line">1051</td><td class="hits">0</td><td class="source">      if (string == null) return &apos;&apos;;</td></tr><tr class="miss"><td class="line">1052</td><td class="hits">0</td><td class="source">      return (&apos;&apos; + string).replace(entityRegexes[method], function(match) {</td></tr><tr class="miss"><td class="line">1053</td><td class="hits">0</td><td class="source">        return entityMap[method][match];</td></tr><tr class=""><td class="line">1054</td><td class="hits"></td><td class="source">      });</td></tr><tr class=""><td class="line">1055</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">1056</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">1057</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1058</td><td class="hits"></td><td class="source">  // If the value of the named property is a function then invoke it;</td></tr><tr class=""><td class="line">1059</td><td class="hits"></td><td class="source">  // otherwise, return it.</td></tr><tr class="hit"><td class="line">1060</td><td class="hits">1</td><td class="source">  _.result = function(object, property) {</td></tr><tr class="miss"><td class="line">1061</td><td class="hits">0</td><td class="source">    if (object == null) return null;</td></tr><tr class="miss"><td class="line">1062</td><td class="hits">0</td><td class="source">    var value = object[property];</td></tr><tr class="miss"><td class="line">1063</td><td class="hits">0</td><td class="source">    return _.isFunction(value) ? value.call(object) : value;</td></tr><tr class=""><td class="line">1064</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1065</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1066</td><td class="hits"></td><td class="source">  // Add your own custom functions to the Underscore object.</td></tr><tr class="hit"><td class="line">1067</td><td class="hits">1</td><td class="source">  _.mixin = function(obj) {</td></tr><tr class="hit"><td class="line">1068</td><td class="hits">1</td><td class="source">    each(_.functions(obj), function(name){</td></tr><tr class="hit"><td class="line">1069</td><td class="hits">107</td><td class="source">      var func = _[name] = obj[name];</td></tr><tr class="hit"><td class="line">1070</td><td class="hits">107</td><td class="source">      _.prototype[name] = function() {</td></tr><tr class="miss"><td class="line">1071</td><td class="hits">0</td><td class="source">        var args = [this._wrapped];</td></tr><tr class="miss"><td class="line">1072</td><td class="hits">0</td><td class="source">        push.apply(args, arguments);</td></tr><tr class="miss"><td class="line">1073</td><td class="hits">0</td><td class="source">        return result.call(this, func.apply(_, args));</td></tr><tr class=""><td class="line">1074</td><td class="hits"></td><td class="source">      };</td></tr><tr class=""><td class="line">1075</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">1076</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1077</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1078</td><td class="hits"></td><td class="source">  // Generate a unique integer id (unique within the entire client session).</td></tr><tr class=""><td class="line">1079</td><td class="hits"></td><td class="source">  // Useful for temporary DOM ids.</td></tr><tr class="hit"><td class="line">1080</td><td class="hits">1</td><td class="source">  var idCounter = 0;</td></tr><tr class="hit"><td class="line">1081</td><td class="hits">1</td><td class="source">  _.uniqueId = function(prefix) {</td></tr><tr class="miss"><td class="line">1082</td><td class="hits">0</td><td class="source">    var id = ++idCounter + &apos;&apos;;</td></tr><tr class="miss"><td class="line">1083</td><td class="hits">0</td><td class="source">    return prefix ? prefix + id : id;</td></tr><tr class=""><td class="line">1084</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1085</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1086</td><td class="hits"></td><td class="source">  // By default, Underscore uses ERB-style template delimiters, change the</td></tr><tr class=""><td class="line">1087</td><td class="hits"></td><td class="source">  // following template settings to use alternative delimiters.</td></tr><tr class="hit"><td class="line">1088</td><td class="hits">1</td><td class="source">  _.templateSettings = {</td></tr><tr class=""><td class="line">1089</td><td class="hits"></td><td class="source">    evaluate    : /&lt;%([\s\S]+?)%&gt;/g,</td></tr><tr class=""><td class="line">1090</td><td class="hits"></td><td class="source">    interpolate : /&lt;%=([\s\S]+?)%&gt;/g,</td></tr><tr class=""><td class="line">1091</td><td class="hits"></td><td class="source">    escape      : /&lt;%-([\s\S]+?)%&gt;/g</td></tr><tr class=""><td class="line">1092</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1093</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1094</td><td class="hits"></td><td class="source">  // When customizing `templateSettings`, if you don&apos;t want to define an</td></tr><tr class=""><td class="line">1095</td><td class="hits"></td><td class="source">  // interpolation, evaluation or escaping regex, we need one that is</td></tr><tr class=""><td class="line">1096</td><td class="hits"></td><td class="source">  // guaranteed not to match.</td></tr><tr class="hit"><td class="line">1097</td><td class="hits">1</td><td class="source">  var noMatch = /(.)^/;</td></tr><tr class=""><td class="line">1098</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1099</td><td class="hits"></td><td class="source">  // Certain characters need to be escaped so that they can be put into a</td></tr><tr class=""><td class="line">1100</td><td class="hits"></td><td class="source">  // string literal.</td></tr><tr class="hit"><td class="line">1101</td><td class="hits">1</td><td class="source">  var escapes = {</td></tr><tr class=""><td class="line">1102</td><td class="hits"></td><td class="source">    &quot;&apos;&quot;:      &quot;&apos;&quot;,</td></tr><tr class=""><td class="line">1103</td><td class="hits"></td><td class="source">    &apos;\\&apos;:     &apos;\\&apos;,</td></tr><tr class=""><td class="line">1104</td><td class="hits"></td><td class="source">    &apos;\r&apos;:     &apos;r&apos;,</td></tr><tr class=""><td class="line">1105</td><td class="hits"></td><td class="source">    &apos;\n&apos;:     &apos;n&apos;,</td></tr><tr class=""><td class="line">1106</td><td class="hits"></td><td class="source">    &apos;\t&apos;:     &apos;t&apos;,</td></tr><tr class=""><td class="line">1107</td><td class="hits"></td><td class="source">    &apos;\u2028&apos;: &apos;u2028&apos;,</td></tr><tr class=""><td class="line">1108</td><td class="hits"></td><td class="source">    &apos;\u2029&apos;: &apos;u2029&apos;</td></tr><tr class=""><td class="line">1109</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1110</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">1111</td><td class="hits">1</td><td class="source">  var escaper = /\\|&apos;|\r|\n|\t|\u2028|\u2029/g;</td></tr><tr class=""><td class="line">1112</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1113</td><td class="hits"></td><td class="source">  // JavaScript micro-templating, similar to John Resig&apos;s implementation.</td></tr><tr class=""><td class="line">1114</td><td class="hits"></td><td class="source">  // Underscore templating handles arbitrary delimiters, preserves whitespace,</td></tr><tr class=""><td class="line">1115</td><td class="hits"></td><td class="source">  // and correctly escapes quotes within interpolated code.</td></tr><tr class="hit"><td class="line">1116</td><td class="hits">1</td><td class="source">  _.template = function(text, data, settings) {</td></tr><tr class="miss"><td class="line">1117</td><td class="hits">0</td><td class="source">    var render;</td></tr><tr class="miss"><td class="line">1118</td><td class="hits">0</td><td class="source">    settings = _.defaults({}, settings, _.templateSettings);</td></tr><tr class=""><td class="line">1119</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1120</td><td class="hits"></td><td class="source">    // Combine delimiters into one regular expression via alternation.</td></tr><tr class="miss"><td class="line">1121</td><td class="hits">0</td><td class="source">    var matcher = new RegExp([</td></tr><tr class=""><td class="line">1122</td><td class="hits"></td><td class="source">      (settings.escape || noMatch).source,</td></tr><tr class=""><td class="line">1123</td><td class="hits"></td><td class="source">      (settings.interpolate || noMatch).source,</td></tr><tr class=""><td class="line">1124</td><td class="hits"></td><td class="source">      (settings.evaluate || noMatch).source</td></tr><tr class=""><td class="line">1125</td><td class="hits"></td><td class="source">    ].join(&apos;|&apos;) + &apos;|$&apos;, &apos;g&apos;);</td></tr><tr class=""><td class="line">1126</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1127</td><td class="hits"></td><td class="source">    // Compile the template source, escaping string literals appropriately.</td></tr><tr class="miss"><td class="line">1128</td><td class="hits">0</td><td class="source">    var index = 0;</td></tr><tr class="miss"><td class="line">1129</td><td class="hits">0</td><td class="source">    var source = &quot;__p+=&apos;&quot;;</td></tr><tr class="miss"><td class="line">1130</td><td class="hits">0</td><td class="source">    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {</td></tr><tr class="miss"><td class="line">1131</td><td class="hits">0</td><td class="source">      source += text.slice(index, offset)</td></tr><tr class="miss"><td class="line">1132</td><td class="hits">0</td><td class="source">        .replace(escaper, function(match) { return &apos;\\&apos; + escapes[match]; });</td></tr><tr class=""><td class="line">1133</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">1134</td><td class="hits">0</td><td class="source">      if (escape) {</td></tr><tr class="miss"><td class="line">1135</td><td class="hits">0</td><td class="source">        source += &quot;&apos;+\n((__t=(&quot; + escape + &quot;))==null?&apos;&apos;:_.escape(__t))+\n&apos;&quot;;</td></tr><tr class=""><td class="line">1136</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">1137</td><td class="hits">0</td><td class="source">      if (interpolate) {</td></tr><tr class="miss"><td class="line">1138</td><td class="hits">0</td><td class="source">        source += &quot;&apos;+\n((__t=(&quot; + interpolate + &quot;))==null?&apos;&apos;:__t)+\n&apos;&quot;;</td></tr><tr class=""><td class="line">1139</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">1140</td><td class="hits">0</td><td class="source">      if (evaluate) {</td></tr><tr class="miss"><td class="line">1141</td><td class="hits">0</td><td class="source">        source += &quot;&apos;;\n&quot; + evaluate + &quot;\n__p+=&apos;&quot;;</td></tr><tr class=""><td class="line">1142</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">1143</td><td class="hits">0</td><td class="source">      index = offset + match.length;</td></tr><tr class="miss"><td class="line">1144</td><td class="hits">0</td><td class="source">      return match;</td></tr><tr class=""><td class="line">1145</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">1146</td><td class="hits">0</td><td class="source">    source += &quot;&apos;;\n&quot;;</td></tr><tr class=""><td class="line">1147</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1148</td><td class="hits"></td><td class="source">    // If a variable is not specified, place data values in local scope.</td></tr><tr class="miss"><td class="line">1149</td><td class="hits">0</td><td class="source">    if (!settings.variable) source = &apos;with(obj||{}){\n&apos; + source + &apos;}\n&apos;;</td></tr><tr class=""><td class="line">1150</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">1151</td><td class="hits">0</td><td class="source">    source = &quot;var __t,__p=&apos;&apos;,__j=Array.prototype.join,&quot; +</td></tr><tr class=""><td class="line">1152</td><td class="hits"></td><td class="source">      &quot;print=function(){__p+=__j.call(arguments,&apos;&apos;);};\n&quot; +</td></tr><tr class=""><td class="line">1153</td><td class="hits"></td><td class="source">      source + &quot;return __p;\n&quot;;</td></tr><tr class=""><td class="line">1154</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">1155</td><td class="hits">0</td><td class="source">    try {</td></tr><tr class="miss"><td class="line">1156</td><td class="hits">0</td><td class="source">      render = new Function(settings.variable || &apos;obj&apos;, &apos;_&apos;, source);</td></tr><tr class=""><td class="line">1157</td><td class="hits"></td><td class="source">    } catch (e) {</td></tr><tr class="miss"><td class="line">1158</td><td class="hits">0</td><td class="source">      e.source = source;</td></tr><tr class="miss"><td class="line">1159</td><td class="hits">0</td><td class="source">      throw e;</td></tr><tr class=""><td class="line">1160</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">1161</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">1162</td><td class="hits">0</td><td class="source">    if (data) return render(data, _);</td></tr><tr class="miss"><td class="line">1163</td><td class="hits">0</td><td class="source">    var template = function(data) {</td></tr><tr class="miss"><td class="line">1164</td><td class="hits">0</td><td class="source">      return render.call(this, data, _);</td></tr><tr class=""><td class="line">1165</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">1166</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1167</td><td class="hits"></td><td class="source">    // Provide the compiled function source as a convenience for precompilation.</td></tr><tr class="miss"><td class="line">1168</td><td class="hits">0</td><td class="source">    template.source = &apos;function(&apos; + (settings.variable || &apos;obj&apos;) + &apos;){\n&apos; + source + &apos;}&apos;;</td></tr><tr class=""><td class="line">1169</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">1170</td><td class="hits">0</td><td class="source">    return template;</td></tr><tr class=""><td class="line">1171</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1172</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1173</td><td class="hits"></td><td class="source">  // Add a &quot;chain&quot; function, which will delegate to the wrapper.</td></tr><tr class="hit"><td class="line">1174</td><td class="hits">1</td><td class="source">  _.chain = function(obj) {</td></tr><tr class="miss"><td class="line">1175</td><td class="hits">0</td><td class="source">    return _(obj).chain();</td></tr><tr class=""><td class="line">1176</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1177</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1178</td><td class="hits"></td><td class="source">  // OOP</td></tr><tr class=""><td class="line">1179</td><td class="hits"></td><td class="source">  // ---------------</td></tr><tr class=""><td class="line">1180</td><td class="hits"></td><td class="source">  // If Underscore is called as a function, it returns a wrapped object that</td></tr><tr class=""><td class="line">1181</td><td class="hits"></td><td class="source">  // can be used OO-style. This wrapper holds altered versions of all the</td></tr><tr class=""><td class="line">1182</td><td class="hits"></td><td class="source">  // underscore functions. Wrapped objects may be chained.</td></tr><tr class=""><td class="line">1183</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1184</td><td class="hits"></td><td class="source">  // Helper function to continue chaining intermediate results.</td></tr><tr class="hit"><td class="line">1185</td><td class="hits">1</td><td class="source">  var result = function(obj) {</td></tr><tr class="miss"><td class="line">1186</td><td class="hits">0</td><td class="source">    return this._chain ? _(obj).chain() : obj;</td></tr><tr class=""><td class="line">1187</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">1188</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1189</td><td class="hits"></td><td class="source">  // Add all of the Underscore functions to the wrapper object.</td></tr><tr class="hit"><td class="line">1190</td><td class="hits">1</td><td class="source">  _.mixin(_);</td></tr><tr class=""><td class="line">1191</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1192</td><td class="hits"></td><td class="source">  // Add all mutator Array functions to the wrapper.</td></tr><tr class="hit"><td class="line">1193</td><td class="hits">1</td><td class="source">  each([&apos;pop&apos;, &apos;push&apos;, &apos;reverse&apos;, &apos;shift&apos;, &apos;sort&apos;, &apos;splice&apos;, &apos;unshift&apos;], function(name) {</td></tr><tr class="hit"><td class="line">1194</td><td class="hits">7</td><td class="source">    var method = ArrayProto[name];</td></tr><tr class="hit"><td class="line">1195</td><td class="hits">7</td><td class="source">    _.prototype[name] = function() {</td></tr><tr class="miss"><td class="line">1196</td><td class="hits">0</td><td class="source">      var obj = this._wrapped;</td></tr><tr class="miss"><td class="line">1197</td><td class="hits">0</td><td class="source">      method.apply(obj, arguments);</td></tr><tr class="miss"><td class="line">1198</td><td class="hits">0</td><td class="source">      if ((name == &apos;shift&apos; || name == &apos;splice&apos;) &amp;&amp; obj.length === 0) delete obj[0];</td></tr><tr class="miss"><td class="line">1199</td><td class="hits">0</td><td class="source">      return result.call(this, obj);</td></tr><tr class=""><td class="line">1200</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">1201</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">1202</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1203</td><td class="hits"></td><td class="source">  // Add all accessor Array functions to the wrapper.</td></tr><tr class="hit"><td class="line">1204</td><td class="hits">1</td><td class="source">  each([&apos;concat&apos;, &apos;join&apos;, &apos;slice&apos;], function(name) {</td></tr><tr class="hit"><td class="line">1205</td><td class="hits">3</td><td class="source">    var method = ArrayProto[name];</td></tr><tr class="hit"><td class="line">1206</td><td class="hits">3</td><td class="source">    _.prototype[name] = function() {</td></tr><tr class="miss"><td class="line">1207</td><td class="hits">0</td><td class="source">      return result.call(this, method.apply(this._wrapped, arguments));</td></tr><tr class=""><td class="line">1208</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">1209</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">1210</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">1211</td><td class="hits">1</td><td class="source">  _.extend(_.prototype, {</td></tr><tr class=""><td class="line">1212</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1213</td><td class="hits"></td><td class="source">    // Start chaining a wrapped Underscore object.</td></tr><tr class=""><td class="line">1214</td><td class="hits"></td><td class="source">    chain: function() {</td></tr><tr class="miss"><td class="line">1215</td><td class="hits">0</td><td class="source">      this._chain = true;</td></tr><tr class="miss"><td class="line">1216</td><td class="hits">0</td><td class="source">      return this;</td></tr><tr class=""><td class="line">1217</td><td class="hits"></td><td class="source">    },</td></tr><tr class=""><td class="line">1218</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1219</td><td class="hits"></td><td class="source">    // Extracts the result from a wrapped and chained object.</td></tr><tr class=""><td class="line">1220</td><td class="hits"></td><td class="source">    value: function() {</td></tr><tr class="miss"><td class="line">1221</td><td class="hits">0</td><td class="source">      return this._wrapped;</td></tr><tr class=""><td class="line">1222</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">1223</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1224</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">1225</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">1226</td><td class="hits"></td><td class="source">}).call(this);</td></tr><tr class=""><td class="line">1227</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/utils.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/utils.js</h2>
          <div class="stats high">
            <div class="percentage">80.0%</div>
            <div class="sloc">10</div>
            <div class="hits">8</div>
            <div class="misses">2</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"> * Module Dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var entities = require(&apos;entities&apos;);</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"> * HTML Tags</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">10</td><td class="hits">1</td><td class="source">var tags = { tag: true, script: true, style: true };</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"> * Check if the DOM element is a tag</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source"> * isTag(type) includes &lt;script&gt; and &lt;style&gt; tags</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">exports.isTag = function(type) {</td></tr><tr class="hit"><td class="line">19</td><td class="hits">293789</td><td class="source">  if (type.type) type = type.type;</td></tr><tr class="hit"><td class="line">20</td><td class="hits">162880</td><td class="source">  return tags[type] || false;</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"> * Convert a string to camel case notation.</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"> * @param  {String} str String to be converted.</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"> * @return {String}     String in camel case notation.</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">29</td><td class="hits">1</td><td class="source">exports.camelCase = function(str) {</td></tr><tr class="miss"><td class="line">30</td><td class="hits">0</td><td class="source">  return str.replace(/[_.-](\w|$)/g, function(_, x) {</td></tr><tr class="miss"><td class="line">31</td><td class="hits">0</td><td class="source">    return x.toUpperCase();</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"> * Expose encode and decode methods from FB55&apos;s node-entities library</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source"> * 0 = XML, 1 = HTML4 and 2 = HTML5</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">41</td><td class="hits">50548</td><td class="source">exports.encode = function(str) { return entities.encode(String(str), 0); };</td></tr><tr class="hit"><td class="line">42</td><td class="hits">32560</td><td class="source">exports.decode = function(str) { return entities.decode(str, 2); };</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/entities/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/entities/index.js</h2>
          <div class="stats high">
            <div class="percentage">75.9%</div>
            <div class="sloc">58</div>
            <div class="hits">44</div>
            <div class="misses">14</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var modes = [&quot;XML&quot;, &quot;HTML4&quot;, &quot;HTML5&quot;];</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	decode: function(data, level){</td></tr><tr class="hit"><td class="line">5</td><td class="hits">32602</td><td class="source">		if(!modes[level]) level = 0;</td></tr><tr class="hit"><td class="line">6</td><td class="hits">32607</td><td class="source">		return module.exports[&quot;decode&quot; + modes[level]](data);</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	decodeStrict: function(data, level){</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">		if(!modes[level]) level = 0;</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">		return module.exports[&quot;decode&quot; + modes[level] + &quot;Strict&quot;](data);</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	},</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">	encode: function(data, level){</td></tr><tr class="hit"><td class="line">13</td><td class="hits">50678</td><td class="source">		if(!modes[level]) level = 0;</td></tr><tr class="hit"><td class="line">14</td><td class="hits">50686</td><td class="source">		return module.exports[&quot;encode&quot; + modes[level]](data);</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">modes.reduce(function(prev, name){</td></tr><tr class="hit"><td class="line">19</td><td class="hits">3</td><td class="source">	var obj = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/entities/./entities/&quot; + name.toLowerCase() + &quot;.json&quot;);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">21</td><td class="hits">3</td><td class="source">	if(prev){</td></tr><tr class="hit"><td class="line">22</td><td class="hits">2</td><td class="source">		Object.keys(prev).forEach(function(name){</td></tr><tr class="hit"><td class="line">23</td><td class="hits">359</td><td class="source">			obj[name] = prev[name];</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">		});</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">27</td><td class="hits">3</td><td class="source">	module.exports[&quot;decode&quot; + name + &quot;Strict&quot;] = getStrictReplacer(obj);</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">29</td><td class="hits">3</td><td class="source">	if(name === &quot;XML&quot;){</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">		//there is no non-strict mode for XML</td></tr><tr class="hit"><td class="line">31</td><td class="hits">1</td><td class="source">		module.exports.decodeXML = module.exports.decodeXMLStrict;</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="hit"><td class="line">33</td><td class="hits">2</td><td class="source">		module.exports[&quot;decode&quot; + name] = getReplacer(obj);</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">36</td><td class="hits">3</td><td class="source">	module.exports[&quot;encode&quot; + name] = getReverse(obj);</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">38</td><td class="hits">3</td><td class="source">	return obj;</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">}, null);</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">41</td><td class="hits">1</td><td class="source">function getReplacer(obj){</td></tr><tr class="hit"><td class="line">42</td><td class="hits">2</td><td class="source">	var keys = Object.keys(obj).sort();</td></tr><tr class="hit"><td class="line">43</td><td class="hits">2</td><td class="source">	var re = keys.join(&quot;|&quot;).replace(/(\w+)\|\1;/g, &quot;$1;?&quot;);</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">	// also match hex and char codes</td></tr><tr class="hit"><td class="line">46</td><td class="hits">2</td><td class="source">	re += &quot;|#[xX][\\da-fA-F]+;?|#\\d+;?&quot;;</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">48</td><td class="hits">2</td><td class="source">	return genReplaceFunc(</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">		new RegExp(&quot;&amp;(?:&quot; + re + &quot;)&quot;, &quot;g&quot;),</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">		function func(name){</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">			if(name.charAt(1) === &quot;#&quot;){</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">				if(name.charAt(2).toLowerCase() === &quot;x&quot;){</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">					return String.fromCharCode(parseInt(name.substr(3), 16));</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">				}</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">				return String.fromCharCode(parseInt(name.substr(2), 10));</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">			return obj[name.substr(1)];</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">	);</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">62</td><td class="hits">1</td><td class="source">function getStrictReplacer(obj){</td></tr><tr class="hit"><td class="line">63</td><td class="hits">3</td><td class="source">	var keys = Object.keys(obj).sort().filter(RegExp.prototype.test, /;$/);</td></tr><tr class="hit"><td class="line">64</td><td class="hits">3</td><td class="source">	var re = keys.map(function(name){</td></tr><tr class="hit"><td class="line">65</td><td class="hits">2383</td><td class="source">		return name.slice(0, -1); //remove trailing semicolon</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">	}).join(&quot;|&quot;);</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">	// also match hex and char codes</td></tr><tr class="hit"><td class="line">69</td><td class="hits">3</td><td class="source">	re += &quot;|#[xX][\\da-fA-F]+|#\\d+&quot;;</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">71</td><td class="hits">3</td><td class="source">	var expr = new RegExp(&quot;&amp;(?:&quot; + re + &quot;);&quot;, &quot;g&quot;);</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">73</td><td class="hits">3</td><td class="source">	return genReplaceFunc(expr, func);</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">	function func(name){</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">			if(name.charAt(1) === &quot;#&quot;){</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">				if(name.charAt(2).toLowerCase() === &quot;x&quot;){</td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">					return String.fromCharCode(parseInt(name.substr(3), 16));</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">				}</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">				return String.fromCharCode(parseInt(name.substr(2), 10));</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">			return obj[name.substr(1)];</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">86</td><td class="hits">1</td><td class="source">var re_nonUTF8 = /[\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]/g;</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">88</td><td class="hits">1</td><td class="source">function nonUTF8Replacer(c){</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">	return &quot;&amp;#&quot; + c.charCodeAt(0) + &quot;;&quot;;</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">92</td><td class="hits">1</td><td class="source">function getReverse(obj){</td></tr><tr class="hit"><td class="line">93</td><td class="hits">3</td><td class="source">	var reverse = Object.keys(obj).filter(function(name){</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">		//prefer identifiers with a semicolon</td></tr><tr class="hit"><td class="line">95</td><td class="hits">2591</td><td class="source">		return name.substr(-1) === &quot;;&quot; || obj[name + &quot;;&quot;] !== obj[name];</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">	}).reduce(function(reverse, name){</td></tr><tr class="hit"><td class="line">97</td><td class="hits">2383</td><td class="source">		reverse[obj[name]] = name;</td></tr><tr class="hit"><td class="line">98</td><td class="hits">2383</td><td class="source">		return reverse;</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">	}, {});</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">101</td><td class="hits">3</td><td class="source">	var regex = new RegExp(&quot;\\&quot; + Object.keys(reverse).sort().join(&quot;|\\&quot;), &quot;g&quot;);</td></tr><tr class="hit"><td class="line">102</td><td class="hits">3</td><td class="source">	function func(name){</td></tr><tr class="hit"><td class="line">103</td><td class="hits">3612</td><td class="source">		return &quot;&amp;&quot; + reverse[name];</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">106</td><td class="hits">3</td><td class="source">	return function(data){</td></tr><tr class="hit"><td class="line">107</td><td class="hits">51338</td><td class="source">		return data</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">				.replace(regex, func)</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source">				.replace(re_nonUTF8, nonUTF8Replacer);</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">113</td><td class="hits">1</td><td class="source">function genReplaceFunc(regex, func){</td></tr><tr class="hit"><td class="line">114</td><td class="hits">5</td><td class="source">	return function(data){</td></tr><tr class="hit"><td class="line">115</td><td class="hits">33097</td><td class="source">		return data.replace(regex, func);</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/static.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/static.js</h2>
          <div class="stats high">
            <div class="percentage">49.0%</div>
            <div class="sloc">51</div>
            <div class="hits">25</div>
            <div class="misses">26</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"> * Module dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var select = require(&apos;cheerio-select&apos;),</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    parse = require(&apos;./parse&apos;),</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    render = require(&apos;./render&apos;),</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    decode = require(&apos;./utils&apos;).decode;</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"> * $.load(str)</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">14</td><td class="hits">1</td><td class="source">var load = exports.load = function(str, options) {</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">  var Cheerio = require(&apos;./cheerio&apos;),</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">      root = parse(str, options);</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">  var initialize = function(selector, context, r) {</td></tr><tr class="hit"><td class="line">19</td><td class="hits">213</td><td class="source">    return new Cheerio(selector, context, r || root);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">  // Add in the static methods</td></tr><tr class="hit"><td class="line">23</td><td class="hits">1</td><td class="source">  initialize.__proto__ = exports;</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">  // Add in the root</td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">  initialize._root = root;</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">28</td><td class="hits">1</td><td class="source">  return initialize;</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"> * $.html([selector | dom])</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">var html = exports.html = function(dom) {</td></tr><tr class="hit"><td class="line">36</td><td class="hits">7360</td><td class="source">  if (dom) {</td></tr><tr class="hit"><td class="line">37</td><td class="hits">7361</td><td class="source">    dom = (typeof dom === &apos;string&apos;) ? select(dom, this._root) : dom;</td></tr><tr class="hit"><td class="line">38</td><td class="hits">7362</td><td class="source">    return render(dom);</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">  } else if (this._root &amp;&amp; this._root.children) {</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">    return render(this._root.children);</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">    return &apos;&apos;;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"> * $.xml([selector | dom])</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">1</td><td class="source">var xml = exports.xml = function(dom) {</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">  if (dom) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">    dom = (typeof dom === &apos;string&apos;) ? select(dom, this._root) : dom;</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">    return render(dom, { xmlMode: true });</td></tr><tr class="miss"><td class="line">54</td><td class="hits">0</td><td class="source">  } else if (this._root &amp;&amp; this._root.children) {</td></tr><tr class="miss"><td class="line">55</td><td class="hits">0</td><td class="source">    return render(this._root.children, { xmlMode: true });</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">    return &apos;&apos;;</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"> * $.text(dom)</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">1</td><td class="source">var text = exports.text = function(elems) {</td></tr><tr class="hit"><td class="line">66</td><td class="hits">7720</td><td class="source">  if (!elems) return &apos;&apos;;</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">68</td><td class="hits">7722</td><td class="source">  var ret = &apos;&apos;,</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">      len = elems.length,</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">      elem;</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">72</td><td class="hits">7728</td><td class="source">  for (var i = 0; i &lt; len; i ++) {</td></tr><tr class="hit"><td class="line">73</td><td class="hits">3864</td><td class="source">    elem = elems[i];</td></tr><tr class="hit"><td class="line">74</td><td class="hits">3864</td><td class="source">    if (elem.type === &apos;text&apos;) ret += decode(elem.data);</td></tr><tr class="hit"><td class="line">75</td><td class="hits">3864</td><td class="source">    else if (elem.children &amp;&amp; elem.type !== &apos;comment&apos;) {</td></tr><tr class="hit"><td class="line">76</td><td class="hits">3864</td><td class="source">      ret += text(elem.children);</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">80</td><td class="hits">7734</td><td class="source">  return ret;</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"> * $.parseHTML(data [, context ] [, keepScripts ])</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source"> * Parses a string into an array of DOM nodes. The `context` argument has no</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source"> * meaning for Cheerio, but it is maintained for API compatability with jQuery.</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">88</td><td class="hits">1</td><td class="source">var parseHTML = exports.parseHTML = function(data, context, keepScripts) {</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">  var parsed;</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">91</td><td class="hits">0</td><td class="source">  if (!data || typeof data !== &apos;string&apos;) {</td></tr><tr class="miss"><td class="line">92</td><td class="hits">0</td><td class="source">    return null;</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">  if (typeof context === &apos;boolean&apos;) {</td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">    keepScripts = context;</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">  parsed = this.load(data);</td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">  if (!keepScripts) {</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">    parsed(&apos;script&apos;).remove();</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">104</td><td class="hits">0</td><td class="source">  return parsed.root()[0].children;</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source"> * $.root()</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">110</td><td class="hits">1</td><td class="source">var root = exports.root = function() {</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">  return this(this._root);</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source"> * $.contains()</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">117</td><td class="hits">1</td><td class="source">var contains = exports.contains = function(container, contained) {</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">  // According to the jQuery API, an element does not &quot;contain&quot; itself</td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">  if (contained === container) {</td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">    return false;</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">  // Step up the descendents, stopping when the root element is reached</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">  // (signaled by `.parent` returning a reference to the same object)</td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">  while (contained &amp;&amp; contained !== contained.parent) {</td></tr><tr class="miss"><td class="line">127</td><td class="hits">0</td><td class="source">    contained = contained.parent;</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">    if (contained === container) {</td></tr><tr class="miss"><td class="line">129</td><td class="hits">0</td><td class="source">      return true;</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">  return false;</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/render.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/render.js</h2>
          <div class="stats high">
            <div class="percentage">88.2%</div>
            <div class="sloc">51</div>
            <div class="hits">45</div>
            <div class="misses">6</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">  Module dependencies</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">4</td><td class="hits">1</td><td class="source">var _ = require(&apos;underscore&apos;);</td></tr><tr class="hit"><td class="line">5</td><td class="hits">1</td><td class="source">var utils = require(&apos;./utils&apos;);</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">7</td><td class="hits">1</td><td class="source">var decode = utils.decode;</td></tr><tr class="hit"><td class="line">8</td><td class="hits">1</td><td class="source">var encode = utils.encode;</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">  Boolean Attributes</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">var rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">  Format attributes</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">18</td><td class="hits">1</td><td class="source">var formatAttrs = function(attributes) {</td></tr><tr class="hit"><td class="line">19</td><td class="hits">30359</td><td class="source">  if (!attributes) return &apos;&apos;;</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">21</td><td class="hits">30367</td><td class="source">  var output = [],</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">      value;</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">  // Loop through the attributes</td></tr><tr class="hit"><td class="line">25</td><td class="hits">30383</td><td class="source">  for (var key in attributes) {</td></tr><tr class="hit"><td class="line">26</td><td class="hits">30387</td><td class="source">    value = attributes[key];</td></tr><tr class="hit"><td class="line">27</td><td class="hits">30391</td><td class="source">    if (!value &amp;&amp; (rboolean.test(key) || key === &apos;/&apos;)) {</td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">      output.push(key);</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="hit"><td class="line">30</td><td class="hits">30403</td><td class="source">      output.push(key + &apos;=&quot;&apos; + encode(decode(value)) + &apos;&quot;&apos;);</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">34</td><td class="hits">30419</td><td class="source">  return output.join(&apos; &apos;);</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">  Self-enclosing tags (stolen from node-htmlparser)</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">40</td><td class="hits">1</td><td class="source">var singleTag = {</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">  area: 1,</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">  base: 1,</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">  basefont: 1,</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">  br: 1,</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">  col: 1,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">  frame: 1,</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">  hr: 1,</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">  img: 1,</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">  input: 1,</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">  isindex: 1,</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">  link: 1,</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">  meta: 1,</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">  param: 1,</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">  embed: 1,</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">  include: 1,</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  &apos;yield&apos;: 1</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">  Tag types from htmlparser</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">62</td><td class="hits">1</td><td class="source">var tagType = {</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">  tag: 1,</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">  script: 1,</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">  link: 1,</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">  style: 1,</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">  template: 1</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">70</td><td class="hits">1</td><td class="source">var render = module.exports = function(dom, opts) {</td></tr><tr class="hit"><td class="line">71</td><td class="hits">38484</td><td class="source">  if (!Array.isArray(dom) &amp;&amp; !dom.cheerio) dom = [dom];</td></tr><tr class="hit"><td class="line">72</td><td class="hits">38489</td><td class="source">  opts = opts || {};</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">74</td><td class="hits">38499</td><td class="source">  var output = [],</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">      xmlMode = opts.xmlMode || false,</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">      ignoreWhitespace = opts.ignoreWhitespace || false;</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">78</td><td class="hits">38519</td><td class="source">  _.each(dom, function(elem) {</td></tr><tr class="hit"><td class="line">79</td><td class="hits">32191</td><td class="source">    var pushVal;</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">81</td><td class="hits">32199</td><td class="source">    if (tagType[elem.type])</td></tr><tr class="hit"><td class="line">82</td><td class="hits">30996</td><td class="source">      pushVal = renderTag(elem, xmlMode);</td></tr><tr class="hit"><td class="line">83</td><td class="hits">1207</td><td class="source">    else if (elem.type === &apos;directive&apos;)</td></tr><tr class="miss"><td class="line">84</td><td class="hits">0</td><td class="source">      pushVal = renderDirective(elem);</td></tr><tr class="hit"><td class="line">85</td><td class="hits">1207</td><td class="source">    else if (elem.type === &apos;comment&apos;)</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">      pushVal = renderComment(elem);</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">    else</td></tr><tr class="hit"><td class="line">88</td><td class="hits">1207</td><td class="source">      pushVal = renderText(elem);</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">    // Push rendered DOM node</td></tr><tr class="hit"><td class="line">91</td><td class="hits">32239</td><td class="source">    output.push(pushVal);</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">93</td><td class="hits">32247</td><td class="source">    if (elem.children)</td></tr><tr class="hit"><td class="line">94</td><td class="hits">31044</td><td class="source">      output.push(render(elem.children, opts));</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">96</td><td class="hits">32259</td><td class="source">    if ((!singleTag[elem.name] || xmlMode) &amp;&amp; tagType[elem.type]) {</td></tr><tr class="hit"><td class="line">97</td><td class="hits">31056</td><td class="source">      if (!isClosedTag(elem, xmlMode)) {</td></tr><tr class="hit"><td class="line">98</td><td class="hits">31060</td><td class="source">        output.push(&apos;&lt;/&apos; + elem.name + &apos;&gt;&apos;);</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">103</td><td class="hits">38644</td><td class="source">  return output.join(&apos;&apos;);</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">106</td><td class="hits">1</td><td class="source">var isClosedTag = function(elem, xmlMode){</td></tr><tr class="hit"><td class="line">107</td><td class="hits">62192</td><td class="source">  return (xmlMode &amp;&amp; (!elem.children || elem.children.length === 0));</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">110</td><td class="hits">1</td><td class="source">var renderTag = function(elem, xmlMode) {</td></tr><tr class="hit"><td class="line">111</td><td class="hits">31112</td><td class="source">  var tag = &apos;&lt;&apos; + elem.name;</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">113</td><td class="hits">31120</td><td class="source">  if (elem.attribs &amp;&amp; _.size(elem.attribs)) {</td></tr><tr class="hit"><td class="line">114</td><td class="hits">30739</td><td class="source">    tag += &apos; &apos; + formatAttrs(elem.attribs);</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">117</td><td class="hits">31136</td><td class="source">  if (isClosedTag(elem, xmlMode)) {</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">    tag += &apos;/&apos;;</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">121</td><td class="hits">31152</td><td class="source">  return tag + &apos;&gt;&apos;;</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">124</td><td class="hits">1</td><td class="source">var renderDirective = function(elem) {</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">  return &apos;&lt;&apos; + elem.data + &apos;&gt;&apos;;</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">128</td><td class="hits">1</td><td class="source">var renderText = function(elem) {</td></tr><tr class="hit"><td class="line">129</td><td class="hits">1207</td><td class="source">  return elem.data;</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">132</td><td class="hits">1</td><td class="source">var renderComment = function(elem) {</td></tr><tr class="miss"><td class="line">133</td><td class="hits">0</td><td class="source">  return &apos;&lt;!--&apos; + elem.data + &apos;--&gt;&apos;;</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source">// module.exports = $.extend(exports);</td></tr><tr class=""><td class="line">137</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/attributes.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/attributes.js</h2>
          <div class="stats high">
            <div class="percentage">27.8%</div>
            <div class="sloc">162</div>
            <div class="hits">45</div>
            <div class="misses">117</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var _ = require(&apos;underscore&apos;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">  utils = require(&apos;../utils&apos;),</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">  isTag = utils.isTag,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">  decode = utils.decode,</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">  encode = utils.encode,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">  hasOwn = Object.prototype.hasOwnProperty,</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  rspace = /\s+/,</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  // Lookup table for coercing string data-* attributes to their corresponding</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">  // JavaScript primitives</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">  primitives = {</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    null: null,</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">    true: true,</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">    false: false</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">  },</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">  // Attributes that are booleans</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">  rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">  // Matches strings that look like JSON objects or arrays</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">23</td><td class="hits">1</td><td class="source">var setAttr = function(el, name, value) {</td></tr><tr class="hit"><td class="line">24</td><td class="hits">3614</td><td class="source">  if (typeof name === &apos;object&apos;) return _.extend(el.attribs, name);</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">26</td><td class="hits">3615</td><td class="source">  if (value === null) {</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">    removeAttribute(el, name);</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="hit"><td class="line">29</td><td class="hits">3617</td><td class="source">    el.attribs[name] = encode(value);</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">32</td><td class="hits">3618</td><td class="source">  return el.attribs;</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">var attr = exports.attr = function(name, value) {</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">  // Set the value (with attr map support)</td></tr><tr class="hit"><td class="line">37</td><td class="hits">7129</td><td class="source">  if (typeof name === &apos;object&apos; || value !== undefined) {</td></tr><tr class="hit"><td class="line">38</td><td class="hits">3621</td><td class="source">    if (_.isFunction(value)) {</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">      return this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">        setAttr(el, name, value.call(this, i, el.attribs[name]));</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">      });</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">    }</td></tr><tr class="hit"><td class="line">43</td><td class="hits">3624</td><td class="source">    return this.each(function(i, el) {</td></tr><tr class="hit"><td class="line">44</td><td class="hits">3625</td><td class="source">      el.attribs = setAttr(el, name, value);</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">48</td><td class="hits">3515</td><td class="source">  var elem = this[0];</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">50</td><td class="hits">3516</td><td class="source">  if (!elem || !isTag(elem)) return;</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">52</td><td class="hits">3517</td><td class="source">  if (!elem.attribs) {</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">    elem.attribs = {};</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">  // Return the entire attribs object if no attribute specified</td></tr><tr class="hit"><td class="line">57</td><td class="hits">3519</td><td class="source">  if (!name) {</td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">    for (var a in elem.attribs) {</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">      elem.attribs[a] = decode(elem.attribs[a]);</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">    return elem.attribs;</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">64</td><td class="hits">3523</td><td class="source">  if (hasOwn.call(elem.attribs, name)) {</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    // Get the (decoded) attribute</td></tr><tr class="hit"><td class="line">66</td><td class="hits">3524</td><td class="source">    return decode(elem.attribs[name]);</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">70</td><td class="hits">1</td><td class="source">var setData = function(el, name, value) {</td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">  if (typeof name === &apos;object&apos;) return _.extend(el.data, name);</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">  if (typeof name === &apos;string&apos; &amp;&amp; value !== undefined) {</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">    el.data[name] = encode(value);</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">  } else if (typeof name === &apos;object&apos;) {</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source">    // If its an object, loop through it</td></tr><tr class="miss"><td class="line">76</td><td class="hits">0</td><td class="source">    _.each(name, function(value, key) {</td></tr><tr class="miss"><td class="line">77</td><td class="hits">0</td><td class="source">      el.data[key] = encode(value);</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">  return el.data;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">84</td><td class="hits">1</td><td class="source">var data = exports.data = function(name, value) {</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">  var elem = this[0];</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">  if (!elem || !isTag(elem)) return;</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">  if (!elem.data) {</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">    elem.data = {};</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">  // Return the entire data object if no data specified</td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">  if (!name) {</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">96</td><td class="hits">0</td><td class="source">    _.each(elem.data, function(value, key) {</td></tr><tr class="miss"><td class="line">97</td><td class="hits">0</td><td class="source">      elem.data[key] = decode(value);</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">100</td><td class="hits">0</td><td class="source">    return elem.data;</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">  // Set the value (with attr map support)</td></tr><tr class="miss"><td class="line">104</td><td class="hits">0</td><td class="source">  if (typeof name === &apos;object&apos; || value !== undefined) {</td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">    this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">106</td><td class="hits">0</td><td class="source">      el.data = setData(el, name, value);</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">    });</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">  } else if (hasOwn.call(elem.data, name)) {</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">    // Get the (decoded) data</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">    var val = decode(elem.data[name]);</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">    if (hasOwn.call(primitives, val)) {</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">      val = primitives[val];</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">    } else if (val === String(Number(val))) {</td></tr><tr class="miss"><td class="line">116</td><td class="hits">0</td><td class="source">      val = Number(val);</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">    } else if (rbrace.test(val)) {</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">      val = JSON.parse(val);</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">    return val;</td></tr><tr class="miss"><td class="line">122</td><td class="hits">0</td><td class="source">  } else if (typeof name === &apos;string&apos; &amp;&amp; value === undefined) {</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">    return undefined;</td></tr><tr class=""><td class="line">124</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">126</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source"> * Get the value of an element</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">133</td><td class="hits">1</td><td class="source">var val = exports.val = function(value) {</td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">  var querying = arguments.length === 0,</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source">      element = this[0];</td></tr><tr class=""><td class="line">136</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">  if(!element) return;</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">  switch (element.name) {</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">    case &apos;textarea&apos;:</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">      return querying ? this.text() : this.each(function() {</td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">        this.text(value);</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">      });</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">    case &apos;input&apos;:</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">      switch (this.attr(&apos;type&apos;)) {</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">        case &apos;radio&apos;:</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">          var queryString = &apos;input[type=radio][name=&apos; + this.attr(&apos;name&apos;) + &apos;]:checked&apos;;</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">          var parentEl, root;</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">          // Go up until we hit a form or root</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">          parentEl = this.closest(&apos;form&apos;);</td></tr><tr class="miss"><td class="line">152</td><td class="hits">0</td><td class="source">          if (parentEl.length === 0) {</td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">            root = (this.parents().last()[0] || this[0]).parent;</td></tr><tr class="miss"><td class="line">154</td><td class="hits">0</td><td class="source">            parentEl = this.make(root);</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source">          }</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">          if (querying) {</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">            return parentEl.find(queryString).attr(&apos;value&apos;);</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">          } else {</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">            parentEl.find(&apos;:checked&apos;).removeAttr(&apos;checked&apos;);</td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">            parentEl.find(&apos;input[type=radio][value=&quot;&apos; + value + &apos;&quot;]&apos;).attr(&apos;checked&apos;, &apos;&apos;);</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">            return this;</td></tr><tr class=""><td class="line">163</td><td class="hits"></td><td class="source">          }</td></tr><tr class="miss"><td class="line">164</td><td class="hits">0</td><td class="source">          break;</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">        default:</td></tr><tr class="miss"><td class="line">166</td><td class="hits">0</td><td class="source">          return querying ? this.attr(&apos;value&apos;) : this.each(function() {</td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">            this.attr(&apos;value&apos;, value);</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source">          });</td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">170</td><td class="hits">0</td><td class="source">      return;</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">    case &apos;select&apos;:</td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">      var option = this.find(&apos;option:selected&apos;),</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">          returnValue;</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">      if (option === undefined) return undefined;</td></tr><tr class="miss"><td class="line">175</td><td class="hits">0</td><td class="source">      if (!querying) {</td></tr><tr class="miss"><td class="line">176</td><td class="hits">0</td><td class="source">        if (!this.attr().hasOwnProperty(&apos;multiple&apos;) &amp;&amp; typeof value == &apos;object&apos;) {</td></tr><tr class="miss"><td class="line">177</td><td class="hits">0</td><td class="source">          return this;</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">        if (typeof value != &apos;object&apos;) {</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">          value = [value];</td></tr><tr class=""><td class="line">181</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">182</td><td class="hits">0</td><td class="source">        this.find(&apos;option&apos;).removeAttr(&apos;selected&apos;);</td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">        for (var i = 0; i &lt; value.length; i++) {</td></tr><tr class="miss"><td class="line">184</td><td class="hits">0</td><td class="source">          this.find(&apos;option[value=&quot;&apos; + value[i] + &apos;&quot;]&apos;).attr(&apos;selected&apos;, &apos;&apos;);</td></tr><tr class=""><td class="line">185</td><td class="hits"></td><td class="source">        }</td></tr><tr class="miss"><td class="line">186</td><td class="hits">0</td><td class="source">        return this;</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">188</td><td class="hits">0</td><td class="source">      returnValue = option.attr(&apos;value&apos;);</td></tr><tr class="miss"><td class="line">189</td><td class="hits">0</td><td class="source">      if (this.attr().hasOwnProperty(&apos;multiple&apos;)) {</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">        returnValue = [];</td></tr><tr class="miss"><td class="line">191</td><td class="hits">0</td><td class="source">        option.each(function() {</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">          returnValue.push(this.attr(&apos;value&apos;));</td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source">        });</td></tr><tr class=""><td class="line">194</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">      return returnValue;</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">    case &apos;option&apos;:</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">      if (!querying) {</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">        this.attr(&apos;value&apos;, value);</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">        return this;</td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source">      }</td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">      return this.attr(&apos;value&apos;);</td></tr><tr class=""><td class="line">202</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source"> * Remove an attribute</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">208</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">209</td><td class="hits">1</td><td class="source">var removeAttribute = function(elem, name) {</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">  if (!isTag(elem.type) || !elem.attribs || !Object.hasOwnProperty.call(elem.attribs, name))</td></tr><tr class="miss"><td class="line">211</td><td class="hits">0</td><td class="source">    return;</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">  if (rboolean.test(elem.attribs[name]))</td></tr><tr class="miss"><td class="line">214</td><td class="hits">0</td><td class="source">    elem.attribs[name] = false;</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source">  else</td></tr><tr class="miss"><td class="line">216</td><td class="hits">0</td><td class="source">    delete elem.attribs[name];</td></tr><tr class=""><td class="line">217</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">220</td><td class="hits">1</td><td class="source">var removeAttr = exports.removeAttr = function(name) {</td></tr><tr class="miss"><td class="line">221</td><td class="hits">0</td><td class="source">  this.each(function(i, elem) {</td></tr><tr class="miss"><td class="line">222</td><td class="hits">0</td><td class="source">    removeAttribute(elem, name);</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">228</td><td class="hits">1</td><td class="source">var hasClass = exports.hasClass = function(className) {</td></tr><tr class="miss"><td class="line">229</td><td class="hits">0</td><td class="source">  return _.any(this, function(elem) {</td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">    var attrs = elem.attribs;</td></tr><tr class="miss"><td class="line">231</td><td class="hits">0</td><td class="source">    return attrs &amp;&amp; _.contains((attrs[&apos;class&apos;] || &apos;&apos;).split(rspace), className);</td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">233</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">234</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">235</td><td class="hits">1</td><td class="source">var addClass = exports.addClass = function(value) {</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source">  // Support functions</td></tr><tr class="hit"><td class="line">237</td><td class="hits">3616</td><td class="source">  if (_.isFunction(value)) {</td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">    this.each(function(i) {</td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">      var className = this.attr(&apos;class&apos;) || &apos;&apos;;</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">      this.addClass(value.call(this[0], i, className));</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">  // Return if no value or not a string or function</td></tr><tr class="hit"><td class="line">245</td><td class="hits">3620</td><td class="source">  if (!value || !_.isString(value)) return this;</td></tr><tr class=""><td class="line">246</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">247</td><td class="hits">3621</td><td class="source">  var classNames = value.split(rspace),</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source">      numElements = this.length,</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source">      numClasses,</td></tr><tr class=""><td class="line">250</td><td class="hits"></td><td class="source">      setClass,</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">      $elem;</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">254</td><td class="hits">3622</td><td class="source">  for (var i = 0; i &lt; numElements; i++) {</td></tr><tr class="hit"><td class="line">255</td><td class="hits">3623</td><td class="source">    $elem = this.make(this[i]);</td></tr><tr class=""><td class="line">256</td><td class="hits"></td><td class="source">    // If selected element isnt a tag, move on</td></tr><tr class="hit"><td class="line">257</td><td class="hits">3624</td><td class="source">    if (!isTag(this[i])) continue;</td></tr><tr class=""><td class="line">258</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source">    // If we don&apos;t already have classes</td></tr><tr class="hit"><td class="line">260</td><td class="hits">3625</td><td class="source">    if (!$elem.attr(&apos;class&apos;)) {</td></tr><tr class="hit"><td class="line">261</td><td class="hits">3626</td><td class="source">      $elem.attr(&apos;class&apos;, classNames.join(&apos; &apos;).trim());</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">    } else {</td></tr><tr class="miss"><td class="line">263</td><td class="hits">0</td><td class="source">      setClass = &apos; &apos; + $elem.attr(&apos;class&apos;) + &apos; &apos;;</td></tr><tr class="miss"><td class="line">264</td><td class="hits">0</td><td class="source">      numClasses = classNames.length;</td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">      // Check if class already exists</td></tr><tr class="miss"><td class="line">267</td><td class="hits">0</td><td class="source">      for (var j = 0; j &lt; numClasses; j++) {</td></tr><tr class="miss"><td class="line">268</td><td class="hits">0</td><td class="source">        if (!~setClass.indexOf(&apos; &apos; + classNames[j] + &apos; &apos;))</td></tr><tr class="miss"><td class="line">269</td><td class="hits">0</td><td class="source">          setClass += classNames[j] + &apos; &apos;;</td></tr><tr class=""><td class="line">270</td><td class="hits"></td><td class="source">      }</td></tr><tr class=""><td class="line">271</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">272</td><td class="hits">0</td><td class="source">      $elem.attr(&apos;class&apos;, setClass.trim());</td></tr><tr class=""><td class="line">273</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">275</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">276</td><td class="hits">3633</td><td class="source">  return this;</td></tr><tr class=""><td class="line">277</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">278</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">279</td><td class="hits">1</td><td class="source">var removeClass = exports.removeClass = function(value) {</td></tr><tr class="hit"><td class="line">280</td><td class="hits">7880</td><td class="source">  var split = function(className) {</td></tr><tr class="hit"><td class="line">281</td><td class="hits">15762</td><td class="source">    return className ? className.trim().split(rspace) : [];</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">  };</td></tr><tr class="hit"><td class="line">283</td><td class="hits">7883</td><td class="source">  var classes, removeAll;</td></tr><tr class=""><td class="line">284</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">285</td><td class="hits"></td><td class="source">  // Handle if value is a function</td></tr><tr class="hit"><td class="line">286</td><td class="hits">7886</td><td class="source">  if (_.isFunction(value)) {</td></tr><tr class="miss"><td class="line">287</td><td class="hits">0</td><td class="source">    return this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">288</td><td class="hits">0</td><td class="source">      this.removeClass(value.call(this[0], i, el.attribs[&apos;class&apos;] || &apos;&apos;));</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">290</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">291</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">292</td><td class="hits">7892</td><td class="source">  classes = split(value);</td></tr><tr class="hit"><td class="line">293</td><td class="hits">7893</td><td class="source">  removeAll = arguments.length === 0;</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">295</td><td class="hits">7895</td><td class="source">  return this.each(function(i, el) {</td></tr><tr class="hit"><td class="line">296</td><td class="hits">7896</td><td class="source">    if (!isTag(el)) return;</td></tr><tr class="hit"><td class="line">297</td><td class="hits">7897</td><td class="source">    el.attribs.class = removeAll ?</td></tr><tr class=""><td class="line">298</td><td class="hits"></td><td class="source">      &apos;&apos; :</td></tr><tr class=""><td class="line">299</td><td class="hits"></td><td class="source">      _.difference(split(el.attribs.class), classes).join(&apos; &apos;);</td></tr><tr class=""><td class="line">300</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">301</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">302</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">303</td><td class="hits">1</td><td class="source">var toggleClass = exports.toggleClass = function(value, stateVal) {</td></tr><tr class=""><td class="line">304</td><td class="hits"></td><td class="source">  // Support functions</td></tr><tr class="miss"><td class="line">305</td><td class="hits">0</td><td class="source">  if (_.isFunction(value)) {</td></tr><tr class="miss"><td class="line">306</td><td class="hits">0</td><td class="source">    return this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">307</td><td class="hits">0</td><td class="source">      this.toggleClass(value.call(this, i, el.attribs[&apos;class&apos;] || &apos;&apos;, stateVal), stateVal);</td></tr><tr class=""><td class="line">308</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">309</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">310</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">311</td><td class="hits"></td><td class="source">  // Return if no value or not a string or function</td></tr><tr class="miss"><td class="line">312</td><td class="hits">0</td><td class="source">  if (!value || !_.isString(value)) return this;</td></tr><tr class=""><td class="line">313</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">314</td><td class="hits">0</td><td class="source">  var classNames = value.split(rspace),</td></tr><tr class=""><td class="line">315</td><td class="hits"></td><td class="source">    numClasses = classNames.length,</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">    isBool = typeof stateVal === &apos;boolean&apos;,</td></tr><tr class=""><td class="line">317</td><td class="hits"></td><td class="source">    numElements = this.length,</td></tr><tr class=""><td class="line">318</td><td class="hits"></td><td class="source">    $elem,</td></tr><tr class=""><td class="line">319</td><td class="hits"></td><td class="source">    state;</td></tr><tr class=""><td class="line">320</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">321</td><td class="hits">0</td><td class="source">  for (var i = 0; i &lt; numElements; i++) {</td></tr><tr class="miss"><td class="line">322</td><td class="hits">0</td><td class="source">    $elem = this.make(this[i]);</td></tr><tr class=""><td class="line">323</td><td class="hits"></td><td class="source">    // If selected element isnt a tag, move on</td></tr><tr class="miss"><td class="line">324</td><td class="hits">0</td><td class="source">    if (!isTag(this[i])) continue;</td></tr><tr class=""><td class="line">325</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">326</td><td class="hits"></td><td class="source">    // Check if class already exists</td></tr><tr class="miss"><td class="line">327</td><td class="hits">0</td><td class="source">    for (var j = 0; j &lt; numClasses; j++) {</td></tr><tr class=""><td class="line">328</td><td class="hits"></td><td class="source">      // check each className given, space separated list</td></tr><tr class="miss"><td class="line">329</td><td class="hits">0</td><td class="source">      state = isBool ? stateVal : !$elem.hasClass(classNames[j]);</td></tr><tr class="miss"><td class="line">330</td><td class="hits">0</td><td class="source">      $elem[state ? &apos;addClass&apos; : &apos;removeClass&apos;](classNames[j]);</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">333</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">334</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">337</td><td class="hits">1</td><td class="source">var is = exports.is = function (selector) {</td></tr><tr class="miss"><td class="line">338</td><td class="hits">0</td><td class="source">  if (selector) {</td></tr><tr class="miss"><td class="line">339</td><td class="hits">0</td><td class="source">    return this.filter(selector).length &gt; 0;</td></tr><tr class=""><td class="line">340</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">341</td><td class="hits">0</td><td class="source">  return false;</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">343</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">344</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/traversing.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/traversing.js</h2>
          <div class="stats high">
            <div class="percentage">26.7%</div>
            <div class="sloc">101</div>
            <div class="hits">27</div>
            <div class="misses">74</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var _ = require(&apos;underscore&apos;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    select = require(&apos;cheerio-select&apos;),</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    utils = require(&apos;../utils&apos;),</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    isTag = utils.isTag;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">6</td><td class="hits">1</td><td class="source">var find = exports.find = function(selector) {</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">  // TODO: Remove the call to _.uniq when the underlying bug in CSSselect has</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">  // been resolved:</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">  // https://github.com/fb55/CSSselect/issues/12</td></tr><tr class="hit"><td class="line">10</td><td class="hits">32045</td><td class="source">  return this.make(_.uniq(select(selector, [].slice.call(this.children()))));</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">// Get the parent of each element in the current set of matched elements,</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">// optionally filtered by a selector.</td></tr><tr class="hit"><td class="line">15</td><td class="hits">1</td><td class="source">var parent = exports.parent = function(selector) {</td></tr><tr class="miss"><td class="line">16</td><td class="hits">0</td><td class="source">  var set = [];</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">  var $set;</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">  this.each(function(idx, elem) {</td></tr><tr class="miss"><td class="line">20</td><td class="hits">0</td><td class="source">    var parentElem = elem.parent;</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">    if (set.indexOf(parentElem) &lt; 0 &amp;&amp; parentElem.type !== &apos;root&apos;) {</td></tr><tr class="miss"><td class="line">22</td><td class="hits">0</td><td class="source">      set.push(parentElem);</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">26</td><td class="hits">0</td><td class="source">  $set = this.make(set);</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">28</td><td class="hits">0</td><td class="source">  if (arguments.length) {</td></tr><tr class="miss"><td class="line">29</td><td class="hits">0</td><td class="source">    $set = $set.filter(selector);</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">  return $set;</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">var parents = exports.parents = function(selector) {</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">  if (this[0] &amp;&amp; this[0].parent) {</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">    return traverseParents(this, this[0].parent, selector, Infinity);</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">// For each element in the set, get the first element that matches the selector</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">// by testing the element itself and traversing up through its ancestors in the</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">// DOM tree.</td></tr><tr class="hit"><td class="line">45</td><td class="hits">1</td><td class="source">var closest = exports.closest = function(selector) {</td></tr><tr class="miss"><td class="line">46</td><td class="hits">0</td><td class="source">  var set = [];</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">  if (!selector) {</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">    return this.make(set);</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">  this.each(function(idx, elem) {</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">    var closestElem = traverseParents(this, elem, selector, 1)[0];</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    // Do not add duplicate elements to the set</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">    if (closestElem &amp;&amp; set.indexOf(closestElem) &lt; 0) {</td></tr><tr class="miss"><td class="line">57</td><td class="hits">0</td><td class="source">      set.push(closestElem);</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">  }.bind(this));</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">61</td><td class="hits">0</td><td class="source">  return this.make(set);</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">64</td><td class="hits">1</td><td class="source">var next = exports.next = function() {</td></tr><tr class="miss"><td class="line">65</td><td class="hits">0</td><td class="source">  if (!this[0]) { return this; }</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">  var elem = this[0];</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">  while ((elem = elem.next)) if (isTag(elem)) return this.make(elem);</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">  return this.make([]);</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">71</td><td class="hits">1</td><td class="source">var nextAll = exports.nextAll = function(selector) {</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">  if (!this[0]) { return this; }</td></tr><tr class="miss"><td class="line">73</td><td class="hits">0</td><td class="source">  var elems = [], elem = this[0];</td></tr><tr class="miss"><td class="line">74</td><td class="hits">0</td><td class="source">  while ((elem = elem.next)) if (isTag(elem)) elems.push(elem);</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">  return this.make(selector ? select(selector, elems) : elems);</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">78</td><td class="hits">1</td><td class="source">var prev = exports.prev = function() {</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">  if (!this[0]) { return this; }</td></tr><tr class="miss"><td class="line">80</td><td class="hits">0</td><td class="source">  var elem = this[0];</td></tr><tr class="miss"><td class="line">81</td><td class="hits">0</td><td class="source">  while ((elem = elem.prev)) if (isTag(elem)) return this.make(elem);</td></tr><tr class="miss"><td class="line">82</td><td class="hits">0</td><td class="source">  return this.make([]);</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">85</td><td class="hits">1</td><td class="source">var prevAll = exports.prevAll = function(selector) {</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">  if (!this[0]) { return this; }</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">  var elems = [], elem = this[0];</td></tr><tr class="miss"><td class="line">88</td><td class="hits">0</td><td class="source">  while ((elem = elem.prev)) if (isTag(elem)) elems.push(elem);</td></tr><tr class="miss"><td class="line">89</td><td class="hits">0</td><td class="source">  return this.make(selector ? select(selector, elems) : elems);</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">92</td><td class="hits">1</td><td class="source">var siblings = exports.siblings = function(selector) {</td></tr><tr class="miss"><td class="line">93</td><td class="hits">0</td><td class="source">  var elems = _.filter(</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">    this.parent() ? this.parent().children() : this.siblingsAndMe(),</td></tr><tr class="miss"><td class="line">95</td><td class="hits">0</td><td class="source">    function(elem) { return isTag(elem) &amp;&amp; !this.is(elem); },</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">    this</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source">  );</td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">  if (selector !== undefined) {</td></tr><tr class="miss"><td class="line">99</td><td class="hits">0</td><td class="source">    elems = this.make(select(selector, elems));</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">101</td><td class="hits">0</td><td class="source">  return this.make(elems);</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">var children = exports.children = function(selector) {</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">106</td><td class="hits">32429</td><td class="source">  var elems = _.reduce(this, function(memo, elem) {</td></tr><tr class="hit"><td class="line">107</td><td class="hits">32433</td><td class="source">    return memo.concat(_.filter(elem.children, isTag));</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">  }, []);</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">110</td><td class="hits">64890</td><td class="source">  if (selector === undefined) return this.make(elems);</td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">  else if (_.isNumber(selector)) return this.make(elems[selector]);</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">  return this.make(elems).filter(selector);</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">116</td><td class="hits">1</td><td class="source">var contents = exports.contents = function() {</td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">  return this.make(_.reduce(this, function(all, elem) {</td></tr><tr class="miss"><td class="line">118</td><td class="hits">0</td><td class="source">    all.push.apply(all, elem.children);</td></tr><tr class="miss"><td class="line">119</td><td class="hits">0</td><td class="source">    return all;</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">  }, []));</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">123</td><td class="hits">1</td><td class="source">var each = exports.each = function(fn) {</td></tr><tr class="hit"><td class="line">124</td><td class="hits">40011</td><td class="source">  var i = 0, len = this.length;</td></tr><tr class="hit"><td class="line">125</td><td class="hits">80034</td><td class="source">  while (i &lt; len &amp;&amp; fn.call(this.make(this[i]), i, this[i]) !== false) ++i;</td></tr><tr class="hit"><td class="line">126</td><td class="hits">40023</td><td class="source">  return this;</td></tr><tr class=""><td class="line">127</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">129</td><td class="hits">1</td><td class="source">var map = exports.map = function(fn) {</td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">  return _.map(this, function(el, i) {</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">    return fn.call(this.make(el), i, el);</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">  }, this);</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">135</td><td class="hits">1</td><td class="source">var filter = exports.filter = function(match) {</td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">  var make = _.bind(this.make, this);</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">  var filterFn;</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">139</td><td class="hits">0</td><td class="source">  if (_.isString(match)) {</td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">    filterFn = function(el) {</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">      return select(match, el)[0] === el;</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">    };</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">  } else if (_.isFunction(match)) {</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">    filterFn = function(el, i) {</td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">      return match.call(make(el), i, el);</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">    };</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">  } else if (match.cheerio) {</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">    filterFn = match.is.bind(match);</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">    filterFn = function(el) {</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">      return match === el;</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">    };</td></tr><tr class=""><td class="line">153</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">  return make(_.filter(this, filterFn));</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">158</td><td class="hits">1</td><td class="source">var first = exports.first = function() {</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">  return this[0] ? this.make(this[0]) : this;</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">161</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">162</td><td class="hits">1</td><td class="source">var last = exports.last = function() {</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">  return this[0] ? this.make(this[this.length - 1]) : this;</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source">// Reduce the set of matched elements to the one at the specified index.</td></tr><tr class="hit"><td class="line">167</td><td class="hits">1</td><td class="source">var eq = exports.eq = function(i) {</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">  i = +i;</td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">  if (i &lt; 0) i = this.length + i;</td></tr><tr class="miss"><td class="line">170</td><td class="hits">0</td><td class="source">  return this[i] ? this.make(this[i]) : this.make([]);</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">172</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">173</td><td class="hits">1</td><td class="source">var slice = exports.slice = function() {</td></tr><tr class="miss"><td class="line">174</td><td class="hits">0</td><td class="source">  return this.make([].slice.apply(this, arguments));</td></tr><tr class=""><td class="line">175</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">176</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">177</td><td class="hits">1</td><td class="source">function traverseParents(self, elem, selector, limit) {</td></tr><tr class="miss"><td class="line">178</td><td class="hits">0</td><td class="source">  var elems = [];</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">  while (elems.length &lt; limit &amp;&amp; elem.type !== &apos;root&apos;) {</td></tr><tr class="miss"><td class="line">180</td><td class="hits">0</td><td class="source">    if (!selector || self.make(elem).filter(selector).length) {</td></tr><tr class="miss"><td class="line">181</td><td class="hits">0</td><td class="source">      elems.push(elem);</td></tr><tr class=""><td class="line">182</td><td class="hits"></td><td class="source">    }</td></tr><tr class="miss"><td class="line">183</td><td class="hits">0</td><td class="source">    elem = elem.parent;</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source">  }</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">  return self.make(elems);</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/manipulation.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/manipulation.js</h2>
          <div class="stats high">
            <div class="percentage">36.2%</div>
            <div class="sloc">94</div>
            <div class="hits">34</div>
            <div class="misses">60</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var _ = require(&apos;underscore&apos;),</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source">    parse = require(&apos;../parse&apos;),</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">    $ = require(&apos;../static&apos;),</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">    updateDOM = parse.update,</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">    evaluate = parse.evaluate,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    encode = require(&apos;../utils&apos;).encode,</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    slice = Array.prototype.slice;</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">// Create an array of nodes, recursing into arrays and parsing strings if</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">// necessary</td></tr><tr class="hit"><td class="line">11</td><td class="hits">1</td><td class="source">var makeDomArray = function(elem) {</td></tr><tr class="hit"><td class="line">12</td><td class="hits">16290</td><td class="source">  if (elem == null) {</td></tr><tr class="miss"><td class="line">13</td><td class="hits">0</td><td class="source">    return [];</td></tr><tr class="hit"><td class="line">14</td><td class="hits">16294</td><td class="source">  } else if (elem.cheerio) {</td></tr><tr class="hit"><td class="line">15</td><td class="hits">8148</td><td class="source">    return elem.toArray();</td></tr><tr class="hit"><td class="line">16</td><td class="hits">8149</td><td class="source">  } else if (_.isArray(elem)) {</td></tr><tr class="hit"><td class="line">17</td><td class="hits">8150</td><td class="source">    return _.flatten(elem.map(makeDomArray));</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">  } else if (_.isString(elem)) {</td></tr><tr class="miss"><td class="line">19</td><td class="hits">0</td><td class="source">    return evaluate(elem);</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">    return [elem];</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">25</td><td class="hits">1</td><td class="source">var _insert = function(concatenator) {</td></tr><tr class="hit"><td class="line">26</td><td class="hits">2</td><td class="source">  return function() {</td></tr><tr class="hit"><td class="line">27</td><td class="hits">8160</td><td class="source">    var elems = slice.call(arguments),</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">        dom = makeDomArray(elems);</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">30</td><td class="hits">8163</td><td class="source">    return this.each(function(i, el) {</td></tr><tr class="hit"><td class="line">31</td><td class="hits">8164</td><td class="source">      if (_.isFunction(elems[0])) {</td></tr><tr class="miss"><td class="line">32</td><td class="hits">0</td><td class="source">        dom = makeDomArray(elems[0].call(el, i, this.html()));</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">      }</td></tr><tr class="hit"><td class="line">34</td><td class="hits">8167</td><td class="source">      updateDOM(concatenator(dom, el.children || (el.children = [])), el);</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">39</td><td class="hits">1</td><td class="source">var append = exports.append = _insert(function(dom, children) {</td></tr><tr class="hit"><td class="line">40</td><td class="hits">8173</td><td class="source">  return children.concat(dom);</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">43</td><td class="hits">1</td><td class="source">var prepend = exports.prepend = _insert(function(dom, children) {</td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">  return dom.concat(children);</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">});</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">47</td><td class="hits">1</td><td class="source">var after = exports.after = function() {</td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">  var elems = slice.call(arguments),</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">      dom = makeDomArray(elems);</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">52</td><td class="hits">0</td><td class="source">    var siblings = el.parent.children,</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">        index = siblings.indexOf(el);</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    // If not found, move on</td></tr><tr class="miss"><td class="line">56</td><td class="hits">0</td><td class="source">    if (!~index) return;</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">58</td><td class="hits">0</td><td class="source">    if (_.isFunction(elems[0])) {</td></tr><tr class="miss"><td class="line">59</td><td class="hits">0</td><td class="source">      dom = makeDomArray(elems[0].call(el, i));</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">    // Add element after `this` element</td></tr><tr class="miss"><td class="line">63</td><td class="hits">0</td><td class="source">    siblings.splice.apply(siblings, [++index, 0].concat(dom));</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    // Update next, prev, and parent pointers</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">    updateDOM(siblings, el.parent);</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">    el.parent.children = siblings;</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">71</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">74</td><td class="hits">1</td><td class="source">var before = exports.before = function() {</td></tr><tr class="miss"><td class="line">75</td><td class="hits">0</td><td class="source">  var elems = slice.call(arguments),</td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">      dom = makeDomArray(elems);</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">78</td><td class="hits">0</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">79</td><td class="hits">0</td><td class="source">    var siblings = el.parent.children,</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source">        index = siblings.indexOf(el);</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">    // If not found, move on</td></tr><tr class="miss"><td class="line">83</td><td class="hits">0</td><td class="source">    if (!~index) return;</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">    if (_.isFunction(elems[0])) {</td></tr><tr class="miss"><td class="line">86</td><td class="hits">0</td><td class="source">      dom = makeDomArray(elems[0].call(el, i));</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">    // Add element before `el` element</td></tr><tr class="miss"><td class="line">90</td><td class="hits">0</td><td class="source">    siblings.splice.apply(siblings, [index, 0].concat(dom));</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">    // Update next, prev, and parent pointers</td></tr><tr class="miss"><td class="line">93</td><td class="hits">0</td><td class="source">    updateDOM(siblings, el.parent);</td></tr><tr class="miss"><td class="line">94</td><td class="hits">0</td><td class="source">    el.parent.children = siblings;</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">98</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">  remove([selector])</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source">*/</td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">var remove = exports.remove = function(selector) {</td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">  var elems = this;</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">  // Filter if we have selector</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">  if (selector)</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">    elems = elems.filter(selector);</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">111</td><td class="hits">0</td><td class="source">  elems.each(function(i, el) {</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">    var siblings = el.parent.children,</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">        index = siblings.indexOf(el);</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">    if (!~index) return;</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">117</td><td class="hits">0</td><td class="source">    siblings.splice(index, 1);</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">    // Update next, prev, and parent pointers</td></tr><tr class="miss"><td class="line">120</td><td class="hits">0</td><td class="source">    updateDOM(siblings, el.parent);</td></tr><tr class="miss"><td class="line">121</td><td class="hits">0</td><td class="source">    el.parent.children = siblings;</td></tr><tr class=""><td class="line">122</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">127</td><td class="hits">1</td><td class="source">var replaceWith = exports.replaceWith = function(content) {</td></tr><tr class="miss"><td class="line">128</td><td class="hits">0</td><td class="source">  var dom = makeDomArray(content);</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">130</td><td class="hits">0</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">131</td><td class="hits">0</td><td class="source">    var siblings = el.parent.children,</td></tr><tr class=""><td class="line">132</td><td class="hits"></td><td class="source">        index = siblings.indexOf(el);</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">134</td><td class="hits">0</td><td class="source">    if (!~index) return;</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">136</td><td class="hits">0</td><td class="source">    if (_.isFunction(content)) {</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">      dom = makeDomArray(content.call(el, i));</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">140</td><td class="hits">0</td><td class="source">    siblings.splice.apply(siblings, [index, 1].concat(dom));</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">    updateDOM(siblings, el.parent);</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">    el.parent.children = siblings;</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">149</td><td class="hits">1</td><td class="source">var empty = exports.empty = function() {</td></tr><tr class="miss"><td class="line">150</td><td class="hits">0</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">151</td><td class="hits">0</td><td class="source">    el.children = [];</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source">  });</td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source"> * Set/Get the HTML</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source"> */</td></tr><tr class="hit"><td class="line">159</td><td class="hits">1</td><td class="source">var html = exports.html = function(str) {</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">  if (str === undefined) {</td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">    if (!this[0] || !this[0].children) return null;</td></tr><tr class="miss"><td class="line">162</td><td class="hits">0</td><td class="source">    return $.html(this[0].children);</td></tr><tr class=""><td class="line">163</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">  str = str.cheerio ? str.toArray() : evaluate(str);</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">167</td><td class="hits">0</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">168</td><td class="hits">0</td><td class="source">    el.children = str;</td></tr><tr class="miss"><td class="line">169</td><td class="hits">0</td><td class="source">    updateDOM(el.children, el);</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">172</td><td class="hits">0</td><td class="source">  return this;</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">175</td><td class="hits">1</td><td class="source">var toString = exports.toString = function() {</td></tr><tr class="miss"><td class="line">176</td><td class="hits">0</td><td class="source">  return $.html(this);</td></tr><tr class=""><td class="line">177</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">178</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">179</td><td class="hits">1</td><td class="source">var text = exports.text = function(str) {</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source">  // If `str` is undefined, act as a &quot;getter&quot;</td></tr><tr class="hit"><td class="line">181</td><td class="hits">25001</td><td class="source">  if (str === undefined) {</td></tr><tr class="hit"><td class="line">182</td><td class="hits">4354</td><td class="source">    return $.text(this);</td></tr><tr class="hit"><td class="line">183</td><td class="hits">20653</td><td class="source">  } else if (_.isFunction(str)) {</td></tr><tr class=""><td class="line">184</td><td class="hits"></td><td class="source">    // Function support</td></tr><tr class="miss"><td class="line">185</td><td class="hits">0</td><td class="source">    return this.each(function(i, el) {</td></tr><tr class="miss"><td class="line">186</td><td class="hits">0</td><td class="source">      return this.text(str.call(el, i, this.text()));</td></tr><tr class=""><td class="line">187</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">190</td><td class="hits">20670</td><td class="source">  var elem = {</td></tr><tr class=""><td class="line">191</td><td class="hits"></td><td class="source">    data: encode(str),</td></tr><tr class=""><td class="line">192</td><td class="hits"></td><td class="source">    type: &apos;text&apos;,</td></tr><tr class=""><td class="line">193</td><td class="hits"></td><td class="source">    parent: null,</td></tr><tr class=""><td class="line">194</td><td class="hits"></td><td class="source">    prev: null,</td></tr><tr class=""><td class="line">195</td><td class="hits"></td><td class="source">    next: null,</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">    children: []</td></tr><tr class=""><td class="line">197</td><td class="hits"></td><td class="source">  };</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source">  // Append text node to each selected elements</td></tr><tr class="hit"><td class="line">200</td><td class="hits">20691</td><td class="source">  this.each(function(i, el) {</td></tr><tr class="hit"><td class="line">201</td><td class="hits">20694</td><td class="source">    el.children = elem;</td></tr><tr class="hit"><td class="line">202</td><td class="hits">20697</td><td class="source">    updateDOM(el.children, el);</td></tr><tr class=""><td class="line">203</td><td class="hits"></td><td class="source">  });</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">205</td><td class="hits">20704</td><td class="source">  return this;</td></tr><tr class=""><td class="line">206</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">207</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">208</td><td class="hits">1</td><td class="source">var clone = exports.clone = function() {</td></tr><tr class=""><td class="line">209</td><td class="hits"></td><td class="source">  // Turn it into HTML, then recreate it,</td></tr><tr class=""><td class="line">210</td><td class="hits"></td><td class="source">  // Seems to be the easiest way to reconnect everything correctly</td></tr><tr class="hit"><td class="line">211</td><td class="hits">8346</td><td class="source">  return this.constructor($.html(this));</td></tr><tr class=""><td class="line">212</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/css.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/lib/api/css.js</h2>
          <div class="stats high">
            <div class="percentage">17.9%</div>
            <div class="sloc">39</div>
            <div class="hits">7</div>
            <div class="misses">32</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var _ = require(&apos;underscore&apos;);</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">var toString = Object.prototype.toString;</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source"> * Set / Get css.</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source"> * @param {String|Object} prop</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source"> * @param {String} val</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source"> * @return {self}</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"> * @api public</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">13</td><td class="hits">1</td><td class="source">exports.css = function(prop, val) {</td></tr><tr class="miss"><td class="line">14</td><td class="hits">0</td><td class="source">  if (arguments.length === 2 ||</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">    // When `prop` is a &quot;plain&quot; object</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">    (toString.call(prop) === &apos;[object Object]&apos;)) {</td></tr><tr class="miss"><td class="line">17</td><td class="hits">0</td><td class="source">    return this.each(function(idx) {</td></tr><tr class="miss"><td class="line">18</td><td class="hits">0</td><td class="source">      this._setCss(prop, val, idx);</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    });</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">21</td><td class="hits">0</td><td class="source">    return this._getCss(prop);</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source"> * Set styles of all elements.</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source"> * @param {String|Object} prop</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"> * @param {String} val</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source"> * @param {Number} idx - optional index within the selection</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source"> * @return {self}</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source"> * @api private</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">exports._setCss = function(prop, val, idx) {</td></tr><tr class="miss"><td class="line">36</td><td class="hits">0</td><td class="source">  if (&apos;string&apos; == typeof prop) {</td></tr><tr class="miss"><td class="line">37</td><td class="hits">0</td><td class="source">    var styles = this._getCss();</td></tr><tr class="miss"><td class="line">38</td><td class="hits">0</td><td class="source">    if (_.isFunction(val)) {</td></tr><tr class="miss"><td class="line">39</td><td class="hits">0</td><td class="source">      val = val.call(this[0], idx, this[0]);</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">42</td><td class="hits">0</td><td class="source">    if (val === &apos;&apos;) {</td></tr><tr class="miss"><td class="line">43</td><td class="hits">0</td><td class="source">      delete styles[prop];</td></tr><tr class="miss"><td class="line">44</td><td class="hits">0</td><td class="source">    } else if (val != null) {</td></tr><tr class="miss"><td class="line">45</td><td class="hits">0</td><td class="source">      styles[prop] = val;</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">    }</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">48</td><td class="hits">0</td><td class="source">    return this.attr(&apos;style&apos;, stringify(styles));</td></tr><tr class="miss"><td class="line">49</td><td class="hits">0</td><td class="source">  } else if (&apos;object&apos; == typeof prop) {</td></tr><tr class="miss"><td class="line">50</td><td class="hits">0</td><td class="source">    Object.keys(prop).forEach(function(k){</td></tr><tr class="miss"><td class="line">51</td><td class="hits">0</td><td class="source">      this._setCss(k, prop[k]);</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">    }, this);</td></tr><tr class="miss"><td class="line">53</td><td class="hits">0</td><td class="source">    return this;</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source"> * Get parsed styles of the first element.</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source"> * @param {String} prop</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"> * @return {Object}</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source"> * @api private</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">1</td><td class="source">exports._getCss = function(prop) {</td></tr><tr class="miss"><td class="line">66</td><td class="hits">0</td><td class="source">  var styles = parse(this.attr(&apos;style&apos;));</td></tr><tr class="miss"><td class="line">67</td><td class="hits">0</td><td class="source">  if (typeof prop === &apos;string&apos;) {</td></tr><tr class="miss"><td class="line">68</td><td class="hits">0</td><td class="source">    return styles[prop];</td></tr><tr class="miss"><td class="line">69</td><td class="hits">0</td><td class="source">  } else if (_.isArray(prop)) {</td></tr><tr class="miss"><td class="line">70</td><td class="hits">0</td><td class="source">    return _.pick(styles, prop);</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">  } else {</td></tr><tr class="miss"><td class="line">72</td><td class="hits">0</td><td class="source">    return styles;</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">  }</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">75</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">76</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">77</td><td class="hits"></td><td class="source"> * Stringify `obj` to styles.</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">79</td><td class="hits"></td><td class="source"> * @param {Object} obj</td></tr><tr class=""><td class="line">80</td><td class="hits"></td><td class="source"> * @return {Object}</td></tr><tr class=""><td class="line">81</td><td class="hits"></td><td class="source"> * @api private</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">84</td><td class="hits">1</td><td class="source">function stringify(obj) {</td></tr><tr class="miss"><td class="line">85</td><td class="hits">0</td><td class="source">  return Object.keys(obj || {})</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">    .reduce(function(str, prop){</td></tr><tr class="miss"><td class="line">87</td><td class="hits">0</td><td class="source">      return str += &apos;&apos;</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source">        + (str ? &apos; &apos; : &apos;&apos;)</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source">        + prop</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">        + &apos;: &apos;</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source">        + obj[prop]</td></tr><tr class=""><td class="line">92</td><td class="hits"></td><td class="source">        + &apos;;&apos;;</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">    }, &apos;&apos;);</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">95</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">/**</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source"> * Parse `styles`.</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source"> *</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source"> * @param {String} styles</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source"> * @return {Object}</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source"> * @api private</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source"> */</td></tr><tr class=""><td class="line">103</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">function parse(styles) {</td></tr><tr class="miss"><td class="line">105</td><td class="hits">0</td><td class="source">  styles = (styles || &apos;&apos;).trim();</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">107</td><td class="hits">0</td><td class="source">  if (!styles) return {};</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">  return styles</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">    .split(/\s*;\s*/)</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">    .reduce(function(obj, str){</td></tr><tr class="miss"><td class="line">112</td><td class="hits">0</td><td class="source">      var parts = str.split(/\s*:\s*/);</td></tr><tr class="miss"><td class="line">113</td><td class="hits">0</td><td class="source">      if (!parts[0]) return obj;</td></tr><tr class="miss"><td class="line">114</td><td class="hits">0</td><td class="source">      obj[parts[0]] = parts[1];</td></tr><tr class="miss"><td class="line">115</td><td class="hits">0</td><td class="source">      return obj;</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">    }, {});</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domhandler/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domhandler/index.js</h2>
          <div class="stats high">
            <div class="percentage">81.3%</div>
            <div class="sloc">75</div>
            <div class="hits">61</div>
            <div class="misses">14</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var ElementType = require(&quot;domelementtype&quot;);</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">function DomHandler(callback, options, elementCB){</td></tr><tr class="hit"><td class="line">4</td><td class="hits">8475</td><td class="source">	if(typeof callback === &quot;object&quot;){</td></tr><tr class="miss"><td class="line">5</td><td class="hits">0</td><td class="source">		elementCB = options;</td></tr><tr class="miss"><td class="line">6</td><td class="hits">0</td><td class="source">		options = callback;</td></tr><tr class="miss"><td class="line">7</td><td class="hits">0</td><td class="source">		callback = null;</td></tr><tr class="hit"><td class="line">8</td><td class="hits">8479</td><td class="source">	} else if(typeof options === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">9</td><td class="hits">0</td><td class="source">		elementCB = options;</td></tr><tr class="miss"><td class="line">10</td><td class="hits">0</td><td class="source">		options = defaultOpts;</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">12</td><td class="hits">8483</td><td class="source">	this._callback = callback;</td></tr><tr class="hit"><td class="line">13</td><td class="hits">8484</td><td class="source">	this._options = options || defaultOpts;</td></tr><tr class="hit"><td class="line">14</td><td class="hits">8485</td><td class="source">	this._elementCB = elementCB;</td></tr><tr class="hit"><td class="line">15</td><td class="hits">8486</td><td class="source">	this.dom = [];</td></tr><tr class="hit"><td class="line">16</td><td class="hits">8487</td><td class="source">	this._done = false;</td></tr><tr class="hit"><td class="line">17</td><td class="hits">8488</td><td class="source">	this._tagStack = [];</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">//default options</td></tr><tr class="hit"><td class="line">21</td><td class="hits">1</td><td class="source">var defaultOpts = {</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">	ignoreWhitespace: false //Keep whitespace-only text nodes</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">//Resets the handler back to starting state</td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">DomHandler.prototype.onreset = function(){</td></tr><tr class="miss"><td class="line">27</td><td class="hits">0</td><td class="source">	DomHandler.call(this, this._callback, this._options, this._elementCB);</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">//Signals the handler that parsing is done</td></tr><tr class="hit"><td class="line">31</td><td class="hits">1</td><td class="source">DomHandler.prototype.onend = function(){</td></tr><tr class="hit"><td class="line">32</td><td class="hits">8503</td><td class="source">	if(this._done) return;</td></tr><tr class="hit"><td class="line">33</td><td class="hits">8504</td><td class="source">	this._done = true;</td></tr><tr class="hit"><td class="line">34</td><td class="hits">8505</td><td class="source">	this._handleCallback(null);</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">37</td><td class="hits">1</td><td class="source">DomHandler.prototype._handleCallback =</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">DomHandler.prototype.onerror = function(error){</td></tr><tr class="hit"><td class="line">39</td><td class="hits">8510</td><td class="source">	if(typeof this._callback === &quot;function&quot;){</td></tr><tr class="miss"><td class="line">40</td><td class="hits">0</td><td class="source">		this._callback(error, this.dom);</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="hit"><td class="line">42</td><td class="hits">8513</td><td class="source">		if(error) throw error;</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">46</td><td class="hits">1</td><td class="source">DomHandler.prototype.onclosetag = function(name){</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	//if(this._tagStack.pop().name !== name) this._handleCallback(Error(&quot;Tagname didn&apos;t match!&quot;));</td></tr><tr class="hit"><td class="line">48</td><td class="hits">35011</td><td class="source">	var elem = this._tagStack.pop();</td></tr><tr class="hit"><td class="line">49</td><td class="hits">35015</td><td class="source">	if(this._elementCB) this._elementCB(elem);</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">52</td><td class="hits">1</td><td class="source">DomHandler.prototype._addDomElement = function(element){</td></tr><tr class="hit"><td class="line">53</td><td class="hits">1373</td><td class="source">	var lastTag = this._tagStack[this._tagStack.length - 1];</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">55</td><td class="hits">1373</td><td class="source">	if(lastTag){</td></tr><tr class="hit"><td class="line">56</td><td class="hits">1368</td><td class="source">		lastTag.children.push(element);</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">	} else { //There aren&apos;t parent elements</td></tr><tr class="hit"><td class="line">58</td><td class="hits">5</td><td class="source">		this.dom.push(element);</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">62</td><td class="hits">1</td><td class="source">DomHandler.prototype.onopentag = function(name, attribs){</td></tr><tr class="hit"><td class="line">63</td><td class="hits">35071</td><td class="source">	var lastTag = this._tagStack[this._tagStack.length - 1];</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">65</td><td class="hits">35079</td><td class="source">	var element = {</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">		type: name === &quot;script&quot; ? ElementType.Script : name === &quot;style&quot; ? ElementType.Style : ElementType.Tag,</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">		name: name,</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">		attribs: attribs,</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">		children: [],</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">		prev: null,</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">		next: null,</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">		parent: lastTag || null</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">75</td><td class="hits">35119</td><td class="source">	if(lastTag){</td></tr><tr class="hit"><td class="line">76</td><td class="hits">26576</td><td class="source">		var idx = lastTag.children.length;</td></tr><tr class="hit"><td class="line">77</td><td class="hits">26579</td><td class="source">		while(idx &gt; 0){</td></tr><tr class="hit"><td class="line">78</td><td class="hits">18406</td><td class="source">			if(ElementType.isTag(lastTag.children[--idx])){</td></tr><tr class="hit"><td class="line">79</td><td class="hits">17600</td><td class="source">				element.prev = lastTag.children[idx];</td></tr><tr class="hit"><td class="line">80</td><td class="hits">17602</td><td class="source">				lastTag.children[idx].next = element;</td></tr><tr class="hit"><td class="line">81</td><td class="hits">17604</td><td class="source">				break;</td></tr><tr class=""><td class="line">82</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">		}</td></tr><tr class="hit"><td class="line">84</td><td class="hits">26600</td><td class="source">		lastTag.children.push(element);</td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="hit"><td class="line">86</td><td class="hits">8557</td><td class="source">		this.dom.push(element);</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">89</td><td class="hits">35175</td><td class="source">	this._tagStack.push(element);</td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">91</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">92</td><td class="hits">1</td><td class="source">DomHandler.prototype.ontext = function(data){</td></tr><tr class="hit"><td class="line">93</td><td class="hits">1372</td><td class="source">	if(this._options.ignoreWhitespace &amp;&amp; data.trim() === &quot;&quot;) return;</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">95</td><td class="hits">1372</td><td class="source">	if(this._tagStack.length){</td></tr><tr class="hit"><td class="line">96</td><td class="hits">1369</td><td class="source">		var lastTag;</td></tr><tr class=""><td class="line">97</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">98</td><td class="hits">1369</td><td class="source">		if(</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source">			(lastTag = this._tagStack[this._tagStack.length - 1]) &amp;&amp;</td></tr><tr class=""><td class="line">100</td><td class="hits"></td><td class="source">			(lastTag = lastTag.children[lastTag.children.length - 1]) &amp;&amp;</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source">			lastTag.type === ElementType.Text</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">		){</td></tr><tr class="hit"><td class="line">103</td><td class="hits">1</td><td class="source">			lastTag.data += data;</td></tr><tr class="hit"><td class="line">104</td><td class="hits">1</td><td class="source">			return;</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="hit"><td class="line">107</td><td class="hits">3</td><td class="source">		if(this.dom.length &amp;&amp; this.dom[this.dom.length-1].type === ElementType.Text){</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">			this.dom[this.dom.length-1].data += data;</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">			return;</td></tr><tr class=""><td class="line">110</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">113</td><td class="hits">1371</td><td class="source">	this._addDomElement({</td></tr><tr class=""><td class="line">114</td><td class="hits"></td><td class="source">		data: data,</td></tr><tr class=""><td class="line">115</td><td class="hits"></td><td class="source">		type: ElementType.Text</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">	});</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">118</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">119</td><td class="hits">1</td><td class="source">DomHandler.prototype.oncomment = function(data){</td></tr><tr class="hit"><td class="line">120</td><td class="hits">1</td><td class="source">	var lastTag = this._tagStack[this._tagStack.length - 1];</td></tr><tr class=""><td class="line">121</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">122</td><td class="hits">1</td><td class="source">	if(lastTag &amp;&amp; lastTag.type === ElementType.Comment){</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">		lastTag.data += data;</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">		return;</td></tr><tr class=""><td class="line">125</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">127</td><td class="hits">1</td><td class="source">	var element = {</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">		data: data,</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source">		type: ElementType.Comment</td></tr><tr class=""><td class="line">130</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">131</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">132</td><td class="hits">1</td><td class="source">	this._addDomElement(element);</td></tr><tr class="hit"><td class="line">133</td><td class="hits">1</td><td class="source">	this._tagStack.push(element);</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">135</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">136</td><td class="hits">1</td><td class="source">DomHandler.prototype.oncdatastart = function(){</td></tr><tr class="miss"><td class="line">137</td><td class="hits">0</td><td class="source">	var element = {</td></tr><tr class=""><td class="line">138</td><td class="hits"></td><td class="source">		children: [{</td></tr><tr class=""><td class="line">139</td><td class="hits"></td><td class="source">			data: &quot;&quot;,</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">			type: ElementType.Text</td></tr><tr class=""><td class="line">141</td><td class="hits"></td><td class="source">		}],</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">		type: ElementType.CDATA</td></tr><tr class=""><td class="line">143</td><td class="hits"></td><td class="source">	};</td></tr><tr class=""><td class="line">144</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">145</td><td class="hits">0</td><td class="source">	this._addDomElement(element);</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">	this._tagStack.push(element);</td></tr><tr class=""><td class="line">147</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">148</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">149</td><td class="hits">1</td><td class="source">DomHandler.prototype.oncommentend = DomHandler.prototype.oncdataend = function(){</td></tr><tr class="hit"><td class="line">150</td><td class="hits">1</td><td class="source">	this._tagStack.pop();</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">152</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">153</td><td class="hits">1</td><td class="source">DomHandler.prototype.onprocessinginstruction = function(name, data){</td></tr><tr class="hit"><td class="line">154</td><td class="hits">1</td><td class="source">	this._addDomElement({</td></tr><tr class=""><td class="line">155</td><td class="hits"></td><td class="source">		name: name,</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source">		data: data,</td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">		type: ElementType.Directive</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">	});</td></tr><tr class=""><td class="line">159</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">161</td><td class="hits">1</td><td class="source">module.exports = DomHandler;</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domelementtype/index.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/node_modules/domelementtype/index.js</h2>
          <div class="stats high">
            <div class="percentage">100.0%</div>
            <div class="sloc">2</div>
            <div class="hits">2</div>
            <div class="misses">0</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class=""><td class="line">1</td><td class="hits"></td><td class="source">//Types of elements found in the DOM</td></tr><tr class="hit"><td class="line">2</td><td class="hits">1</td><td class="source">module.exports = {</td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">	Text: &quot;text&quot;, //Text</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	Directive: &quot;directive&quot;, //&lt;? ... ?&gt;</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	Comment: &quot;comment&quot;, //&lt;!-- ... --&gt;</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	Script: &quot;script&quot;, //&lt;script&gt; tags</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	Style: &quot;style&quot;, //&lt;style&gt; tags</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	Tag: &quot;tag&quot;, //Any tag</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">	CDATA: &quot;cdata&quot;, //&lt;![CDATA[ ... ]]&gt;</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">	isTag: function(elem){</td></tr><tr class="hit"><td class="line">12</td><td class="hits">18621</td><td class="source">		return elem.type === &quot;tag&quot; || elem.type === &quot;script&quot; || elem.type === &quot;style&quot;;</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">};</td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js</h2>
          <div class="stats high">
            <div class="percentage">70.2%</div>
            <div class="sloc">114</div>
            <div class="hits">80</div>
            <div class="misses">34</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">var Tokenizer = require(&quot;c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/./Tokenizer.js&quot;);</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">3</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source">	Options:</td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">	</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">	xmlMode: Special behavior for script/style tags (true by default)</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">	lowerCaseAttributeNames: call .toLowerCase for each attribute name (true if xmlMode is `false`)</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">	lowerCaseTags: call .toLowerCase for each tag name (true if xmlMode is `false`)</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source">/*</td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">	Callbacks:</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">	</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">	oncdataend,</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">	oncdatastart,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">	onclosetag,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">	oncomment,</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">	oncommentend,</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">	onerror,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source">	onopentag,</td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">	onprocessinginstruction,</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">	onreset,</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">	ontext</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source">*/</td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">26</td><td class="hits">1</td><td class="source">var formTags = {</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source">	input: true,</td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">	option: true,</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">	optgroup: true,</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">	select: true,</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">	button: true,</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">	datalist: true,</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source">	textarea: true</td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">};</td></tr><tr class="hit"><td class="line">35</td><td class="hits">1</td><td class="source">var openImpliesClose = {</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">	tr      : { tr:true, th:true, td:true },</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">	th      : { th:true },</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">	td      : { thead:true, td:true },</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">	body    : { head:true, link:true, script:true },</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">	li      : { li:true },</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">	p       : { p:true },</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">	select  : formTags,</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">	input   : formTags,</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source">	output  : formTags,</td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">	button  : formTags,</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">	datalist: formTags,</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">	textarea: formTags,</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source">	option  : { option:true },</td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">	optgroup: { optgroup:true }</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">52</td><td class="hits">1</td><td class="source">var voidElements = {</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">	__proto__: null,</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">	area: true,</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">	base: true,</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">	basefont: true,</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">	br: true,</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">	col: true,</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source">	command: true,</td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">	embed: true,</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">	frame: true,</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">	hr: true,</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">	img: true,</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">	input: true,</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">	isindex: true,</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">	keygen: true,</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">	link: true,</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source">	meta: true,</td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source">	param: true,</td></tr><tr class=""><td class="line">70</td><td class="hits"></td><td class="source">	source: true,</td></tr><tr class=""><td class="line">71</td><td class="hits"></td><td class="source">	track: true,</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">	wbr: true</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">74</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">75</td><td class="hits">1</td><td class="source">function Parser(cbs, options){</td></tr><tr class="hit"><td class="line">76</td><td class="hits">8726</td><td class="source">	this._options = options || {};</td></tr><tr class="hit"><td class="line">77</td><td class="hits">8727</td><td class="source">	this._cbs = cbs || {};</td></tr><tr class=""><td class="line">78</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">79</td><td class="hits">8729</td><td class="source">	this._tagname = &quot;&quot;;</td></tr><tr class="hit"><td class="line">80</td><td class="hits">8730</td><td class="source">	this._attribname = &quot;&quot;;</td></tr><tr class="hit"><td class="line">81</td><td class="hits">8731</td><td class="source">	this._attribs = null;</td></tr><tr class="hit"><td class="line">82</td><td class="hits">8732</td><td class="source">	this._stack = [];</td></tr><tr class="hit"><td class="line">83</td><td class="hits">8733</td><td class="source">	this._done = false;</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">85</td><td class="hits">8735</td><td class="source">	this._tokenizer = new Tokenizer(options, this);</td></tr><tr class=""><td class="line">86</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">87</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">88</td><td class="hits">1</td><td class="source">require(&quot;util&quot;).inherits(Parser, require(&quot;events&quot;).EventEmitter);</td></tr><tr class=""><td class="line">89</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">90</td><td class="hits"></td><td class="source">//Tokenizer event handlers</td></tr><tr class="hit"><td class="line">91</td><td class="hits">1</td><td class="source">Parser.prototype.ontext = function(data){</td></tr><tr class="hit"><td class="line">92</td><td class="hits">2832</td><td class="source">	if(this._cbs.ontext) this._cbs.ontext(data);</td></tr><tr class=""><td class="line">93</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">94</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">95</td><td class="hits">1</td><td class="source">Parser.prototype.onopentagname = function(name){</td></tr><tr class="hit"><td class="line">96</td><td class="hits">35949</td><td class="source">	if(!(this._options.xmlMode || &quot;lowerCaseTags&quot; in this._options) || this._options.lowerCaseTags){</td></tr><tr class="hit"><td class="line">97</td><td class="hits">35953</td><td class="source">		name = name.toLowerCase();</td></tr><tr class=""><td class="line">98</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">99</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">100</td><td class="hits">35965</td><td class="source">	this._tagname = name;</td></tr><tr class=""><td class="line">101</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">102</td><td class="hits">35973</td><td class="source">	if (!this._options.xmlMode &amp;&amp; name in openImpliesClose) {</td></tr><tr class="hit"><td class="line">103</td><td class="hits">35084</td><td class="source">		for(</td></tr><tr class=""><td class="line">104</td><td class="hits"></td><td class="source">			var el;</td></tr><tr class=""><td class="line">105</td><td class="hits"></td><td class="source">			(el = this._stack[this._stack.length-1]) in openImpliesClose[name];</td></tr><tr class=""><td class="line">106</td><td class="hits"></td><td class="source">			this.onclosetag(el)</td></tr><tr class=""><td class="line">107</td><td class="hits"></td><td class="source">		);</td></tr><tr class=""><td class="line">108</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">109</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">110</td><td class="hits">36005</td><td class="source">	if(this._options.xmlMode || !(name in voidElements)){</td></tr><tr class="hit"><td class="line">111</td><td class="hits">36009</td><td class="source">		this._stack.push(name);</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">114</td><td class="hits">36021</td><td class="source">	if(this._cbs.onopentagname) this._cbs.onopentagname(name);</td></tr><tr class="hit"><td class="line">115</td><td class="hits">72050</td><td class="source">	if(this._cbs.onopentag) this._attribs = {};</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">117</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">118</td><td class="hits">1</td><td class="source">Parser.prototype.onopentagend = function(){</td></tr><tr class="hit"><td class="line">119</td><td class="hits">36041</td><td class="source">	if(this._attribname !== &quot;&quot;) this.onattribvalue(&quot;&quot;);</td></tr><tr class="hit"><td class="line">120</td><td class="hits">36045</td><td class="source">	if(this._attribs){</td></tr><tr class="hit"><td class="line">121</td><td class="hits">72098</td><td class="source">		if(this._cbs.onopentag) this._cbs.onopentag(this._tagname, this._attribs);</td></tr><tr class="hit"><td class="line">122</td><td class="hits">36053</td><td class="source">		this._attribs = null;</td></tr><tr class=""><td class="line">123</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">124</td><td class="hits">36061</td><td class="source">	if(!this._options.xmlMode &amp;&amp; this._cbs.onclosetag &amp;&amp; this._tagname in voidElements){</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">		this._cbs.onclosetag(this._tagname);</td></tr><tr class=""><td class="line">126</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">127</td><td class="hits">36073</td><td class="source">	this._tagname = &quot;&quot;;</td></tr><tr class=""><td class="line">128</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">129</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">130</td><td class="hits">1</td><td class="source">Parser.prototype.onclosetag = function(name){</td></tr><tr class="hit"><td class="line">131</td><td class="hits">36089</td><td class="source">	if(!(this._options.xmlMode || &quot;lowerCaseTags&quot; in this._options) || this._options.lowerCaseTags){</td></tr><tr class="hit"><td class="line">132</td><td class="hits">36093</td><td class="source">		name = name.toLowerCase();</td></tr><tr class=""><td class="line">133</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">134</td><td class="hits">36101</td><td class="source">	if(this._stack.length &amp;&amp; (!(name in voidElements) || this._options.xmlMode)){</td></tr><tr class="hit"><td class="line">135</td><td class="hits">36105</td><td class="source">		var pos = this._stack.lastIndexOf(name);</td></tr><tr class="hit"><td class="line">136</td><td class="hits">36109</td><td class="source">		if(pos !== -1){</td></tr><tr class="hit"><td class="line">137</td><td class="hits">36113</td><td class="source">			if(this._cbs.onclosetag){</td></tr><tr class="hit"><td class="line">138</td><td class="hits">36117</td><td class="source">				pos = this._stack.length - pos;</td></tr><tr class="hit"><td class="line">139</td><td class="hits">72242</td><td class="source">				while(pos--) this._cbs.onclosetag(this._stack.pop());</td></tr><tr class=""><td class="line">140</td><td class="hits"></td><td class="source">			}</td></tr><tr class="miss"><td class="line">141</td><td class="hits">0</td><td class="source">			else this._stack.splice(pos);</td></tr><tr class="miss"><td class="line">142</td><td class="hits">0</td><td class="source">		} else if(name === &quot;p&quot; &amp;&amp; !this._options.xmlMode){</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">			this.onopentagname(name);</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">			this.onselfclosingtag();</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">146</td><td class="hits">0</td><td class="source">	} else if(!this._options.xmlMode &amp;&amp; (name === &quot;br&quot; || name === &quot;p&quot;)){</td></tr><tr class="miss"><td class="line">147</td><td class="hits">0</td><td class="source">		this.onopentagname(name);</td></tr><tr class="miss"><td class="line">148</td><td class="hits">0</td><td class="source">		this.onselfclosingtag();		</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">150</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">151</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">152</td><td class="hits">1</td><td class="source">Parser.prototype.onselfclosingtag = function(){</td></tr><tr class="miss"><td class="line">153</td><td class="hits">0</td><td class="source">	var name = this._tagname;</td></tr><tr class=""><td class="line">154</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">155</td><td class="hits">0</td><td class="source">	this.onopentagend();</td></tr><tr class=""><td class="line">156</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">157</td><td class="hits"></td><td class="source">	//self-closing tags will be on the top of the stack</td></tr><tr class=""><td class="line">158</td><td class="hits"></td><td class="source">	//(cheaper check than in onclosetag)</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">	if(this._stack[this._stack.length-1] === name){</td></tr><tr class="miss"><td class="line">160</td><td class="hits">0</td><td class="source">		if(this._cbs.onclosetag){</td></tr><tr class="miss"><td class="line">161</td><td class="hits">0</td><td class="source">			this._cbs.onclosetag(name);</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">		this._stack.pop();</td></tr><tr class=""><td class="line">164</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">165</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">167</td><td class="hits">1</td><td class="source">Parser.prototype.onattribname = function(name){</td></tr><tr class="hit"><td class="line">168</td><td class="hits">35790</td><td class="source">	if(this._attribname !== &quot;&quot;) this.onattribvalue(&quot;&quot;);</td></tr><tr class="hit"><td class="line">169</td><td class="hits">35794</td><td class="source">	if(!(this._options.xmlMode || &quot;lowerCaseAttributeNames&quot; in this._options) || this._options.lowerCaseAttributeNames){</td></tr><tr class="hit"><td class="line">170</td><td class="hits">35798</td><td class="source">		name = name.toLowerCase();</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">172</td><td class="hits">35806</td><td class="source">	this._attribname = name;</td></tr><tr class=""><td class="line">173</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">174</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">175</td><td class="hits">1</td><td class="source">Parser.prototype.onattribvalue = function attribValue(value){</td></tr><tr class="hit"><td class="line">176</td><td class="hits">35822</td><td class="source">	if(this._cbs.onattribute) this._cbs.onattribute(this._attribname, value);</td></tr><tr class="hit"><td class="line">177</td><td class="hits">71652</td><td class="source">	if(this._attribs) this._attribs[this._attribname] = value;</td></tr><tr class="hit"><td class="line">178</td><td class="hits">35830</td><td class="source">	this._attribname = &quot;&quot;;</td></tr><tr class=""><td class="line">179</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">180</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">181</td><td class="hits">1</td><td class="source">Parser.prototype.ondeclaration = function(value){</td></tr><tr class="hit"><td class="line">182</td><td class="hits">1</td><td class="source">	if(this._cbs.onprocessinginstruction){</td></tr><tr class="hit"><td class="line">183</td><td class="hits">1</td><td class="source">		var name = value.split(/\s|\//, 1)[0];</td></tr><tr class="hit"><td class="line">184</td><td class="hits">1</td><td class="source">		if(!(this._options.xmlMode || &quot;lowerCaseTags&quot; in this._options) || this._options.lowerCaseTags){</td></tr><tr class="hit"><td class="line">185</td><td class="hits">1</td><td class="source">			name = name.toLowerCase();</td></tr><tr class=""><td class="line">186</td><td class="hits"></td><td class="source">		}</td></tr><tr class="hit"><td class="line">187</td><td class="hits">1</td><td class="source">		this._cbs.onprocessinginstruction(&quot;!&quot; + name, &quot;!&quot; + value);</td></tr><tr class=""><td class="line">188</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">189</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">190</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">191</td><td class="hits">1</td><td class="source">Parser.prototype.onprocessinginstruction = function(value){</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">	if(this._cbs.onprocessinginstruction){</td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">		var name = value.split(/\s|\//, 1)[0];</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">		if(!(this._options.xmlMode || &quot;lowerCaseTags&quot; in this._options) || this._options.lowerCaseTags){</td></tr><tr class="miss"><td class="line">195</td><td class="hits">0</td><td class="source">			name = name.toLowerCase();</td></tr><tr class=""><td class="line">196</td><td class="hits"></td><td class="source">		}</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">		this._cbs.onprocessinginstruction(&quot;?&quot; + name, &quot;?&quot; + value);</td></tr><tr class=""><td class="line">198</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">199</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">200</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">201</td><td class="hits">1</td><td class="source">Parser.prototype.oncomment = function(value){</td></tr><tr class="hit"><td class="line">202</td><td class="hits">2</td><td class="source">	if(this._cbs.oncomment) this._cbs.oncomment(value);</td></tr><tr class="hit"><td class="line">203</td><td class="hits">2</td><td class="source">	if(this._cbs.oncommentend) this._cbs.oncommentend();</td></tr><tr class=""><td class="line">204</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">206</td><td class="hits">1</td><td class="source">Parser.prototype.oncdata = function(value){</td></tr><tr class="miss"><td class="line">207</td><td class="hits">0</td><td class="source">	if(this._options.xmlMode){</td></tr><tr class="miss"><td class="line">208</td><td class="hits">0</td><td class="source">		if(this._cbs.oncdatastart) this._cbs.oncdatastart();</td></tr><tr class="miss"><td class="line">209</td><td class="hits">0</td><td class="source">		if(this._cbs.ontext) this._cbs.ontext(value);</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">		if(this._cbs.oncdataend) this._cbs.oncdataend();</td></tr><tr class=""><td class="line">211</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="miss"><td class="line">212</td><td class="hits">0</td><td class="source">		this.oncomment(&quot;[CDATA[&quot; + value + &quot;]]&quot;);</td></tr><tr class=""><td class="line">213</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">214</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">215</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">216</td><td class="hits">1</td><td class="source">Parser.prototype.onerror = function(err){</td></tr><tr class="miss"><td class="line">217</td><td class="hits">0</td><td class="source">	if(this._cbs.onerror) this._cbs.onerror(err);</td></tr><tr class=""><td class="line">218</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">219</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">220</td><td class="hits">1</td><td class="source">Parser.prototype.onend = function(){</td></tr><tr class="hit"><td class="line">221</td><td class="hits">8871</td><td class="source">	if(this._cbs.onclosetag){</td></tr><tr class="hit"><td class="line">222</td><td class="hits">8872</td><td class="source">		for(</td></tr><tr class=""><td class="line">223</td><td class="hits"></td><td class="source">			var i = this._stack.length;</td></tr><tr class=""><td class="line">224</td><td class="hits"></td><td class="source">			i &gt; 0;</td></tr><tr class=""><td class="line">225</td><td class="hits"></td><td class="source">			this._cbs.onclosetag(this._stack[--i])</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">		);</td></tr><tr class=""><td class="line">227</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">228</td><td class="hits">17756</td><td class="source">	if(this._cbs.onend) this._cbs.onend();</td></tr><tr class=""><td class="line">229</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">230</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">231</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">232</td><td class="hits"></td><td class="source">//Resets the parser to a blank state, ready to parse a new HTML document</td></tr><tr class="hit"><td class="line">233</td><td class="hits">1</td><td class="source">Parser.prototype.reset = function(){</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">	if(this._cbs.onreset) this._cbs.onreset();</td></tr><tr class="miss"><td class="line">235</td><td class="hits">0</td><td class="source">	this._tokenizer.reset();</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">237</td><td class="hits">0</td><td class="source">	this._tagname = &quot;&quot;;</td></tr><tr class="miss"><td class="line">238</td><td class="hits">0</td><td class="source">	this._attribname = &quot;&quot;;</td></tr><tr class="miss"><td class="line">239</td><td class="hits">0</td><td class="source">	this._attribs = null;</td></tr><tr class="miss"><td class="line">240</td><td class="hits">0</td><td class="source">	this._stack = [];</td></tr><tr class="miss"><td class="line">241</td><td class="hits">0</td><td class="source">	this._done = false;</td></tr><tr class=""><td class="line">242</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">243</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">244</td><td class="hits"></td><td class="source">//Parses a complete HTML document and pushes it to the handler</td></tr><tr class="hit"><td class="line">245</td><td class="hits">1</td><td class="source">Parser.prototype.parseComplete = function(data){</td></tr><tr class="miss"><td class="line">246</td><td class="hits">0</td><td class="source">	this.reset();</td></tr><tr class="miss"><td class="line">247</td><td class="hits">0</td><td class="source">	this.end(data);</td></tr><tr class=""><td class="line">248</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">249</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">250</td><td class="hits">1</td><td class="source">Parser.prototype.write = function(chunk){</td></tr><tr class="hit"><td class="line">251</td><td class="hits">8901</td><td class="source">	if(this._done) this.onerror(Error(&quot;.write() after done!&quot;));</td></tr><tr class="hit"><td class="line">252</td><td class="hits">8902</td><td class="source">	this._tokenizer.write(chunk);</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">255</td><td class="hits">1</td><td class="source">Parser.prototype.end = function(chunk){</td></tr><tr class="hit"><td class="line">256</td><td class="hits">8906</td><td class="source">	if(this._done) this.onerror(Error(&quot;.end() after done!&quot;));</td></tr><tr class="hit"><td class="line">257</td><td class="hits">8907</td><td class="source">	this._tokenizer.end(chunk);</td></tr><tr class="hit"><td class="line">258</td><td class="hits">8908</td><td class="source">	this._done = true;</td></tr><tr class=""><td class="line">259</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">260</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">261</td><td class="hits"></td><td class="source">//alias for backwards compat</td></tr><tr class="hit"><td class="line">262</td><td class="hits">1</td><td class="source">Parser.prototype.parseChunk = Parser.prototype.write;</td></tr><tr class="hit"><td class="line">263</td><td class="hits">1</td><td class="source">Parser.prototype.done = Parser.prototype.end;</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">265</td><td class="hits">1</td><td class="source">module.exports = Parser;</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div><div class="file">
          <h2 id="c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js">c:/noboxout/js-object-enhancements/node_modules/ass/node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js</h2>
          <div class="stats high">
            <div class="percentage">64.1%</div>
            <div class="sloc">340</div>
            <div class="hits">218</div>
            <div class="misses">122</div>
          </div>
          <table id="source">
            <thead>
              <tr><th>Line</th><th>Hits</th><th>Source</th></tr>
            </thead>
            <tbody>
              <tr class="template"><td class="line"></td><td class="hits"></td><td class="source"></td></tr>
            <tr class="hit"><td class="line">1</td><td class="hits">1</td><td class="source">module.exports = Tokenizer;</td></tr><tr class=""><td class="line">2</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">3</td><td class="hits">1</td><td class="source">var i = 0,</td></tr><tr class=""><td class="line">4</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">5</td><td class="hits"></td><td class="source">    TEXT = i++,</td></tr><tr class=""><td class="line">6</td><td class="hits"></td><td class="source">    BEFORE_TAG_NAME = i++, //after &lt;</td></tr><tr class=""><td class="line">7</td><td class="hits"></td><td class="source">    IN_TAG_NAME = i++,</td></tr><tr class=""><td class="line">8</td><td class="hits"></td><td class="source">    BEFORE_CLOSING_TAG_NAME = i++,</td></tr><tr class=""><td class="line">9</td><td class="hits"></td><td class="source">    IN_CLOSING_TAG_NAME = i++,</td></tr><tr class=""><td class="line">10</td><td class="hits"></td><td class="source">    AFTER_CLOSING_TAG_NAME = i++,</td></tr><tr class=""><td class="line">11</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">12</td><td class="hits"></td><td class="source">    //attributes</td></tr><tr class=""><td class="line">13</td><td class="hits"></td><td class="source">    BEFORE_ATTRIBUTE_NAME = i++,</td></tr><tr class=""><td class="line">14</td><td class="hits"></td><td class="source">    IN_ATTRIBUTE_NAME = i++,</td></tr><tr class=""><td class="line">15</td><td class="hits"></td><td class="source">    AFTER_ATTRIBUTE_NAME = i++,</td></tr><tr class=""><td class="line">16</td><td class="hits"></td><td class="source">    BEFORE_ATTRIBUTE_VALUE = i++,</td></tr><tr class=""><td class="line">17</td><td class="hits"></td><td class="source">    IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES = i++, // &quot;</td></tr><tr class=""><td class="line">18</td><td class="hits"></td><td class="source">    IN_ATTRIBUTE_VALUE_SINGLE_QUOTES = i++, // &apos;</td></tr><tr class=""><td class="line">19</td><td class="hits"></td><td class="source">    IN_ATTRIBUTE_VALUE_NO_QUOTES = i++,</td></tr><tr class=""><td class="line">20</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">21</td><td class="hits"></td><td class="source">    //declarations</td></tr><tr class=""><td class="line">22</td><td class="hits"></td><td class="source">    BEFORE_DECLARATION = i++, // !</td></tr><tr class=""><td class="line">23</td><td class="hits"></td><td class="source">    IN_DECLARATION = i++,</td></tr><tr class=""><td class="line">24</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">25</td><td class="hits"></td><td class="source">    //processing instructions</td></tr><tr class=""><td class="line">26</td><td class="hits"></td><td class="source">    IN_PROCESSING_INSTRUCTION = i++, // ?</td></tr><tr class=""><td class="line">27</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">28</td><td class="hits"></td><td class="source">    //comments</td></tr><tr class=""><td class="line">29</td><td class="hits"></td><td class="source">    BEFORE_COMMENT = i++,</td></tr><tr class=""><td class="line">30</td><td class="hits"></td><td class="source">    IN_COMMENT = i++,</td></tr><tr class=""><td class="line">31</td><td class="hits"></td><td class="source">    AFTER_COMMENT_1 = i++,</td></tr><tr class=""><td class="line">32</td><td class="hits"></td><td class="source">    AFTER_COMMENT_2 = i++,</td></tr><tr class=""><td class="line">33</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">34</td><td class="hits"></td><td class="source">    //cdata</td></tr><tr class=""><td class="line">35</td><td class="hits"></td><td class="source">    BEFORE_CDATA_1 = i++, // [</td></tr><tr class=""><td class="line">36</td><td class="hits"></td><td class="source">    BEFORE_CDATA_2 = i++, // C</td></tr><tr class=""><td class="line">37</td><td class="hits"></td><td class="source">    BEFORE_CDATA_3 = i++, // D</td></tr><tr class=""><td class="line">38</td><td class="hits"></td><td class="source">    BEFORE_CDATA_4 = i++, // A</td></tr><tr class=""><td class="line">39</td><td class="hits"></td><td class="source">    BEFORE_CDATA_5 = i++, // T</td></tr><tr class=""><td class="line">40</td><td class="hits"></td><td class="source">    BEFORE_CDATA_6 = i++, // A</td></tr><tr class=""><td class="line">41</td><td class="hits"></td><td class="source">    IN_CDATA = i++,// [</td></tr><tr class=""><td class="line">42</td><td class="hits"></td><td class="source">    AFTER_CDATA_1 = i++, // ]</td></tr><tr class=""><td class="line">43</td><td class="hits"></td><td class="source">    AFTER_CDATA_2 = i++, // ]</td></tr><tr class=""><td class="line">44</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">45</td><td class="hits"></td><td class="source">    //special tags</td></tr><tr class=""><td class="line">46</td><td class="hits"></td><td class="source">    BEFORE_SPECIAL = i++, //S</td></tr><tr class=""><td class="line">47</td><td class="hits"></td><td class="source">    BEFORE_SPECIAL_END = i++,   //S</td></tr><tr class=""><td class="line">48</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">49</td><td class="hits"></td><td class="source">    BEFORE_SCRIPT_1 = i++, //C</td></tr><tr class=""><td class="line">50</td><td class="hits"></td><td class="source">    BEFORE_SCRIPT_2 = i++, //R</td></tr><tr class=""><td class="line">51</td><td class="hits"></td><td class="source">    BEFORE_SCRIPT_3 = i++, //I</td></tr><tr class=""><td class="line">52</td><td class="hits"></td><td class="source">    BEFORE_SCRIPT_4 = i++, //P</td></tr><tr class=""><td class="line">53</td><td class="hits"></td><td class="source">    BEFORE_SCRIPT_5 = i++, //T</td></tr><tr class=""><td class="line">54</td><td class="hits"></td><td class="source">    AFTER_SCRIPT_1 = i++, //C</td></tr><tr class=""><td class="line">55</td><td class="hits"></td><td class="source">    AFTER_SCRIPT_2 = i++, //R</td></tr><tr class=""><td class="line">56</td><td class="hits"></td><td class="source">    AFTER_SCRIPT_3 = i++, //I</td></tr><tr class=""><td class="line">57</td><td class="hits"></td><td class="source">    AFTER_SCRIPT_4 = i++, //P</td></tr><tr class=""><td class="line">58</td><td class="hits"></td><td class="source">    AFTER_SCRIPT_5 = i++, //T</td></tr><tr class=""><td class="line">59</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">60</td><td class="hits"></td><td class="source">    BEFORE_STYLE_1 = i++, //T</td></tr><tr class=""><td class="line">61</td><td class="hits"></td><td class="source">    BEFORE_STYLE_2 = i++, //Y</td></tr><tr class=""><td class="line">62</td><td class="hits"></td><td class="source">    BEFORE_STYLE_3 = i++, //L</td></tr><tr class=""><td class="line">63</td><td class="hits"></td><td class="source">    BEFORE_STYLE_4 = i++, //E</td></tr><tr class=""><td class="line">64</td><td class="hits"></td><td class="source">    AFTER_STYLE_1 = i++, //T</td></tr><tr class=""><td class="line">65</td><td class="hits"></td><td class="source">    AFTER_STYLE_2 = i++, //Y</td></tr><tr class=""><td class="line">66</td><td class="hits"></td><td class="source">    AFTER_STYLE_3 = i++, //L</td></tr><tr class=""><td class="line">67</td><td class="hits"></td><td class="source">    AFTER_STYLE_4 = i++; //E</td></tr><tr class=""><td class="line">68</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">69</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">70</td><td class="hits">1</td><td class="source">function whitespace(c){</td></tr><tr class="hit"><td class="line">71</td><td class="hits">368945</td><td class="source">	return c === &quot; &quot; || c === &quot;\t&quot; || c === &quot;\r&quot; || c === &quot;\n&quot;;</td></tr><tr class=""><td class="line">72</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">73</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">74</td><td class="hits">1</td><td class="source">function Tokenizer(options, cbs){</td></tr><tr class="hit"><td class="line">75</td><td class="hits">8993</td><td class="source">	this._state = TEXT;</td></tr><tr class="hit"><td class="line">76</td><td class="hits">8994</td><td class="source">	this._buffer = &quot;&quot;;</td></tr><tr class="hit"><td class="line">77</td><td class="hits">8995</td><td class="source">	this._sectionStart = 0;</td></tr><tr class="hit"><td class="line">78</td><td class="hits">8996</td><td class="source">	this._index = 0;</td></tr><tr class="hit"><td class="line">79</td><td class="hits">8997</td><td class="source">	this._options = options;</td></tr><tr class="hit"><td class="line">80</td><td class="hits">8998</td><td class="source">	this._special = 0; // 1 for script, 2 for style</td></tr><tr class="hit"><td class="line">81</td><td class="hits">8999</td><td class="source">	this._cbs = cbs;</td></tr><tr class="hit"><td class="line">82</td><td class="hits">9000</td><td class="source">	this._running = true;</td></tr><tr class=""><td class="line">83</td><td class="hits"></td><td class="source">}</td></tr><tr class=""><td class="line">84</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">85</td><td class="hits"></td><td class="source">//TODO make events conditional</td></tr><tr class="hit"><td class="line">86</td><td class="hits">1</td><td class="source">Tokenizer.prototype.write = function(chunk){</td></tr><tr class="hit"><td class="line">87</td><td class="hits">9005</td><td class="source">	this._buffer += chunk;</td></tr><tr class=""><td class="line">88</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">89</td><td class="hits">9007</td><td class="source">	while(this._index &lt; this._buffer.length &amp;&amp; this._running){</td></tr><tr class="hit"><td class="line">90</td><td class="hits">901553</td><td class="source">		var c = this._buffer.charAt(this._index);</td></tr><tr class="hit"><td class="line">91</td><td class="hits">901647</td><td class="source">		if(this._state === TEXT){</td></tr><tr class="hit"><td class="line">92</td><td class="hits">107350</td><td class="source">			if(c === &quot;&lt;&quot;){</td></tr><tr class="hit"><td class="line">93</td><td class="hits">74051</td><td class="source">				this._emitIfToken(&quot;ontext&quot;);</td></tr><tr class="hit"><td class="line">94</td><td class="hits">74059</td><td class="source">				this._state = BEFORE_TAG_NAME;</td></tr><tr class="hit"><td class="line">95</td><td class="hits">74067</td><td class="source">				this._sectionStart = this._index;</td></tr><tr class=""><td class="line">96</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">97</td><td class="hits">794821</td><td class="source">		} else if(this._state === BEFORE_TAG_NAME){</td></tr><tr class="hit"><td class="line">98</td><td class="hits">74091</td><td class="source">			if(c === &quot;/&quot;){</td></tr><tr class="hit"><td class="line">99</td><td class="hits">37048</td><td class="source">				this._state = BEFORE_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">100</td><td class="hits">37055</td><td class="source">			} else if(c === &quot;&gt;&quot; || this._special &gt; 0) {</td></tr><tr class="hit"><td class="line">101</td><td class="hits">1</td><td class="source">				this._state = TEXT;</td></tr><tr class=""><td class="line">102</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="hit"><td class="line">103</td><td class="hits">37066</td><td class="source">				if(whitespace(c));</td></tr><tr class="hit"><td class="line">104</td><td class="hits">37070</td><td class="source">				else if(c === &quot;!&quot;){</td></tr><tr class="hit"><td class="line">105</td><td class="hits">2</td><td class="source">					this._state = BEFORE_DECLARATION;</td></tr><tr class="hit"><td class="line">106</td><td class="hits">2</td><td class="source">					this._sectionStart = this._index + 1;</td></tr><tr class="hit"><td class="line">107</td><td class="hits">37080</td><td class="source">				} else if(c === &quot;?&quot;){</td></tr><tr class="miss"><td class="line">108</td><td class="hits">0</td><td class="source">					this._state = IN_PROCESSING_INSTRUCTION;</td></tr><tr class="miss"><td class="line">109</td><td class="hits">0</td><td class="source">					this._sectionStart = this._index + 1;</td></tr><tr class="hit"><td class="line">110</td><td class="hits">37092</td><td class="source">				} else if(</td></tr><tr class=""><td class="line">111</td><td class="hits"></td><td class="source">					!(this._options &amp;&amp; this._options.xmlMode) &amp;&amp;</td></tr><tr class=""><td class="line">112</td><td class="hits"></td><td class="source">					(c === &quot;s&quot; || c === &quot;S&quot;)</td></tr><tr class=""><td class="line">113</td><td class="hits"></td><td class="source">				){</td></tr><tr class="hit"><td class="line">114</td><td class="hits">191</td><td class="source">					this._state = BEFORE_SPECIAL;</td></tr><tr class="hit"><td class="line">115</td><td class="hits">191</td><td class="source">					this._sectionStart = this._index;</td></tr><tr class=""><td class="line">116</td><td class="hits"></td><td class="source">				} else {</td></tr><tr class="hit"><td class="line">117</td><td class="hits">36929</td><td class="source">					this._state = IN_TAG_NAME;</td></tr><tr class="hit"><td class="line">118</td><td class="hits">36933</td><td class="source">					this._sectionStart = this._index;</td></tr><tr class=""><td class="line">119</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">120</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">121</td><td class="hits">722610</td><td class="source">		} else if(this._state === IN_TAG_NAME){</td></tr><tr class="hit"><td class="line">122</td><td class="hits">75569</td><td class="source">			if(c === &quot;/&quot;){</td></tr><tr class="miss"><td class="line">123</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onopentagname&quot;);</td></tr><tr class="miss"><td class="line">124</td><td class="hits">0</td><td class="source">				this._cbs.onselfclosingtag();</td></tr><tr class="miss"><td class="line">125</td><td class="hits">0</td><td class="source">				this._state = AFTER_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">126</td><td class="hits">75601</td><td class="source">			} else if(c === &quot;&gt;&quot;){</td></tr><tr class="hit"><td class="line">127</td><td class="hits">455</td><td class="source">				this._emitToken(&quot;onopentagname&quot;);</td></tr><tr class="hit"><td class="line">128</td><td class="hits">455</td><td class="source">				this._cbs.onopentagend();</td></tr><tr class="hit"><td class="line">129</td><td class="hits">455</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">130</td><td class="hits">455</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="hit"><td class="line">131</td><td class="hits">75186</td><td class="source">			} else if(whitespace(c)){</td></tr><tr class="hit"><td class="line">132</td><td class="hits">36725</td><td class="source">				this._emitToken(&quot;onopentagname&quot;);</td></tr><tr class="hit"><td class="line">133</td><td class="hits">36729</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;</td></tr><tr class=""><td class="line">134</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">135</td><td class="hits">648029</td><td class="source">		} else if(this._state === BEFORE_CLOSING_TAG_NAME){</td></tr><tr class="hit"><td class="line">136</td><td class="hits">37196</td><td class="source">			if(whitespace(c));</td></tr><tr class="hit"><td class="line">137</td><td class="hits">37200</td><td class="source">			else if(c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">138</td><td class="hits">0</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">139</td><td class="hits">37208</td><td class="source">			} else if(this._special &gt; 0){</td></tr><tr class="hit"><td class="line">140</td><td class="hits">2</td><td class="source">				if(c === &quot;s&quot; || c === &quot;S&quot;){</td></tr><tr class="hit"><td class="line">141</td><td class="hits">2</td><td class="source">					this._state = BEFORE_SPECIAL_END;</td></tr><tr class=""><td class="line">142</td><td class="hits"></td><td class="source">				} else {</td></tr><tr class="miss"><td class="line">143</td><td class="hits">0</td><td class="source">					this._state = TEXT;</td></tr><tr class="miss"><td class="line">144</td><td class="hits">0</td><td class="source">					continue;</td></tr><tr class=""><td class="line">145</td><td class="hits"></td><td class="source">				}</td></tr><tr class=""><td class="line">146</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="hit"><td class="line">147</td><td class="hits">37238</td><td class="source">				this._state = IN_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">148</td><td class="hits">37242</td><td class="source">				this._sectionStart = this._index;</td></tr><tr class=""><td class="line">149</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">150</td><td class="hits">611827</td><td class="source">		} else if(this._state === IN_CLOSING_TAG_NAME){</td></tr><tr class="hit"><td class="line">151</td><td class="hits">75801</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="hit"><td class="line">152</td><td class="hits">37260</td><td class="source">				this._emitToken(&quot;onclosetag&quot;);</td></tr><tr class="hit"><td class="line">153</td><td class="hits">37264</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">154</td><td class="hits">37268</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="hit"><td class="line">155</td><td class="hits">37272</td><td class="source">				this._special = 0;</td></tr><tr class="hit"><td class="line">156</td><td class="hits">38565</td><td class="source">			} else if(whitespace(c)){</td></tr><tr class="miss"><td class="line">157</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onclosetag&quot;);</td></tr><tr class="miss"><td class="line">158</td><td class="hits">0</td><td class="source">				this._state = AFTER_CLOSING_TAG_NAME;</td></tr><tr class="miss"><td class="line">159</td><td class="hits">0</td><td class="source">				this._special = 0;</td></tr><tr class=""><td class="line">160</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">161</td><td class="hits">536672</td><td class="source">		} else if(this._state === AFTER_CLOSING_TAG_NAME){</td></tr><tr class=""><td class="line">162</td><td class="hits"></td><td class="source">			//skip everything until &quot;&gt;&quot;</td></tr><tr class="miss"><td class="line">163</td><td class="hits">0</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">164</td><td class="hits">0</td><td class="source">				this._state = TEXT;</td></tr><tr class="miss"><td class="line">165</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class=""><td class="line">166</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">167</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">168</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">169</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">170</td><td class="hits"></td><td class="source">		*	attributes</td></tr><tr class=""><td class="line">171</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">172</td><td class="hits">537310</td><td class="source">		else if(this._state === BEFORE_ATTRIBUTE_NAME){</td></tr><tr class="hit"><td class="line">173</td><td class="hits">73780</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="hit"><td class="line">174</td><td class="hits">36893</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">175</td><td class="hits">36897</td><td class="source">				this._cbs.onopentagend();</td></tr><tr class="hit"><td class="line">176</td><td class="hits">36901</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="hit"><td class="line">177</td><td class="hits">36907</td><td class="source">			} else if(c === &quot;/&quot;){</td></tr><tr class="miss"><td class="line">178</td><td class="hits">0</td><td class="source">				this._cbs.onselfclosingtag();</td></tr><tr class="miss"><td class="line">179</td><td class="hits">0</td><td class="source">				this._state = AFTER_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">180</td><td class="hits">36919</td><td class="source">			} else if(!whitespace(c)){</td></tr><tr class="hit"><td class="line">181</td><td class="hits">36922</td><td class="source">				this._state = IN_ATTRIBUTE_NAME;</td></tr><tr class="hit"><td class="line">182</td><td class="hits">36926</td><td class="source">				this._sectionStart = this._index;</td></tr><tr class=""><td class="line">183</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">184</td><td class="hits">464138</td><td class="source">		} else if(this._state === IN_ATTRIBUTE_NAME){</td></tr><tr class="hit"><td class="line">185</td><td class="hits">184419</td><td class="source">			if(c === &quot;=&quot;){</td></tr><tr class="hit"><td class="line">186</td><td class="hits">36942</td><td class="source">				this._emitIfToken(&quot;onattribname&quot;);</td></tr><tr class="hit"><td class="line">187</td><td class="hits">36946</td><td class="source">				this._state = BEFORE_ATTRIBUTE_VALUE;</td></tr><tr class="hit"><td class="line">188</td><td class="hits">147529</td><td class="source">			} else if(whitespace(c)){</td></tr><tr class="miss"><td class="line">189</td><td class="hits">0</td><td class="source">				this._emitIfToken(&quot;onattribname&quot;);</td></tr><tr class="miss"><td class="line">190</td><td class="hits">0</td><td class="source">				this._state = AFTER_ATTRIBUTE_NAME;</td></tr><tr class="hit"><td class="line">191</td><td class="hits">147577</td><td class="source">			} else if(c === &quot;/&quot; || c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">192</td><td class="hits">0</td><td class="source">				this._emitIfToken(&quot;onattribname&quot;);</td></tr><tr class="miss"><td class="line">193</td><td class="hits">0</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;</td></tr><tr class="miss"><td class="line">194</td><td class="hits">0</td><td class="source">				continue;</td></tr><tr class=""><td class="line">195</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">196</td><td class="hits">280099</td><td class="source">		} else if(this._state === AFTER_ATTRIBUTE_NAME){</td></tr><tr class="miss"><td class="line">197</td><td class="hits">0</td><td class="source">			if(c === &quot;=&quot;){</td></tr><tr class="miss"><td class="line">198</td><td class="hits">0</td><td class="source">				this._state = BEFORE_ATTRIBUTE_VALUE;</td></tr><tr class="miss"><td class="line">199</td><td class="hits">0</td><td class="source">			} else if(c === &quot;/&quot; || c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">200</td><td class="hits">0</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;</td></tr><tr class="miss"><td class="line">201</td><td class="hits">0</td><td class="source">				continue;</td></tr><tr class="miss"><td class="line">202</td><td class="hits">0</td><td class="source">			} else if(!whitespace(c)){</td></tr><tr class="miss"><td class="line">203</td><td class="hits">0</td><td class="source">				this._state = IN_ATTRIBUTE_NAME;</td></tr><tr class="miss"><td class="line">204</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index;</td></tr><tr class=""><td class="line">205</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">206</td><td class="hits">280399</td><td class="source">		} else if(this._state === BEFORE_ATTRIBUTE_VALUE){</td></tr><tr class="hit"><td class="line">207</td><td class="hits">37026</td><td class="source">			if(c === &quot;\&quot;&quot;){</td></tr><tr class="hit"><td class="line">208</td><td class="hits">37030</td><td class="source">				this._state = IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES;</td></tr><tr class="hit"><td class="line">209</td><td class="hits">37034</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="miss"><td class="line">210</td><td class="hits">0</td><td class="source">			} else if(c === &quot;&apos;&quot;){</td></tr><tr class="miss"><td class="line">211</td><td class="hits">0</td><td class="source">				this._state = IN_ATTRIBUTE_VALUE_SINGLE_QUOTES;</td></tr><tr class="miss"><td class="line">212</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="miss"><td class="line">213</td><td class="hits">0</td><td class="source">			} else if(!whitespace(c)){</td></tr><tr class="miss"><td class="line">214</td><td class="hits">0</td><td class="source">				this._state = IN_ATTRIBUTE_VALUE_NO_QUOTES;</td></tr><tr class="miss"><td class="line">215</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index;</td></tr><tr class=""><td class="line">216</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">217</td><td class="hits">243663</td><td class="source">		} else if(this._state === IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES){</td></tr><tr class="hit"><td class="line">218</td><td class="hits">242116</td><td class="source">			if(c === &quot;\&quot;&quot;){</td></tr><tr class="hit"><td class="line">219</td><td class="hits">37074</td><td class="source">				this._emitToken(&quot;onattribvalue&quot;);</td></tr><tr class="hit"><td class="line">220</td><td class="hits">37078</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;</td></tr><tr class=""><td class="line">221</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">222</td><td class="hits">1573</td><td class="source">		} else if(this._state === IN_ATTRIBUTE_VALUE_SINGLE_QUOTES){</td></tr><tr class="miss"><td class="line">223</td><td class="hits">0</td><td class="source">			if(c === &quot;&apos;&quot;){</td></tr><tr class="miss"><td class="line">224</td><td class="hits">0</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;	</td></tr><tr class="miss"><td class="line">225</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onattribvalue&quot;);</td></tr><tr class=""><td class="line">226</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">227</td><td class="hits">1573</td><td class="source">		} else if(this._state === IN_ATTRIBUTE_VALUE_NO_QUOTES){</td></tr><tr class="miss"><td class="line">228</td><td class="hits">0</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">229</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onattribvalue&quot;);</td></tr><tr class="miss"><td class="line">230</td><td class="hits">0</td><td class="source">				this._state = TEXT;</td></tr><tr class="miss"><td class="line">231</td><td class="hits">0</td><td class="source">				this._cbs.onopentagend();</td></tr><tr class="miss"><td class="line">232</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="miss"><td class="line">233</td><td class="hits">0</td><td class="source">			} else if(whitespace(c)){</td></tr><tr class="miss"><td class="line">234</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onattribvalue&quot;);</td></tr><tr class="miss"><td class="line">235</td><td class="hits">0</td><td class="source">				this._state = BEFORE_ATTRIBUTE_NAME;</td></tr><tr class=""><td class="line">236</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">237</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">238</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">239</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">240</td><td class="hits"></td><td class="source">		*	declarations</td></tr><tr class=""><td class="line">241</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">242</td><td class="hits">1573</td><td class="source">		else if(this._state === BEFORE_DECLARATION){</td></tr><tr class="hit"><td class="line">243</td><td class="hits">2</td><td class="source">			if(c === &quot;[&quot;) this._state = BEFORE_CDATA_1;</td></tr><tr class="hit"><td class="line">244</td><td class="hits">3</td><td class="source">			else if(c === &quot;-&quot;) this._state = BEFORE_COMMENT;</td></tr><tr class="hit"><td class="line">245</td><td class="hits">1</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">246</td><td class="hits">1571</td><td class="source">		} else if(this._state === IN_DECLARATION){</td></tr><tr class="hit"><td class="line">247</td><td class="hits">12</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="hit"><td class="line">248</td><td class="hits">1</td><td class="source">				this._emitToken(&quot;ondeclaration&quot;);</td></tr><tr class="hit"><td class="line">249</td><td class="hits">1</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">250</td><td class="hits">1</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class=""><td class="line">251</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">252</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">253</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">254</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">255</td><td class="hits"></td><td class="source">		*	processing instructions</td></tr><tr class=""><td class="line">256</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">257</td><td class="hits">1559</td><td class="source">		else if(this._state === IN_PROCESSING_INSTRUCTION){</td></tr><tr class="miss"><td class="line">258</td><td class="hits">0</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class="miss"><td class="line">259</td><td class="hits">0</td><td class="source">				this._emitToken(&quot;onprocessinginstruction&quot;);</td></tr><tr class="miss"><td class="line">260</td><td class="hits">0</td><td class="source">				this._state = TEXT;</td></tr><tr class="miss"><td class="line">261</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class=""><td class="line">262</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">263</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">264</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">265</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">266</td><td class="hits"></td><td class="source">		*	comments</td></tr><tr class=""><td class="line">267</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">268</td><td class="hits">1559</td><td class="source">		else if(this._state === BEFORE_COMMENT){</td></tr><tr class="hit"><td class="line">269</td><td class="hits">1</td><td class="source">			if(c === &quot;-&quot;){</td></tr><tr class="hit"><td class="line">270</td><td class="hits">1</td><td class="source">				this._state = IN_COMMENT;</td></tr><tr class="hit"><td class="line">271</td><td class="hits">1</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class=""><td class="line">272</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">273</td><td class="hits">0</td><td class="source">				this._state = IN_DECLARATION;</td></tr><tr class=""><td class="line">274</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">275</td><td class="hits">1558</td><td class="source">		} else if(this._state === IN_COMMENT){</td></tr><tr class="hit"><td class="line">276</td><td class="hits">1346</td><td class="source">			if(c === &quot;-&quot;) this._state = AFTER_COMMENT_1;</td></tr><tr class="hit"><td class="line">277</td><td class="hits">215</td><td class="source">		} else if(this._state === AFTER_COMMENT_1){</td></tr><tr class="hit"><td class="line">278</td><td class="hits">4</td><td class="source">			if(c === &quot;-&quot;) this._state = AFTER_COMMENT_2;</td></tr><tr class="hit"><td class="line">279</td><td class="hits">2</td><td class="source">			else this._state = IN_COMMENT;</td></tr><tr class="hit"><td class="line">280</td><td class="hits">212</td><td class="source">		} else if(this._state === AFTER_COMMENT_2){</td></tr><tr class="hit"><td class="line">281</td><td class="hits">1</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class=""><td class="line">282</td><td class="hits"></td><td class="source">				//remove 2 trailing chars</td></tr><tr class="hit"><td class="line">283</td><td class="hits">1</td><td class="source">				this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));</td></tr><tr class="hit"><td class="line">284</td><td class="hits">1</td><td class="source">				this._state = TEXT;</td></tr><tr class="hit"><td class="line">285</td><td class="hits">1</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="miss"><td class="line">286</td><td class="hits">0</td><td class="source">			} else if (c !== &quot;-&quot;) {</td></tr><tr class="miss"><td class="line">287</td><td class="hits">0</td><td class="source">				this._state = IN_COMMENT;</td></tr><tr class=""><td class="line">288</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">289</td><td class="hits"></td><td class="source">			// else: stay in AFTER_COMMENT_2 (`---&gt;`)</td></tr><tr class=""><td class="line">290</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">291</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">292</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">293</td><td class="hits"></td><td class="source">		*	cdata</td></tr><tr class=""><td class="line">294</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">295</td><td class="hits">211</td><td class="source">		else if(this._state === BEFORE_CDATA_1){</td></tr><tr class="miss"><td class="line">296</td><td class="hits">0</td><td class="source">			if(c === &quot;C&quot;) this._state = BEFORE_CDATA_2;</td></tr><tr class="miss"><td class="line">297</td><td class="hits">0</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">298</td><td class="hits">211</td><td class="source">		} else if(this._state === BEFORE_CDATA_2){</td></tr><tr class="miss"><td class="line">299</td><td class="hits">0</td><td class="source">			if(c === &quot;D&quot;) this._state = BEFORE_CDATA_3;</td></tr><tr class="miss"><td class="line">300</td><td class="hits">0</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">301</td><td class="hits">211</td><td class="source">		} else if(this._state === BEFORE_CDATA_3){</td></tr><tr class="miss"><td class="line">302</td><td class="hits">0</td><td class="source">			if(c === &quot;A&quot;) this._state = BEFORE_CDATA_4;</td></tr><tr class="miss"><td class="line">303</td><td class="hits">0</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">304</td><td class="hits">211</td><td class="source">		} else if(this._state === BEFORE_CDATA_4){</td></tr><tr class="miss"><td class="line">305</td><td class="hits">0</td><td class="source">			if(c === &quot;T&quot;) this._state = BEFORE_CDATA_5;</td></tr><tr class="miss"><td class="line">306</td><td class="hits">0</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">307</td><td class="hits">211</td><td class="source">		} else if(this._state === BEFORE_CDATA_5){</td></tr><tr class="miss"><td class="line">308</td><td class="hits">0</td><td class="source">			if(c === &quot;A&quot;) this._state = BEFORE_CDATA_6;</td></tr><tr class="miss"><td class="line">309</td><td class="hits">0</td><td class="source">			else this._state = IN_DECLARATION;</td></tr><tr class="hit"><td class="line">310</td><td class="hits">211</td><td class="source">		} else if(this._state === BEFORE_CDATA_6){</td></tr><tr class="miss"><td class="line">311</td><td class="hits">0</td><td class="source">			if(c === &quot;[&quot;){</td></tr><tr class="miss"><td class="line">312</td><td class="hits">0</td><td class="source">				this._state = IN_CDATA;</td></tr><tr class="miss"><td class="line">313</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class=""><td class="line">314</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">315</td><td class="hits">0</td><td class="source">				this._state = IN_DECLARATION;</td></tr><tr class=""><td class="line">316</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">317</td><td class="hits">211</td><td class="source">		} else if(this._state === IN_CDATA){</td></tr><tr class="miss"><td class="line">318</td><td class="hits">0</td><td class="source">			if(c === &quot;]&quot;) this._state = AFTER_CDATA_1;</td></tr><tr class="hit"><td class="line">319</td><td class="hits">211</td><td class="source">		} else if(this._state === AFTER_CDATA_1){</td></tr><tr class="miss"><td class="line">320</td><td class="hits">0</td><td class="source">			if(c === &quot;]&quot;) this._state = AFTER_CDATA_2;</td></tr><tr class="miss"><td class="line">321</td><td class="hits">0</td><td class="source">			else this._state = IN_CDATA;</td></tr><tr class="hit"><td class="line">322</td><td class="hits">211</td><td class="source">		} else if(this._state === AFTER_CDATA_2){</td></tr><tr class="miss"><td class="line">323</td><td class="hits">0</td><td class="source">			if(c === &quot;&gt;&quot;){</td></tr><tr class=""><td class="line">324</td><td class="hits"></td><td class="source">				//remove 2 trailing chars</td></tr><tr class="miss"><td class="line">325</td><td class="hits">0</td><td class="source">				this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));</td></tr><tr class="miss"><td class="line">326</td><td class="hits">0</td><td class="source">				this._state = TEXT;</td></tr><tr class="miss"><td class="line">327</td><td class="hits">0</td><td class="source">				this._sectionStart = this._index + 1;</td></tr><tr class="miss"><td class="line">328</td><td class="hits">0</td><td class="source">			} else if (c !== &quot;]&quot;) {</td></tr><tr class="miss"><td class="line">329</td><td class="hits">0</td><td class="source">				this._state = IN_CDATA;</td></tr><tr class=""><td class="line">330</td><td class="hits"></td><td class="source">			}</td></tr><tr class=""><td class="line">331</td><td class="hits"></td><td class="source">			//else: stay in AFTER_CDATA_2 (`]]]&gt;`)</td></tr><tr class=""><td class="line">332</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">333</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">334</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">335</td><td class="hits"></td><td class="source">		* special tags</td></tr><tr class=""><td class="line">336</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">337</td><td class="hits">211</td><td class="source">		else if(this._state === BEFORE_SPECIAL){</td></tr><tr class="hit"><td class="line">338</td><td class="hits">191</td><td class="source">			if(c === &quot;c&quot; || c === &quot;C&quot;){</td></tr><tr class="hit"><td class="line">339</td><td class="hits">1</td><td class="source">				this._state = BEFORE_SCRIPT_1;</td></tr><tr class="hit"><td class="line">340</td><td class="hits">190</td><td class="source">			} else if(c === &quot;t&quot; || c === &quot;T&quot;){</td></tr><tr class="hit"><td class="line">341</td><td class="hits">1</td><td class="source">				this._state = BEFORE_STYLE_1;</td></tr><tr class=""><td class="line">342</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="hit"><td class="line">343</td><td class="hits">189</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="hit"><td class="line">344</td><td class="hits">189</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">345</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">346</td><td class="hits">20</td><td class="source">		} else if(this._state === BEFORE_SPECIAL_END){</td></tr><tr class="hit"><td class="line">347</td><td class="hits">2</td><td class="source">			if(this._special === 1 &amp;&amp; (c === &quot;c&quot; || c === &quot;C&quot;)){</td></tr><tr class="hit"><td class="line">348</td><td class="hits">1</td><td class="source">				this._state = AFTER_SCRIPT_1;</td></tr><tr class="hit"><td class="line">349</td><td class="hits">1</td><td class="source">			} else if(this._special === 2 &amp;&amp; (c === &quot;t&quot; || c === &quot;T&quot;)){</td></tr><tr class="hit"><td class="line">350</td><td class="hits">1</td><td class="source">				this._state = AFTER_STYLE_1;</td></tr><tr class=""><td class="line">351</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">352</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class=""><td class="line">353</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">354</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">355</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">356</td><td class="hits"></td><td class="source">		* script</td></tr><tr class=""><td class="line">357</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">358</td><td class="hits">18</td><td class="source">		else if(this._state === BEFORE_SCRIPT_1){</td></tr><tr class="hit"><td class="line">359</td><td class="hits">1</td><td class="source">			if(c === &quot;r&quot; || c === &quot;R&quot;){</td></tr><tr class="hit"><td class="line">360</td><td class="hits">1</td><td class="source">				this._state = BEFORE_SCRIPT_2;</td></tr><tr class=""><td class="line">361</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">362</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">363</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">364</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">365</td><td class="hits">17</td><td class="source">		} else if(this._state === BEFORE_SCRIPT_2){</td></tr><tr class="hit"><td class="line">366</td><td class="hits">1</td><td class="source">			if(c === &quot;i&quot; || c === &quot;I&quot;){</td></tr><tr class="hit"><td class="line">367</td><td class="hits">1</td><td class="source">				this._state = BEFORE_SCRIPT_3;</td></tr><tr class=""><td class="line">368</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">369</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">370</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">371</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">372</td><td class="hits">16</td><td class="source">		} else if(this._state === BEFORE_SCRIPT_3){</td></tr><tr class="hit"><td class="line">373</td><td class="hits">1</td><td class="source">			if(c === &quot;p&quot; || c === &quot;P&quot;){</td></tr><tr class="hit"><td class="line">374</td><td class="hits">1</td><td class="source">				this._state = BEFORE_SCRIPT_4;</td></tr><tr class=""><td class="line">375</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">376</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">377</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">378</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">379</td><td class="hits">15</td><td class="source">		} else if(this._state === BEFORE_SCRIPT_4){</td></tr><tr class="hit"><td class="line">380</td><td class="hits">1</td><td class="source">			if(c === &quot;t&quot; || c === &quot;T&quot;){</td></tr><tr class="hit"><td class="line">381</td><td class="hits">1</td><td class="source">				this._state = BEFORE_SCRIPT_5;</td></tr><tr class=""><td class="line">382</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">383</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">384</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">385</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">386</td><td class="hits">14</td><td class="source">		} else if(this._state === BEFORE_SCRIPT_5){</td></tr><tr class="hit"><td class="line">387</td><td class="hits">1</td><td class="source">			if(c === &quot;/&quot; || c === &quot;&gt;&quot; || whitespace(c)){</td></tr><tr class="hit"><td class="line">388</td><td class="hits">1</td><td class="source">				this._special = 1;</td></tr><tr class=""><td class="line">389</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">390</td><td class="hits">1</td><td class="source">			this._state = IN_TAG_NAME;</td></tr><tr class="hit"><td class="line">391</td><td class="hits">1</td><td class="source">			continue; //consume the token again</td></tr><tr class=""><td class="line">392</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">393</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">394</td><td class="hits">13</td><td class="source">		else if(this._state === AFTER_SCRIPT_1){</td></tr><tr class="hit"><td class="line">395</td><td class="hits">1</td><td class="source">			if(c === &quot;r&quot; || c === &quot;R&quot;){</td></tr><tr class="hit"><td class="line">396</td><td class="hits">1</td><td class="source">				this._state = AFTER_SCRIPT_2;</td></tr><tr class=""><td class="line">397</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">398</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">399</td><td class="hits">12</td><td class="source">		} else if(this._state === AFTER_SCRIPT_2){</td></tr><tr class="hit"><td class="line">400</td><td class="hits">1</td><td class="source">			if(c === &quot;i&quot; || c === &quot;I&quot;){</td></tr><tr class="hit"><td class="line">401</td><td class="hits">1</td><td class="source">				this._state = AFTER_SCRIPT_3;</td></tr><tr class=""><td class="line">402</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">403</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">404</td><td class="hits">11</td><td class="source">		} else if(this._state === AFTER_SCRIPT_3){</td></tr><tr class="hit"><td class="line">405</td><td class="hits">1</td><td class="source">			if(c === &quot;p&quot; || c === &quot;P&quot;){</td></tr><tr class="hit"><td class="line">406</td><td class="hits">1</td><td class="source">				this._state = AFTER_SCRIPT_4;</td></tr><tr class=""><td class="line">407</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">408</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">409</td><td class="hits">10</td><td class="source">		} else if(this._state === AFTER_SCRIPT_4){</td></tr><tr class="hit"><td class="line">410</td><td class="hits">1</td><td class="source">			if(c === &quot;t&quot; || c === &quot;T&quot;){</td></tr><tr class="hit"><td class="line">411</td><td class="hits">1</td><td class="source">				this._state = AFTER_SCRIPT_5;</td></tr><tr class=""><td class="line">412</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">413</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">414</td><td class="hits">9</td><td class="source">		} else if(this._state === AFTER_SCRIPT_5){</td></tr><tr class="hit"><td class="line">415</td><td class="hits">1</td><td class="source">			if(c === &quot;&gt;&quot; || whitespace(c)){</td></tr><tr class="hit"><td class="line">416</td><td class="hits">1</td><td class="source">				this._state = IN_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">417</td><td class="hits">1</td><td class="source">				this._sectionStart = this._index - 6;</td></tr><tr class="hit"><td class="line">418</td><td class="hits">1</td><td class="source">				continue; //reconsume the token</td></tr><tr class=""><td class="line">419</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">420</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class=""><td class="line">421</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">422</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">423</td><td class="hits"></td><td class="source">		/*</td></tr><tr class=""><td class="line">424</td><td class="hits"></td><td class="source">		* style</td></tr><tr class=""><td class="line">425</td><td class="hits"></td><td class="source">		*/</td></tr><tr class="hit"><td class="line">426</td><td class="hits">8</td><td class="source">		else if(this._state === BEFORE_STYLE_1){</td></tr><tr class="hit"><td class="line">427</td><td class="hits">1</td><td class="source">			if(c === &quot;y&quot; || c === &quot;Y&quot;){</td></tr><tr class="hit"><td class="line">428</td><td class="hits">1</td><td class="source">				this._state = BEFORE_STYLE_2;</td></tr><tr class=""><td class="line">429</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">430</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">431</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">432</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">433</td><td class="hits">7</td><td class="source">		} else if(this._state === BEFORE_STYLE_2){</td></tr><tr class="hit"><td class="line">434</td><td class="hits">1</td><td class="source">			if(c === &quot;l&quot; || c === &quot;L&quot;){</td></tr><tr class="hit"><td class="line">435</td><td class="hits">1</td><td class="source">				this._state = BEFORE_STYLE_3;</td></tr><tr class=""><td class="line">436</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">437</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">438</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">439</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">440</td><td class="hits">6</td><td class="source">		} else if(this._state === BEFORE_STYLE_3){</td></tr><tr class="hit"><td class="line">441</td><td class="hits">1</td><td class="source">			if(c === &quot;e&quot; || c === &quot;E&quot;){</td></tr><tr class="hit"><td class="line">442</td><td class="hits">1</td><td class="source">				this._state = BEFORE_STYLE_4;</td></tr><tr class=""><td class="line">443</td><td class="hits"></td><td class="source">			} else {</td></tr><tr class="miss"><td class="line">444</td><td class="hits">0</td><td class="source">				this._state = IN_TAG_NAME;</td></tr><tr class="miss"><td class="line">445</td><td class="hits">0</td><td class="source">				continue; //consume the token again</td></tr><tr class=""><td class="line">446</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">447</td><td class="hits">5</td><td class="source">		} else if(this._state === BEFORE_STYLE_4){</td></tr><tr class="hit"><td class="line">448</td><td class="hits">1</td><td class="source">			if(c === &quot;/&quot; || c === &quot;&gt;&quot; || whitespace(c)){</td></tr><tr class="hit"><td class="line">449</td><td class="hits">1</td><td class="source">				this._special = 2;</td></tr><tr class=""><td class="line">450</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">451</td><td class="hits">1</td><td class="source">			this._state = IN_TAG_NAME;</td></tr><tr class="hit"><td class="line">452</td><td class="hits">1</td><td class="source">			continue; //consume the token again</td></tr><tr class=""><td class="line">453</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">454</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">455</td><td class="hits">4</td><td class="source">		else if(this._state === AFTER_STYLE_1){</td></tr><tr class="hit"><td class="line">456</td><td class="hits">1</td><td class="source">			if(c === &quot;y&quot; || c === &quot;Y&quot;){</td></tr><tr class="hit"><td class="line">457</td><td class="hits">1</td><td class="source">				this._state = AFTER_STYLE_2;</td></tr><tr class=""><td class="line">458</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">459</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">460</td><td class="hits">3</td><td class="source">		} else if(this._state === AFTER_STYLE_2){</td></tr><tr class="hit"><td class="line">461</td><td class="hits">1</td><td class="source">			if(c === &quot;l&quot; || c === &quot;L&quot;){</td></tr><tr class="hit"><td class="line">462</td><td class="hits">1</td><td class="source">				this._state = AFTER_STYLE_3;</td></tr><tr class=""><td class="line">463</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">464</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">465</td><td class="hits">2</td><td class="source">		} else if(this._state === AFTER_STYLE_3){</td></tr><tr class="hit"><td class="line">466</td><td class="hits">1</td><td class="source">			if(c === &quot;e&quot; || c === &quot;E&quot;){</td></tr><tr class="hit"><td class="line">467</td><td class="hits">1</td><td class="source">				this._state = AFTER_STYLE_4;</td></tr><tr class=""><td class="line">468</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">469</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class="hit"><td class="line">470</td><td class="hits">1</td><td class="source">		} else if(this._state === AFTER_STYLE_4){</td></tr><tr class="hit"><td class="line">471</td><td class="hits">1</td><td class="source">			if(c === &quot;&gt;&quot; || whitespace(c)){</td></tr><tr class="hit"><td class="line">472</td><td class="hits">1</td><td class="source">				this._state = IN_CLOSING_TAG_NAME;</td></tr><tr class="hit"><td class="line">473</td><td class="hits">1</td><td class="source">				this._sectionStart = this._index - 5;</td></tr><tr class="hit"><td class="line">474</td><td class="hits">1</td><td class="source">				continue; //reconsume the token</td></tr><tr class=""><td class="line">475</td><td class="hits"></td><td class="source">			} </td></tr><tr class="miss"><td class="line">476</td><td class="hits">0</td><td class="source">			else this._state = TEXT;</td></tr><tr class=""><td class="line">477</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">478</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">479</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">480</td><td class="hits"></td><td class="source">		else {</td></tr><tr class="miss"><td class="line">481</td><td class="hits">0</td><td class="source">			this._cbs.onerror(Error(&quot;unknown state&quot;), this._state);</td></tr><tr class=""><td class="line">482</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">483</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">484</td><td class="hits">938396</td><td class="source">		this._index++;</td></tr><tr class=""><td class="line">485</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">486</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">487</td><td class="hits"></td><td class="source">	//cleanup</td></tr><tr class="hit"><td class="line">488</td><td class="hits">9406</td><td class="source">	if(this._sectionStart === -1){</td></tr><tr class="miss"><td class="line">489</td><td class="hits">0</td><td class="source">		this._buffer = &quot;&quot;;</td></tr><tr class="miss"><td class="line">490</td><td class="hits">0</td><td class="source">		this._index = 0;</td></tr><tr class=""><td class="line">491</td><td class="hits"></td><td class="source">	} else {</td></tr><tr class="hit"><td class="line">492</td><td class="hits">9410</td><td class="source">		if(this._state === TEXT){</td></tr><tr class="hit"><td class="line">493</td><td class="hits">9411</td><td class="source">			if(this._sectionStart !== this._index){</td></tr><tr class="hit"><td class="line">494</td><td class="hits">1</td><td class="source">				this._cbs.ontext(this._buffer.substr(this._sectionStart));</td></tr><tr class=""><td class="line">495</td><td class="hits"></td><td class="source">			}</td></tr><tr class="hit"><td class="line">496</td><td class="hits">9414</td><td class="source">			this._buffer = &quot;&quot;;</td></tr><tr class="hit"><td class="line">497</td><td class="hits">9415</td><td class="source">			this._index = 0;</td></tr><tr class="miss"><td class="line">498</td><td class="hits">0</td><td class="source">		} else if(this._sectionStart === this._index){</td></tr><tr class=""><td class="line">499</td><td class="hits"></td><td class="source">			//the section just started</td></tr><tr class="miss"><td class="line">500</td><td class="hits">0</td><td class="source">			this._buffer = &quot;&quot;;</td></tr><tr class="miss"><td class="line">501</td><td class="hits">0</td><td class="source">			this._index = 0;</td></tr><tr class="miss"><td class="line">502</td><td class="hits">0</td><td class="source">		} else if(this._sectionStart &gt; 0){</td></tr><tr class=""><td class="line">503</td><td class="hits"></td><td class="source">			//remove everything unnecessary</td></tr><tr class="miss"><td class="line">504</td><td class="hits">0</td><td class="source">			this._buffer = this._buffer.substr(this._sectionStart);</td></tr><tr class="miss"><td class="line">505</td><td class="hits">0</td><td class="source">			this._index -= this._sectionStart;</td></tr><tr class=""><td class="line">506</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">507</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">508</td><td class="hits">9426</td><td class="source">		this._sectionStart = 0;</td></tr><tr class=""><td class="line">509</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">510</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">511</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">512</td><td class="hits">1</td><td class="source">Tokenizer.prototype.pause = function(){</td></tr><tr class="miss"><td class="line">513</td><td class="hits">0</td><td class="source">	this._running = false;</td></tr><tr class=""><td class="line">514</td><td class="hits"></td><td class="source">};</td></tr><tr class="hit"><td class="line">515</td><td class="hits">1</td><td class="source">Tokenizer.prototype.resume = function(){</td></tr><tr class="miss"><td class="line">516</td><td class="hits">0</td><td class="source">	this._running = true;</td></tr><tr class=""><td class="line">517</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">518</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">519</td><td class="hits">1</td><td class="source">Tokenizer.prototype.end = function(chunk){</td></tr><tr class="hit"><td class="line">520</td><td class="hits">9438</td><td class="source">	if(chunk) this.write(chunk);</td></tr><tr class=""><td class="line">521</td><td class="hits"></td><td class="source"></td></tr><tr class=""><td class="line">522</td><td class="hits"></td><td class="source">	//if there is remaining data, emit it in a reasonable way</td></tr><tr class="hit"><td class="line">523</td><td class="hits">9441</td><td class="source">	if(this._sectionStart &gt; this._index){</td></tr><tr class="miss"><td class="line">524</td><td class="hits">0</td><td class="source">		var data = this._buffer.substr(this._sectionStart);</td></tr><tr class=""><td class="line">525</td><td class="hits"></td><td class="source"></td></tr><tr class="miss"><td class="line">526</td><td class="hits">0</td><td class="source">		if(this._state === IN_CDATA || this._state === AFTER_CDATA_1 || this._state === AFTER_CDATA_2){</td></tr><tr class="miss"><td class="line">527</td><td class="hits">0</td><td class="source">			this._cbs.oncdata(data);</td></tr><tr class="miss"><td class="line">528</td><td class="hits">0</td><td class="source">		} else if(this._state === IN_COMMENT || this._state === AFTER_COMMENT_1 || this._state === AFTER_COMMENT_2){</td></tr><tr class="miss"><td class="line">529</td><td class="hits">0</td><td class="source">			this._cbs.oncomment(data);</td></tr><tr class="miss"><td class="line">530</td><td class="hits">0</td><td class="source">		} else if(this._state === IN_TAG_NAME){</td></tr><tr class="miss"><td class="line">531</td><td class="hits">0</td><td class="source">			this._cbs.onopentagname(data);</td></tr><tr class="miss"><td class="line">532</td><td class="hits">0</td><td class="source">		} else if(this._state === IN_CLOSING_TAG_NAME){</td></tr><tr class="miss"><td class="line">533</td><td class="hits">0</td><td class="source">			this._cbs.onclosetag(data);</td></tr><tr class=""><td class="line">534</td><td class="hits"></td><td class="source">		} else {</td></tr><tr class="miss"><td class="line">535</td><td class="hits">0</td><td class="source">			this._cbs.ontext(data);</td></tr><tr class=""><td class="line">536</td><td class="hits"></td><td class="source">		}</td></tr><tr class=""><td class="line">537</td><td class="hits"></td><td class="source">	}</td></tr><tr class=""><td class="line">538</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">539</td><td class="hits">9457</td><td class="source">	this._cbs.onend();</td></tr><tr class=""><td class="line">540</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">541</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">542</td><td class="hits">1</td><td class="source">Tokenizer.prototype.reset = function(){</td></tr><tr class="miss"><td class="line">543</td><td class="hits">0</td><td class="source">	Tokenizer.call(this, this._options, this._cbs);</td></tr><tr class=""><td class="line">544</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">545</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">546</td><td class="hits">1</td><td class="source">Tokenizer.prototype._emitToken = function(name){</td></tr><tr class="hit"><td class="line">547</td><td class="hits">116067</td><td class="source">	this._cbs[name](this._buffer.substring(this._sectionStart, this._index));</td></tr><tr class="hit"><td class="line">548</td><td class="hits">116079</td><td class="source">	this._sectionStart = -1;</td></tr><tr class=""><td class="line">549</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">550</td><td class="hits"></td><td class="source"></td></tr><tr class="hit"><td class="line">551</td><td class="hits">1</td><td class="source">Tokenizer.prototype._emitIfToken = function(name){</td></tr><tr class="hit"><td class="line">552</td><td class="hits">116129</td><td class="source">	if(this._index &gt; this._sectionStart){</td></tr><tr class="hit"><td class="line">553</td><td class="hits">39847</td><td class="source">		this._cbs[name](this._buffer.substring(this._sectionStart, this._index));</td></tr><tr class=""><td class="line">554</td><td class="hits"></td><td class="source">	}</td></tr><tr class="hit"><td class="line">555</td><td class="hits">116165</td><td class="source">	this._sectionStart = -1;</td></tr><tr class=""><td class="line">556</td><td class="hits"></td><td class="source">};</td></tr><tr class=""><td class="line">557</td><td class="hits"></td><td class="source"></td></tr></tbody>
          </table>
        </div></div>
    </div>
  </body>
</html>
